(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"4bOq":function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r("wd/R"),_=r("TYT/"),a=r("SNVz"),o=r("NkHd"),i=r("rtiL"),c=r("SloE"),s=r("X5uw"),u=r("rCsC"),l=r("vmpY"),p=r("Valr");function m(e,t){if(1&e&&(_.ac(0,"div",13),_.ac(1,"p"),_.Oc(2,"\u5f37\u5236\u8b49\u865f"),_.Zb(),_.ac(3,"h5"),_.Oc(4),_.Zb(),_.Zb()),2&e){var r=_.lc();_.tc("nzLg",10)("nzXs",24),_.Db(4),_.Qc(" ",r.compulsoryNo," ")}}function d(e,t){if(1&e&&(_.ac(0,"div",13),_.ac(1,"p"),_.Oc(2,"\u4efb\u610f\u96aa\u4fdd\u55ae\u865f"),_.Zb(),_.ac(3,"h5"),_.Oc(4),_.Zb(),_.Zb()),2&e){var r=_.lc();_.tc("nzLg",12)("nzXs",24),_.Db(4),_.Pc(r.voluntaryNo)}}var g=function(){function e(e,t,r,n){this.autoWebServiceSvc=e,this.memberSvc=t,this.storage=r,this.loginSvc=n,this.time="",this.compulsoryNo="",this.voluntaryNo=""}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){if(e.response.currentValue){var t=new Date;this.time="\u6c11\u570b"+(Number(n(t).format("YYYY"))-1911)+"\u5e74"+n(t).format("MM")+"\u6708"+n(t).format("DD")+"\u65e5"+n(t).format("HH")+"\u6642"+n(t).format("mm")+"\u5206";var r=e.response.currentValue.policyTOs;if(r&&0!==r.length)for(var _ in r)"C"===r[_].policyType?this.compulsoryNo=r[_].policyNo:"V"===r[_].policyType&&(this.voluntaryNo=r[_].policyNo)}},e.\u0275fac=function(t){return new(t||e)(_.Ub(a.a),_.Ub(o.a),_.Ub(i.a),_.Ub(c.a))},e.\u0275cmp=_.Ob({type:e,selectors:[["app-complete-page"]],inputs:{response:"response"},features:[_.Bb],decls:25,vars:10,consts:[[3,"title","useTemplate"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-5","pb-3"],[1,"col-lg-8","col-12"],["nz-row","",1,"rectangle","mb-3"],["nz-col","",1,"umbrella",3,"nzLg","nzXs"],["nz-col","",3,"nzLg","nzXs"],["nz-row","",1,"px-3"],["nz-col","",2,"color","white","margin-top","58.5px",3,"nzSpan"],[2,"color","orange","font-size","20px"],["nz-col","","class","py-3",3,"nzLg","nzXs",4,"ngIf"],[1,"nanshan","my-2"],[1,"contactInfo","my-2"],["nz-col","",1,"py-3",3,"nzLg","nzXs"]],template:function(e,t){1&e&&(_.ac(0,"app-expansion-panel",0),_.ac(1,"panel-content"),_.ac(2,"div",1),_.ac(3,"div",2),_.Oc(4," \u6838\u4fdd\u4e26\u53d6\u5f97\u6263\u6b3e\u5b8c\u6210\u5f8c\u5c07\u4ee5\u7c21\u8a0a\u901a\u77e5\u60a8\uff0c\u96fb\u5b50\u4fdd\u96aa\u55ae\u3001\u96fb\u5b50\u5f0f\u5f37\u5236\u8b49\u5c07\u65bc\u4ea4\u6613\u65e5\u8d77\u56db\u500b\u5de5\u4f5c\u5929\u5167\u900f\u904eemail\u63d0\u4f9b\u7d66\u60a8\uff0c\u5982\u672a\u6536\u5230\u8acb\u6d3d\u672c\u516c\u53f8\u5ba2\u670d\u4e2d\u5fc3\u8fa6\u7406\uff0c\u8b1d\u8b1d\uff01 "),_.Zb(),_.ac(5,"div",3),_.ac(6,"div",4),_.Vb(7,"div",5),_.ac(8,"div",6),_.ac(9,"div",7),_.ac(10,"div",8),_.Oc(11," \u611f\u8b1d\u60a8\u9078\u64c7\u672c\u516c\u53f8\u6240\u63d0\u4f9b\u4e4b\u7db2\u8def\u6295\u4fdd\u670d\u52d9 "),_.Vb(12,"br"),_.Oc(13," \u60a8\u65bc "),_.ac(14,"span",9),_.Oc(15),_.Zb(),_.Oc(16," \u7533\u8acb\u6295\u4fdd\u4e4b\u4fdd\u96aa\u5951\u7d04 "),_.Zb(),_.Mc(17,m,5,3,"div",10),_.Mc(18,d,5,3,"div",10),_.Zb(),_.Zb(),_.Zb(),_.ac(19,"div",11),_.Oc(20," \u795d \u95d4\u5bb6\u5e73\u5b89 \u9806\u5fc3\u5982\u610f\uff01"),_.Vb(21,"br"),_.Oc(22," \u5357\u5c71\u7522\u7269\u4fdd\u96aa\u80a1\u4efd\u6709\u9650\u516c\u53f8 \u656c\u4e0a "),_.Zb(),_.ac(23,"div",12),_.Oc(24," \u8aee\u8a62\u96fb\u8a71\uff1a0800 020 060 \u63092 \uff08\u71df\u696d\u6642\u9593\uff1a\u65e9\u4e0a9:00 ~ \u4e0b\u5348 5:30\uff09 "),_.Zb(),_.Zb(),_.Zb(),_.Zb(),_.Zb()),2&e&&(_.tc("title","\u5b8c\u6210\u6295\u4fdd")("useTemplate",!0),_.Db(7),_.tc("nzLg",8)("nzXs",24),_.Db(1),_.tc("nzLg",16)("nzXs",24),_.Db(2),_.tc("nzSpan",24),_.Db(5),_.Pc(t.time),_.Db(2),_.tc("ngIf",t.compulsoryNo),_.Db(1),_.tc("ngIf",t.voluntaryNo))},directives:[s.a,u.a,l.c,l.a,p.n],styles:[".rectangle[_ngcontent-%COMP%]{border-radius:5px;box-shadow:2px 3px 50px 0 hsla(0,0%,48.2%,.5);background-image:linear-gradient(106deg,#30a8dc 10%,#0960b0 82%)}.nanshan[_ngcontent-%COMP%]{font-size:20px;font-weight:600;line-height:2;letter-spacing:.53px;color:#0081c6}.umbrella[_ngcontent-%COMP%]{background-image:url(protect_umbrella.1d3ff0b7d6cc993eebca.png);background-position:50%;background-repeat:no-repeat}@media only screen and (max-width:576px){.umbrella[_ngcontent-%COMP%]{height:150px;margin:30px auto}}p[_ngcontent-%COMP%]{color:#00e7ff}h5[_ngcontent-%COMP%]{color:#fff}"]}),e}()},"5Mzb":function(e,t,r){"use strict";r.d(t,"a",(function(){return ae}));var n=r("67Y/"),_=r("QJY3"),a=r("rtiL"),o=r("CLRB"),i=r("gC3R"),c=r("9rcF"),s=r("oqqH"),u=r("iDUo"),l=r("olDj"),p=r("wd/R"),m=r("TGh8"),d=(r("Gtm0"),r("27s7")),g=r("zPcl"),h=r("tYDu"),E=r("TYT/"),D=r("dFQ1"),b=r("ThRj"),f=r("nXN4"),O=r("/dic"),C=r("Ue4Y"),P=r("DUip"),v=r("SloE"),M=r("sOZc"),y=r("lEQb"),I=r("FJZc"),T=r("HHP6"),A=r("GgEC"),L=r("4J6Y"),S=r("NkHd"),U=r("fi4D"),R=r("+fJO"),k=r("X5uw"),B=r("rCsC"),w=r("/RLq"),W=r("vmpY"),K=r("2xHj"),F=r("Valr"),x=r("du9V"),z=r("MySR"),Z=r("G6CK"),V=r("apbf"),N=r("AzBT"),Y=r("Sh7c");function q(e,t){1&e&&(E.ac(0,"p",40),E.Oc(1," \u88ab\u4fdd\u96aa\u4eba\u56e0\u4f7f\u7528\u6216\u7ba1\u7406\u88ab\u4fdd\u96aa\u6c7d\u8eca\u767c\u751f\u4ea4\u901a\u4e8b\u6545\uff0c\u81f4\u4e58\u5ba2\u6216\u8eca\u5916\u7b2c\u4e09\u4eba\u50b7\u5bb3\u6216\u6b7b\u4ea1\u8005\uff0c\u4e0d\u8ad6\u88ab\u4fdd\u96aa\u4eba\u6709\u7121\u904e\u5931\uff0c\u672c\u516c\u53f8\u61c9\u4f9d\u672c\u4fdd\u96aa\u5951\u7d04\u4e4b\u7d04\u5b9a\uff0c\u5c0d\u8acb\u6c42\u6b0a\u4eba\u7d66\u4ed8\u4fdd\u96aa\u91d1\u3002 "),E.Zb())}function Q(e,t){if(1&e&&(E.Yb(0),E.ac(1,"div",33),E.Oc(2),E.Zb(),E.ac(3,"div",34),E.Oc(4),E.Zb(),E.ac(5,"div",22),E.Oc(6),E.Zb(),E.Xb()),2&e){var r=t.$implicit,n=t.index,_=E.lc().$implicit;E.Db(2),E.Qc(" ",0===n?_.title:""," "),E.Db(2),E.Qc(" ",r.description," "),E.Db(2),E.Qc(" ",r.options[0],"\u842c ")}}var j=function(e){return{disabled:e}},H=function(){return{standalone:!0}},X=function(){return{"min-width":"fit-content","max-width":"60vw"}};function G(e,t){if(1&e){var r=E.bc();E.ac(0,"div",16),E.ac(1,"div",17),E.ac(2,"div",18),E.ac(3,"label",19),E.ic("ngModelChange",(function(e){return E.Ec(r),E.lc().isInsur21Checked=e})),E.Oc(4),E.Zb(),E.Vb(5,"i",38),E.Mc(6,q,2,0,"ng-template",null,39,E.Nc),E.Zb(),E.Zb(),E.Mc(8,Q,7,3,"ng-container",35),E.Zb()}if(2&e){var n=t.$implicit,_=E.Cc(7),a=E.lc();E.tc("ngClass",E.xc(9,j,a.isInsur21Disabled||a.carStepsService.currentStep===a.carInsuranceSteps.step2_1)),E.Db(3),E.tc("nzValue",n.index)("ngModel",a.isInsur21Checked)("ngModelOptions",E.wc(11,H))("nzDisabled",a.isInsur21Disabled||a.carStepsService.currentStep===a.carInsuranceSteps.step2_1),E.Db(1),E.Qc(" ",n.title," "),E.Db(1),E.tc("nzTooltipTitle",_)("nzTooltipOverlayStyle",E.wc(12,X)),E.Db(3),E.tc("ngForOf",n.coverageList)}}function $(e,t){if(1&e&&(E.Yb(0),E.Vb(1,"nz-option",41),E.Xb()),2&e){var r=t.$implicit;E.Db(1),E.tc("nzValue",r)("nzLabel",r+"\u842c")}}function J(e,t){if(1&e&&(E.ac(0,"div",7),E.ac(1,"p",13),E.Oc(2,"\u5f37\u5236\u96aa\u4fdd\u96aa\u671f\u9593"),E.Zb(),E.ac(3,"span"),E.Oc(4),E.Zb(),E.ac(5,"span",44),E.Oc(6,"\u81f3 "),E.Zb(),E.ac(7,"span"),E.Oc(8),E.Zb(),E.Zb()),2&e){var r=E.lc(2);E.tc("nzSpan",24),E.Db(4),E.Qc("",r.displayEffectiveDate4CTPL,"\u4e2d\u534812\u6642 \u8d77"),E.Db(4),E.Qc("",r.displayExpiryDate4CTPL,"\u4e2d\u534812\u6642 \u6b62")}}function ee(e,t){if(1&e&&(E.ac(0,"div",7),E.ac(1,"p",13),E.Oc(2,"\u4efb\u610f\u96aa\u4fdd\u96aa\u671f\u9593"),E.Zb(),E.ac(3,"span"),E.Oc(4),E.Zb(),E.ac(5,"span",44),E.Oc(6,"\u81f3 "),E.Zb(),E.ac(7,"span"),E.Oc(8),E.Zb(),E.Zb()),2&e){var r=E.lc(2);E.tc("nzSpan",24),E.Db(4),E.Qc("",r.displayEffectiveDate4Voluntary,"\u4e2d\u534812\u6642 \u8d77"),E.Db(4),E.Qc("",r.displayExpiryDate4Voluntary,"\u4e2d\u534812\u6642 \u6b62")}}function te(e,t){if(1&e&&(E.ac(0,"div",42),E.Mc(1,J,9,3,"div",43),E.Mc(2,ee,9,3,"div",43),E.Zb()),2&e){var r=E.lc();E.Db(1),E.tc("ngIf",r.isCompulsoryPeriodShow),E.Db(1),E.tc("ngIf",r.isVoluntaryPeriodShow)}}function re(e,t){if(1&e&&(E.ac(0,"p",50),E.Oc(1," \u53c3\u8003\u4fdd\u96aa\u8cbb "),E.ac(2,"span",54),E.Oc(3),E.mc(4,"currency"),E.Zb(),E.Zb()),2&e){var r=E.lc(2);E.Db(3),E.Qc("\u65b0\u53f0\u5e63",E.qc(4,1,r.premium," ","symbol","1.0"),"\u5143")}}function ne(e,t){if(1&e&&(E.ac(0,"p",50),E.Oc(1," \u5f37\u5236\u96aa\u512a\u60e0 "),E.ac(2,"span",54),E.Oc(3),E.mc(4,"currency"),E.Zb(),E.Zb()),2&e){var r=E.lc(2);E.Db(3),E.Qc("\u65b0\u53f0\u5e63",E.qc(4,1,r.discountAmount," ","symbol","1.0"),"\u5143 ")}}function _e(e,t){if(1&e){var r=E.bc();E.ac(0,"app-expansion-panel",45),E.ac(1,"panel-content"),E.ac(2,"div",46),E.Vb(3,"div",47),E.ac(4,"div",4),E.ac(5,"div",46),E.ac(6,"div",48),E.ac(7,"div"),E.Mc(8,re,5,6,"p",49),E.Mc(9,ne,5,6,"p",49),E.ac(10,"p",50),E.Oc(11,"\u512a\u60e0\u5f8c\u4fdd\u96aa\u8cbb"),E.Zb(),E.ac(12,"p",51),E.Oc(13),E.mc(14,"currency"),E.Zb(),E.Zb(),E.Zb(),E.ac(15,"div",52),E.ac(16,"button",53),E.ic("click",(function(){return E.Ec(r),E.lc().onSubmitClick("","recalculate")})),E.Oc(17," \u91cd\u65b0\u8a08\u7b97 "),E.Zb(),E.Zb(),E.Zb(),E.Zb(),E.Zb(),E.Zb(),E.Zb()}if(2&e){var n=E.lc();E.tc("title","\u4fdd\u8cbb\u8a66\u7b97"),E.Db(8),E.tc("ngIf",n.discountAmount>0),E.Db(1),E.tc("ngIf",n.discountAmount>0),E.Db(4),E.Qc(" \u65b0\u53f0\u5e63",E.qc(14,6,n.premium-n.discountAmount," ","symbol","1.0"),"\u5143 "),E.Db(3),E.Kb("d-none",n.carStepsService.currentStep===n.carInsuranceSteps.step2_1)}}var ae=function(){function e(e,t,r,n,_,a,o,c,s,u,l,p,m,d,g,h,E,D,b){this.carStepsService=e,this.storage=t,this.parentF=r,this.networkingService=n,this.formBuilder=_,this.insuranceFactory=a,this.message=o,this.productPopupMsgService=c,this.router=s,this.loginService=u,this.tiiService=l,this.piiLogSvc=p,this.systemQuotationService=m,this.underwritingWebService=d,this.saveQuoteInService=g,this.autoMiscWebService=h,this.memberSvc=E,this.commissionContractService=D,this.salesChannelService=b,this.keys=i.a,this.insur31={},this.insur32={},this.insur93={},this.insur39={},this.insuranceIndexArray=[],this.isInsur21Checked=!1,this.isInsur31Checked=!1,this.isInsur32Checked=!1,this.isInsur93Checked=!1,this.isInsur39Checked=!1,this.insur31SumAssured_1="100",this.insur31SumAssured_2="200",this.insur32SumAssured="20",this.insur39SumAssuredOptions=["500","1000"],this.invalidAge=!1,this.invalidbodyType=!1,this.invalidRatingLevel=!1,this.validateInsuranceEffDate_com=!1,this.validateInsuranceEffDate_vol=!1,this.validateInsuranceEffDate_insur21=!1,this.validateInsuranceEffDate_insur31=!1,this.validateInsuranceEffDate_insur32=!1,this.validateInsuranceEffDate_insur93=!1,this.validateInsuranceEffDate_insur39=!1,this.checkProductByDob_vol=!1,this.checkProductByDob_insur31=!1,this.checkProductByDob_insur32=!1,this.checkProductByDob_insur93=!1,this.checkProductByDob_insur39=!1,this.checkProductByVehicle_vol=!1,this.checkProductByVehicle_insur31=!1,this.checkProductByVehicle_insur32=!1,this.checkProductByVehicle_insur93=!1,this.checkProductByVehicle_insur39=!1,this.checkProductByRatingLevel_vol=!1,this.checkProductByRatingLevel_insur31=!1,this.checkProductByRatingLevel_insur32=!1,this.checkProductByRatingLevel_insur93=!1,this.checkProductByRatingLevel_insur39=!1,this.onPeriodChange_insur32=!1,this.onPeriodChange_insur93=!1,this.onPeriodChange_insur39=!1,this.premium=0,this.discountAmount=0,this.isCompulsoryPeriodShow=!1,this.isVoluntaryPeriodShow=!1,this.isNeedRecaculate=!1,this.popupMsg5Alert=!1,this.maxClaimAmountOver30w=!1}return Object.defineProperty(e.prototype,"trialForm",{get:function(){return this.policyForm.get(o.a.trialForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoratingForm",{get:function(){return this.policyForm.get(o.a.autoratingForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coverages",{get:function(){return this.autoratingForm.get(i.a.coverages)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentStep",{get:function(){return this.carStepsService.currentStep},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"carInsuranceSteps",{get:function(){return c.a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCompulsoryDisabled",{get:function(){return this.validateInsuranceEffDate_com},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInsur21Disabled",{get:function(){return this.validateInsuranceEffDate_insur21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVoluntaryDisabled",{get:function(){return this.validateInsuranceEffDate_vol||this.checkProductByDob_vol||this.checkProductByVehicle_vol||this.checkProductByRatingLevel_vol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInsur31Disabled",{get:function(){return this.validateInsuranceEffDate_insur31||this.checkProductByDob_insur31||this.checkProductByVehicle_insur31||this.checkProductByRatingLevel_insur31},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInsur32Disabled",{get:function(){return this.validateInsuranceEffDate_insur32||this.checkProductByDob_insur32||this.checkProductByVehicle_insur32||this.checkProductByRatingLevel_insur32||this.onPeriodChange_insur32},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInsur93Disabled",{get:function(){return this.validateInsuranceEffDate_insur93||this.checkProductByDob_insur93||this.checkProductByVehicle_insur93||this.checkProductByRatingLevel_insur93||this.onPeriodChange_insur93},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInsur39Disabled",{get:function(){return this.validateInsuranceEffDate_insur39||this.checkProductByDob_insur39||this.checkProductByVehicle_insur39||this.checkProductByRatingLevel_insur39||this.onPeriodChange_insur39},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.policyForm=this.parentF.form,this.setAutoratingForm(),this.getCompulsoryInsurance(),this.getVoluntaryInsurance()},e.prototype.initData=function(){this.insureDate=this.storage.getData("insureDate",a.b.SESSION),this.isInsur21Checked=!1,this.isInsur31Checked=!1,this.isInsur32Checked=!1,this.isInsur93Checked=!1,this.isInsur39Checked=!1,this.insuranceIndexArray=[],this.insur31SumAssured_1="100",this.insur31SumAssured_2="200",this.insur32SumAssured="20",this.insur39SumAssured="",this.isCompulsoryPeriodShow=!1,this.isVoluntaryPeriodShow=!1,this.premium=0,this.discountAmount=0,this.isNeedRecaculate=!1,this.popupMsg5Alert=!1,this.setAutoratingFormValue(),this.validateInsuranceEffDate(),this.checkProductByDob(),this.checkProductByRatingLevel(),this.checkProductByVehicle(),this.messageAlert()},e.prototype.setAutoratingForm=function(){var e,t;this.autoratingForm.addControl(i.a.months,new _.g("12")),this.autoratingForm.addControl(i.a.effDate4Ctpl,new _.g(p().format("YYYY-MM-DD 12:00:00"))),this.autoratingForm.addControl(i.a.effDate,new _.g(p().format("YYYY-MM-DD 12:00:00"))),this.autoratingForm.addControl(i.a.coverages,new _.d([])),this.autoratingForm.addControl(i.a.insured,new _.j(((e={})[d.a.sex]=new _.g(""),e[d.a.dob]=new _.g(""),e[d.a.personType]=new _.g("1"),e[d.a.tplLevel]=new _.g(""),e[d.a.ctplLevel]=new _.g(""),e[d.a.ratingPoint]=new _.g(""),e))),this.autoratingForm.addControl(i.a.insuredObj,new _.j(((t={})[g.a.carType]=new _.g(""),t[g.a.manufactureYear]=new _.g(""),t[g.a.modelCode]=new _.g(""),t)))},e.prototype.setAutoratingFormValue=function(){var e=this.autoratingForm.get(i.a.insured),t=this.autoratingForm.get(i.a.insuredObj),r=this.saveQuoteInService.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerInsuredTo(),n=r.ratingPoint,_=r.ratingLevel4Ctpl,a=r.ratingLevel4Tpl,o=this.autoratingForm.get(i.a.months);e.get(d.a.sex).patchValue(this.trialForm.get(l.a.gender).value),e.get(d.a.dob).patchValue(p(this.trialForm.get(l.a.dob).value).format("YYYY/MM/DD")),e.get(d.a.ratingPoint).patchValue(n),e.get(d.a.ctplLevel).patchValue(_),e.get(d.a.tplLevel).patchValue(a),t.get(g.a.carType).patchValue(this.trialForm.get(l.a.bodyTypeCode).value),t.get(g.a.manufactureYear).patchValue(String(this.trialForm.get(l.a.manufactureYear).value)),t.get(g.a.modelCode).patchValue(this.trialForm.get(l.a.makeCode).value),this.isCompulsoryDisabled||this.isInsur21Disabled?(o.patchValue("12"),o.disable()):o.enable()},e.prototype.getCompulsoryInsurance=function(){var e=this;this.networkingService.getJSONfile("assets/json/compulsory-insurance.json").subscribe((function(t){e.compulsoryList=t.data.moto}))},e.prototype.getVoluntaryInsurance=function(){var e=this;this.networkingService.getJSONfile("assets/json/voluntary-insurance.json").subscribe((function(t){e.voluntaryList=t.data.car,e.insur31=e.voluntaryList[0],e.insur93=e.voluntaryList[1],e.insur39=e.voluntaryList[2]}))},e.prototype.claimAmountOver30w=function(){var e=this;return this.tiiService.queryIS13I(this.trialForm.get(l.a.plateNo).value,this.trialForm.get(l.a.taxId).value.toUpperCase()).pipe(Object(n.a)((function(t){if(t&&t.group1&&t.group1Size>0){var r=t.group1.filter((function(e){return p(e.expiryDate).format("YYYY")===p().add(-1,"years").format("YYYY")})).map((function(e){return e.group2})),n=[];r.forEach((function(e){e.filter((function(e){return p(e.claimDate).format("YYYY")===p().add(-1,"years").format("YYYY")})).forEach((function(e){n.push(e.claimAmount+e.claimAmountPending)}))})),e.maxClaimAmountOver30w=!!n.filter((function(e){return e>3e5})).length}else e.maxClaimAmountOver30w=!1})))},e.prototype.validateInsuranceEffDate=function(){var e=this.insureDate.expiryDate4Voluntary,t=this.insuranceFactory.getCaculateExpiryDays(this.insureDate.expiryDate4CTPL),r=this.insuranceFactory.getCaculateExpiryDays(e);t<90&&r>=90?(this.validateInsuranceEffDate_com=!1,this.validateInsuranceEffDate_vol=!0,this.validateInsuranceEffDate_insur31=!0,this.validateInsuranceEffDate_insur32=!0,this.validateInsuranceEffDate_insur93=!0,this.validateInsuranceEffDate_insur39=!0):t>=90&&(!r||r<90)?(this.validateInsuranceEffDate_com=!0,this.validateInsuranceEffDate_vol=!1,this.validateInsuranceEffDate_insur31=!1,this.validateInsuranceEffDate_insur32=!1,this.validateInsuranceEffDate_insur93=!1,this.validateInsuranceEffDate_insur39=!1,this.validateInsuranceEffDate_insur21=!0):t>=90&&r>=90?(this.validateInsuranceEffDate_com=!0,this.validateInsuranceEffDate_vol=!0,this.validateInsuranceEffDate_insur31=!0,this.validateInsuranceEffDate_insur32=!0,this.validateInsuranceEffDate_insur93=!0,this.validateInsuranceEffDate_insur39=!0):(this.validateInsuranceEffDate_com=!1,this.validateInsuranceEffDate_vol=!1,this.validateInsuranceEffDate_insur21=!1,this.validateInsuranceEffDate_insur31=!1,this.validateInsuranceEffDate_insur32=!1,this.validateInsuranceEffDate_insur93=!1,this.validateInsuranceEffDate_insur39=!1)},e.prototype.checkProductByDob=function(){var e=p(this.trialForm.get(l.a.dob).value),t=p().diff(e,"years");t<21||t>=70?(this.invalidAge=!0,this.checkProductByDob_vol=!0,this.checkProductByDob_insur31=!0,this.checkProductByDob_insur32=!0,this.checkProductByDob_insur93=!0,this.checkProductByDob_insur39=!0):(this.invalidAge=!1,this.checkProductByDob_vol=!1,this.checkProductByDob_insur31=!1,this.checkProductByDob_insur32=!1,this.checkProductByDob_insur93=!1,this.checkProductByDob_insur39=!1)},e.prototype.messageAlert=function(){var e=this.insureDate.expiryDate4CTPL,t=this.insureDate.expiryDate4Voluntary;!1===this.isCompulsoryDisabled&&!0===this.isVoluntaryDisabled?this.invalidAge||this.invalidbodyType||this.invalidRatingLevel?(this.invalidAge&&this.message.alert(this.productPopupMsgService.popupMsg10()),this.invalidRatingLevel&&this.message.alert(this.productPopupMsgService.popupMsg7()),this.invalidbodyType&&this.message.alert(this.productPopupMsgService.popupMsg12())):this.message.alert(this.productPopupMsgService.popupMsgCar2(t)):!0===this.isCompulsoryDisabled&&!1===this.isVoluntaryDisabled?this.message.alert(this.productPopupMsgService.popupMsgCar1(e)):!0===this.isCompulsoryDisabled&&!0===this.isVoluntaryDisabled&&this.message.alert(this.productPopupMsgService.popupMsgCar3(e,t))},e.prototype.checkProductByVehicle=function(){this.trialForm.get(l.a.bodyTypeCode),this.checkProductByVehicle_vol=!1,this.checkProductByVehicle_insur31=!1,this.checkProductByVehicle_insur32=!1,this.checkProductByVehicle_insur93=!1,this.checkProductByVehicle_insur39=!1,this.invalidbodyType=!1},e.prototype.checkProductByRatingLevel=function(){var e=this.saveQuoteInService.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerInsuredTo().ratingLevel4Tpl,t=this.saveQuoteInService.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerInsuredTo().maxClaimAmount,r=this.saveQuoteInService.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerInsuredTo().rateUpIndicator;e>=9||t>3e5||"01"===r?(this.checkProductByRatingLevel_vol=!0,this.checkProductByRatingLevel_insur31=!0,this.checkProductByRatingLevel_insur32=!0,this.checkProductByRatingLevel_insur93=!0,this.checkProductByRatingLevel_insur39=!0,this.invalidRatingLevel=!0):(this.checkProductByRatingLevel_vol=!1,this.checkProductByRatingLevel_insur31=!1,this.checkProductByRatingLevel_insur32=!1,this.checkProductByRatingLevel_insur93=!1,this.checkProductByRatingLevel_insur39=!1,this.invalidRatingLevel=!1)},e.prototype.prepairUWObj=function(){var e=this.trialForm.get("manufactureYM").value;2!==e.slice(e.indexOf("-")+1).length&&(e=e.slice(0,e.indexOf("-")+1)+"0"+e.slice(-1));var t=p(e).format("YYYYMM"),r=this.trialForm.getRawValue()[l.a.noOfSeats],n={effectiveDate:this.effectiveDate4Voluntary,effectiveDate4Ctpl:this.effectiveDate4CTPL},_={expiryDate:this.expiryDate4Voluntary,expiryDate4Ctpl:this.expiryDate4CTPL};this.UnderWriteReqObj=h.a.createAfterAutoRating(this.saveQuoteInService.saveQuoteIn.getQuoteInfoTO(),this.coverages.getRawValue(),t,r,n,_,this.trialForm)},e.prototype.underwritingPreCheck=function(){return this.underwritingWebService.callUnderwritingPreCheck(this.UnderWriteReqObj)},e.prototype.underwriting=function(e){var t=this;this.underwritingWebService.callUnderwriting(this.UnderWriteReqObj).subscribe((function(r){r?e():t.message.alert("\u60a8\u7684\u6838\u4fdd\u672a\u901a\u904e\uff0c\u672c\u6b21\u5c07\u7121\u6cd5\u9032\u884c\u6295\u4fdd\u3002").afterClose.subscribe((function(){t.router.navigateByUrl("html/car-insurance")}))}))},e.prototype.calculatePeriod=function(){var e,t,r=this.autoratingForm.get(i.a.months).value,n=p(this.insureDate.expectedEffectiveDate4CTPL).format("YYYY/MM/DD HH:mm:ss"),_=p(p(this.insureDate.expectedEffectiveDate4CTPL).add(Number(r)/12,"years")).format("YYYY/MM/DD HH:mm:ss");"12"===r?(e=this.insureDate.expectedEffectiveDate4Voluntary?p(this.insureDate.expectedEffectiveDate4Voluntary):p(),t=this.insureDate.expectedEffectiveDate4Voluntary?p(this.insureDate.expectedEffectiveDate4Voluntary).add(1,"years"):p().add(1,"years")):"24"===r&&(e=this.insureDate.expectedEffectiveDate4Voluntary?p(this.insureDate.expectedEffectiveDate4Voluntary):p(),t=this.insureDate.expectedEffectiveDate4Voluntary?p(this.insureDate.expectedEffectiveDate4Voluntary).add(2,"years"):p().add(2,"years")),this.effectiveDate4CTPL=n,this.expiryDate4CTPL=_,this.effectiveDate4Voluntary=e,this.expiryDate4Voluntary=t,this.displayEffectiveDate4CTPL=Object(m.a)(p(n).format("YYYYMMDD")),this.displayExpiryDate4CTPL=Object(m.a)(p(_).format("YYYYMMDD")),this.displayEffectiveDate4Voluntary=Object(m.a)(p(e).format("YYYYMMDD")),this.displayExpiryDate4Voluntary=Object(m.a)(p(t).format("YYYYMMDD"));var a=this.autoratingForm.get(i.a.effDate4Ctpl),o=this.autoratingForm.get(i.a.effDate);this.autoratingForm.get(i.a.expDate),a.patchValue(p(n).format("YYYY/MM/DD 12:00:00")),o.patchValue(p(e).format("YYYY/MM/DD 12:00:00"))},e.prototype.productChange=function(e){var t=this;!e||1!==e.length||"21"!==e[0]||this.isVoluntaryDisabled||this.popupMsg5Alert||this.message.alert(this.productPopupMsgService.popupMsg5()).afterClose.subscribe((function(){t.popupMsg5Alert=!0})),this.isInsur21Disabled||this.isInsur21Checked||this.isVoluntaryDisabled||0===e.length?this.isInsur31Checked||!this.isInsur93Checked&&!this.isInsur39Checked?this.isInsur39Checked&&(Number(this.insur31SumAssured_1)<200||Number(this.insur31SumAssured_2)<200)?this.message.alert("\u7b2c\u4e09\u4eba\u8cac\u4efb\u4fdd\u96aa\u4fdd\u984d\u9700\u8d85\u904e(\u542b)200\u842c\u65b9\u80fd\u6295\u4fdd\u3002").afterClose.subscribe((function(){t.isInsur39Checked=!1,e&&e.find((function(e){return"31"===e}))&&!e.find((function(e){return"32"===e}))?e.push("32"):e&&!e.find((function(e){return"31"===e}))&&e.find((function(e){return"32"===e}))&&e.splice(e.findIndex((function(e){return"32"===e})),1),-1!==e.findIndex((function(e){return"39"===e}))&&e.splice(e.findIndex((function(e){return"39"===e})),1),t.insuranceIndexArray=e,t.isCaculateResultShow&&(t.isNeedRecaculate=!0)})):(e&&e.find((function(e){return"31"===e}))&&!e.find((function(e){return"32"===e}))?e.push("32"):e&&!e.find((function(e){return"31"===e}))&&e.find((function(e){return"32"===e}))&&e.splice(e.findIndex((function(e){return"32"===e})),1),this.insuranceIndexArray=e,this.isCaculateResultShow&&(this.isNeedRecaculate=!0)):this.message.alert("\u9700\u8207\u7b2c\u4e09\u4eba\u8cac\u4efb\u4fdd\u96aa\u4e00\u8d77\u52fe\u9078\u65b9\u80fd\u6295\u4fdd\u3002").afterClose.subscribe((function(){t.isInsur93Checked=!1,t.isInsur39Checked=!1,e&&e.find((function(e){return"31"===e}))&&!e.find((function(e){return"32"===e}))?e.push("32"):e&&!e.find((function(e){return"31"===e}))&&e.find((function(e){return"32"===e}))&&e.splice(e.findIndex((function(e){return"32"===e})),1),-1!==e.findIndex((function(e){return"93"===e}))&&e.splice(e.findIndex((function(e){return"93"===e})),1),-1!==e.findIndex((function(e){return"39"===e}))&&e.splice(e.findIndex((function(e){return"39"===e})),1),t.insuranceIndexArray=e,t.isCaculateResultShow&&(t.isNeedRecaculate=!0)})):this.message.alert(this.productPopupMsgService.popupMsg9()).afterClose.subscribe((function(){t.isInsur31Checked=!1,t.isInsur32Checked=!1,t.isInsur93Checked=!1,t.isInsur39Checked=!1,e&&e.find((function(e){return"31"===e}))&&!e.find((function(e){return"32"===e}))?e.push("32"):e&&!e.find((function(e){return"31"===e}))&&e.find((function(e){return"32"===e}))&&e.splice(e.findIndex((function(e){return"32"===e})),1),-1!==e.findIndex((function(e){return"93"===e}))&&e.splice(e.findIndex((function(e){return"93"===e})),1),-1!==e.findIndex((function(e){return"39"===e}))&&e.splice(e.findIndex((function(e){return"39"===e})),1),t.insuranceIndexArray=e,t.isCaculateResultShow&&(t.isNeedRecaculate=!0)}))},e.prototype.onSelectChange=function(e){var t=this;if(this.isInsur21Disabled||this.isInsur21Checked||this.isVoluntaryDisabled){if(e===s.a.Insur31){switch(this.isInsur32Checked=!0,this.insuranceIndexArray.includes(s.a.Insur31)||this.insuranceIndexArray.push(s.a.Insur31),this.insur31SumAssured_1){case"100":this.insur31SumAssured_2="200",this.insur32SumAssured="20";break;case"200":this.insur31SumAssured_2="400",this.insur32SumAssured="50",this.insur39SumAssuredOptions=["500","1000"],this.insur39SumAssured="500";break;case"300":this.insur31SumAssured_2="600",this.insur32SumAssured="50",this.insur39SumAssuredOptions=["500"],this.insur39SumAssured="500"}Number(this.insur31SumAssured_1)<200&&(this.isInsur39Checked=!1,this.insur39SumAssured="",delete this.insuranceIndexArray[this.insuranceIndexArray.indexOf(s.a.Insur39)])}else if(e===s.a.Insur39){if(this.isInsur39Checked=!0,Number(this.insur31SumAssured_1)<200||Number(this.insur31SumAssured_2)<200)return void this.message.alert("\u7b2c\u4e09\u4eba\u8cac\u4efb\u4fdd\u96aa\u4fdd\u984d\u9700\u8d85\u904e(\u542b)200\u842c\u65b9\u80fd\u6295\u4fdd\u3002").afterClose.subscribe((function(){t.isInsur39Checked=!1,t.insur39SumAssured=""}));this.insuranceIndexArray.includes(s.a.Insur39)||this.insuranceIndexArray.push(s.a.Insur39)}this.isCaculateResultShow&&(this.isNeedRecaculate=!0)}else this.message.alert(this.productPopupMsgService.popupMsg9()).afterClose.subscribe((function(){t.isInsur31Checked=!1,t.isInsur32Checked=!1,t.isInsur93Checked=!1,t.isInsur39Checked=!1,t.insur31SumAssured_1="100",t.insur31SumAssured_2="200",t.insur32SumAssured="20"}))},e.prototype.generateAutoToList=function(){var e=Array(),t=p(new Date(this.effectiveDate4CTPL)).format("YYYY-MM-DD"),r=p(new Date(this.expiryDate4CTPL)).format("YYYY-MM-DD"),n=p(new Date(this.effectiveDate4Voluntary)).format("YYYY-MM-DD"),_=p(new Date(this.expiryDate4Voluntary)).format("YYYY-MM-DD"),a=this.autoratingForm.get(i.a.insured),o={taxId:this.trialForm.get(l.a.taxId).value,dob:p(new Date(a.get(d.a.dob).value)).format("YYYY-MM-DD"),ratingPoint:a.get(d.a.ratingPoint).value,sex:a.get(d.a.sex).value,personType:a.get(d.a.personType).value,tplLevel:a.get(d.a.tplLevel).value,ctplLevel:a.get(d.a.ctplLevel).value},c=(this.autoratingForm.get(i.a.insuredObj),this.autoratingForm.get(i.a.insuredObj)),s=Number(this.trialForm.get(l.a.reg_year).value)+1911,u=this.trialForm.get(l.a.reg_month).value,m=this.trialForm.get(l.a.reg_day).value,h={carType:c.get(g.a.carType).value,modelCode:c.get(g.a.modelCode).value,manufactureYear:this.trialForm.get(l.a.manufactureYear).value,noOfSeats:String(this.trialForm.getRawValue()[l.a.noOfSeats]),issueDate:p(new Date(s+"/"+u+"/"+m)).format("YYYY-MM-DD"),origin:this.trialForm.getRawValue()[l.a.makeType]},E=[],D=[];this.coverages.getRawValue().forEach((function(e){var t;(t="21"===e.productId?{productId:e.productId}:"31"===e.productId?{productId:e.productId,sumAssured:e.insuranceAmount.split(",")[0],multiple:2}:{productId:e.productId,sumAssured:e.insuranceAmount}).sumAssured&&(t.sumAssured=t.sumAssured.split(",").map((function(e){return 1e4*Number(e)})).join(",")),"21"===e.productId?E.push(t):D.push(t)}));var b={insuredObjReq:h,effDate:n,expDate:_,coveragesReq:D,insuredReq:o,channelCode:"40",campaignCode:""};return e.push({insuredObjReq:h,effDate:t,expDate:r,coveragesReq:E,insuredReq:o,channelCode:"40",campaignCode:""}),e.push(b),e},e.prototype.onSubmitClick=function(e,t){var r=this;if(this.autoratingForm.get(i.a.months).value)if(0!==this.insuranceIndexArray.length){var n=!0;if(this.insuranceIndexArray.forEach((function(e){if(e===s.a.Insur31){if(!(r.insur31SumAssured_1&&r.insur31SumAssured_2&&r.insur32SumAssured))return r.message.alert("\u8acb\u9078\u64c7\u7b2c\u4e09\u4eba\u8cac\u4efb\u4fdd\u96aa\u4fdd\u984d\u3002"),void(n=!1);n=!0}if(e===s.a.Insur39){if(!r.isInsur39Disabled&&!r.insur39SumAssured)return r.message.alert("\u8acb\u9078\u64c7\u8d85\u984d\u8cac\u4efb\u9644\u52a0\u689d\u6b3e(\u7d93\u6fdf\u578b)\u4fdd\u984d\u3002"),void(n=!1);n=!0}})),n){this.calculatePeriod(),this.coverages.clear(),this.insuranceIndexArray.forEach((function(e){if(e===s.a.Insur31){var t=r.insuranceFactory.getCarInsurance(e,n=[r.insur31SumAssured_1,r.insur31SumAssured_2,r.insur32SumAssured]).getCoveraveAutoRating();r.insuranceFactory.insurance31=r.insuranceFactory.getCarInsurance(e,n),t.forEach((function(e){r.coverages.push(r.formBuilder.group(e))}))}else if(e===s.a.Insur39){var n;r.coverages.push(r.formBuilder.group(r.insuranceFactory.getCarInsurance(e,n=r.insur39SumAssured).getCoveraveAutoRating()))}else{if(!r.insuranceFactory.getCarInsurance(e))return;r.coverages.push(r.formBuilder.group(r.insuranceFactory.getCarInsurance(e).getCoveraveAutoRating()))}console.log(r.coverages)})),this.isCompulsoryPeriodShow=!1,this.isVoluntaryPeriodShow=!1,this.insuranceIndexArray.forEach((function(e){e===s.a.Insur21?r.isCompulsoryPeriodShow=!0:r.isVoluntaryPeriodShow=!0})),this.isNeedRecaculate&&(this.isNeedRecaculate=!1),"recalculate"===t?this.piiLogSvc.callECPiilog(["BASE DATA INPUT"],u.a.RECALCULATE,this.trialForm.get(l.a.taxId).value.toUpperCase()).subscribe():this.isCaculateResultShow||this.piiLogSvc.callECPiilog(["BASE DATA INPUT"],u.a.COVERAGES_DATA,this.trialForm.get(l.a.taxId).value.toUpperCase()).subscribe();var _=this.generateAutoToList();this.prepairUWObj(),this.underwritingPreCheck().subscribe((function(t){t?r.commissionContractService.callSearchByProducerCode("0611118",r.saveQuoteInService.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getChannelSourceCode()).subscribe((function(t){r.salesChannelService.callChannelSource(t).subscribe((function(t){r.systemQuotationService.callAutoRatingService(_,t.campaignCode).subscribe((function(t){var n=t;r.premium=0,r.discountAmount=0,n.forEach((function(e){r.discountAmount+=e.discountAmount,r.premium+=e.premium})),r.storage.store("discountamount",r.discountAmount,a.b.SESSION),r.storage.store("premium",r.premium,a.b.SESSION),r.underwriting((function(){e&&e()}))}))}))})):r.message.alert("\u60a8\u7684\u6838\u4fdd\u672a\u901a\u904e\uff0c\u672c\u6b21\u5c07\u7121\u6cd5\u9032\u884c\u6295\u4fdd\u3002").afterClose.subscribe((function(){r.router.navigateByUrl("html/car-insurance")}))}))}}else this.message.alert("\u8acb\u9078\u64c7\u5546\u54c1\u5167\u5bb9\u3002");else this.message.alert("\u8acb\u9078\u64c7\u4fdd\u96aa\u671f\u9593\u3002")},e.\u0275fac=function(t){return new(t||e)(E.Ub(D.a),E.Ub(a.a),E.Ub(_.k),E.Ub(b.b),E.Ub(_.f),E.Ub(f.a),E.Ub(O.a),E.Ub(C.a),E.Ub(P.g),E.Ub(v.a),E.Ub(M.a),E.Ub(y.a),E.Ub(I.a),E.Ub(T.a),E.Ub(A.a),E.Ub(L.a),E.Ub(S.a),E.Ub(U.a),E.Ub(R.a))},e.\u0275cmp=E.Ob({type:e,selectors:[["app-insurance-product"]],inputs:{isCaculateResultShow:"isCaculateResultShow",isRenew:"isRenew"},decls:82,vars:50,consts:[[3,"title","headerHint","useTemplate"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-lg-5","px-3","pb-3"],[1,"text-orange","header-hint"],[1,"col-lg-8","col-12"],["nz-form","","nzLayout","vertical","nzNoColon","true",3,"formGroup"],["nz-row",""],["nz-col","",3,"nzSpan"],["nzFor",""],[1,"large-radio-label"],[3,"nzOnChange"],[1,"row","no-gutters"],[1,"col-6"],[1,"text-blue"],[1,"text-blue","d-none","d-md-block","text-right"],["class","row no-gutters text-black",3,"ngClass",4,"ngFor","ngForOf"],[1,"row","no-gutters","text-black",3,"ngClass"],[1,"col-12","product-title","py-2"],[1,"d-flex","align-items-center"],["nz-checkbox","",3,"nzValue","ngModel","ngModelOptions","nzDisabled","ngModelChange"],[1,"col-lg-6","col-md-5","col-12","py-2","d-flex","align-items-center"],[1,"col-md-4","col-10","py-2","d-flex","align-items-center"],[1,"col-lg-2","col-md-3","col-2","py-2","text-right","text-blue"],[3,"ngModel","ngModelOptions","nzDisabled","ngModelChange"],["nzValue","100","nzLabel","100\u842c"],["nzValue","200","nzLabel","200\u842c"],["nzValue","300","nzLabel","300\u842c"],[1,"col-lg-6","col-md-5","col-4"],["nzValue","400","nzLabel","400\u842c"],["nzValue","600","nzLabel","600\u842c"],["nzValue","20","nzLabel","20\u842c"],["nzValue","30","nzLabel","30\u842c"],["nzValue","50","nzLabel","50\u842c"],[1,"col-lg-6","col-md-5","col-12","py-2"],[1,"col-md-4","col-10","py-2"],[4,"ngFor","ngForOf"],["nz-row","","class","showData mt-5",4,"ngIf"],["class","trial-result-panel",3,"title",4,"ngIf"],["nz-icon","","nzType","question-circle","nzTheme","fill","nz-tooltip","",1,"popup-icon",2,"color","#f5a623",3,"nzTooltipTitle","nzTooltipOverlayStyle"],["product_21",""],[2,"margin","0"],[3,"nzValue","nzLabel"],["nz-row","",1,"showData","mt-5"],["nz-col","",3,"nzSpan",4,"ngIf"],[1,"d-block","d-lg-inline"],[1,"trial-result-panel",3,"title"],[1,"row"],[1,"col-lg-3","col-12","px-5"],[1,"col-md-7","col-12","d-flex","align-items-center","justify-content-center"],["class","text-white",4,"ngIf"],[1,"text-white"],[1,"text-white","discount-premium"],[1,"col-md-5","col-12","d-flex","align-items-center","justify-content-center"],["nz-button","","nzType","primary","nzShape","round",1,"re-calculate-btn",3,"click"],[2,"font-size","20px","margin","0"]],template:function(e,t){1&e&&(E.ac(0,"app-expansion-panel",0),E.ac(1,"panel-content"),E.ac(2,"div",1),E.ac(3,"div",2),E.ac(4,"p",3),E.Oc(5," \u4ee5\u4e0b\u6b04\u4f4d\u5747\u70ba\u5fc5\u586b\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\u3002 "),E.Zb(),E.ac(6,"span"),E.Oc(7,"\u8981\u4fdd\u96aa\u4eba\u8207\u884c\u7167\u8eca\u4e3b\u53ca\u6301\u5361\u4eba\u9700\u70ba\u540c\u4e00\u4eba\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u53ca\u884c\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\uff0c\u8b1d\u8b1d\uff01"),E.Zb(),E.Zb(),E.ac(8,"div",4),E.ac(9,"form",5),E.ac(10,"div",6),E.ac(11,"div",7),E.ac(12,"nz-form-item"),E.ac(13,"nz-form-label",8),E.Oc(14,"\u4fdd\u96aa\u671f\u9593"),E.Zb(),E.ac(15,"label",9),E.Oc(16,"\u4e00\u5e74\u671f"),E.Zb(),E.Zb(),E.Zb(),E.Zb(),E.ac(17,"nz-checkbox-wrapper",10),E.ic("nzOnChange",(function(e){return t.productChange(e)})),E.ac(18,"div",11),E.ac(19,"div",12),E.ac(20,"span",13),E.Oc(21,"\u4fdd\u969c\u5167\u5bb9\uff08\u5546\u54c1\u4ecb\u7d39\uff09"),E.Zb(),E.Zb(),E.ac(22,"div",12),E.ac(23,"span",14),E.Oc(24,"\u4fdd\u969c\u91d1\u984d\uff08\u55ae\u4f4d\uff1a\u65b0\u53f0\u5e63\u5143\uff09"),E.Zb(),E.Zb(),E.Zb(),E.Mc(25,G,9,13,"div",15),E.ac(26,"div",16),E.ac(27,"div",17),E.ac(28,"div",18),E.ac(29,"label",19),E.ic("ngModelChange",(function(e){return t.isInsur31Checked=e})),E.Oc(30),E.Zb(),E.Zb(),E.Zb(),E.ac(31,"div",20),E.Oc(32," \u50b7\u5bb3\u8cac\u4efb\u96aa - "),E.Zb(),E.ac(33,"div",21),E.Oc(34," \u6bcf\u4e00\u500b\u4eba\u50b7\u5bb3 "),E.Zb(),E.ac(35,"div",22),E.ac(36,"nz-select",23),E.ic("ngModelChange",(function(e){return t.insur31SumAssured_1=e}))("ngModelChange",(function(){return t.onSelectChange("31")})),E.Vb(37,"nz-option",24),E.Vb(38,"nz-option",25),E.Vb(39,"nz-option",26),E.Zb(),E.Zb(),E.Vb(40,"div",27),E.ac(41,"div",21),E.Oc(42," \u6bcf\u4e00\u610f\u5916\u4e4b\u4e8b\u6545\u50b7\u5bb3 "),E.Zb(),E.ac(43,"div",22),E.ac(44,"nz-select",23),E.ic("ngModelChange",(function(e){return t.insur31SumAssured_2=e})),E.Vb(45,"nz-option",25),E.Vb(46,"nz-option",28),E.Vb(47,"nz-option",29),E.Zb(),E.Zb(),E.ac(48,"div",20),E.Oc(49," \u8ca1\u640d\u8cac\u4efb\u96aa - "),E.Zb(),E.ac(50,"div",21),E.Oc(51," \u6bcf\u4e00\u610f\u5916\u4e4b\u4e8b\u6545\u8ca1\u640d "),E.Zb(),E.ac(52,"div",22),E.ac(53,"nz-select",23),E.ic("ngModelChange",(function(e){return t.insur32SumAssured=e})),E.Vb(54,"nz-option",30),E.Vb(55,"nz-option",31),E.Vb(56,"nz-option",32),E.Zb(),E.Zb(),E.Zb(),E.ac(57,"div",16),E.ac(58,"div",17),E.ac(59,"div",18),E.ac(60,"label",19),E.ic("ngModelChange",(function(e){return t.isInsur93Checked=e})),E.Oc(61," \u9053\u8def\u6551\u63f4\u8cbb\u7528\u9644\u52a0\u689d\u6b3e "),E.Zb(),E.Zb(),E.Zb(),E.ac(62,"div",33),E.Oc(63," \u9053\u8def\u6551\u63f4\u8cbb\u7528\u9644\u52a0\u689d\u6b3e "),E.Zb(),E.ac(64,"div",34),E.Oc(65,"\u4fdd\u96aa\u671f\u9593\u5167\u7d2f\u7a4d\u6700\u9ad8\u8ce0\u511f\u91d1\u984d"),E.Zb(),E.ac(66,"div",22),E.Oc(67," 3\u842c "),E.Zb(),E.Zb(),E.ac(68,"div",16),E.ac(69,"div",17),E.ac(70,"div",18),E.ac(71,"label",19),E.ic("ngModelChange",(function(e){return t.isInsur39Checked=e})),E.Oc(72," \u8d85\u984d\u8cac\u4efb\u9644\u52a0\u689d\u6b3e(\u7d93\u6fdf\u578b) "),E.Zb(),E.Zb(),E.Zb(),E.ac(73,"div",33),E.Oc(74," \u8d85\u984d\u8cac\u4efb\u9644\u52a0\u689d\u6b3e(\u7d93\u6fdf\u578b) "),E.Zb(),E.ac(75,"div",34),E.Oc(76,"\u4fdd\u96aa\u671f\u9593\u5167\u6bcf\u4e00\u4e8b\u6545\u8ce0\u511f\u9650\u984d"),E.Zb(),E.ac(77,"div",22),E.ac(78,"nz-select",23),E.ic("ngModelChange",(function(e){return t.insur39SumAssured=e}))("ngModelChange",(function(){return t.onSelectChange("39")})),E.Mc(79,$,2,2,"ng-container",35),E.Zb(),E.Zb(),E.Zb(),E.Zb(),E.Mc(80,te,3,2,"div",36),E.Zb(),E.Zb(),E.Zb(),E.Zb(),E.Zb(),E.Mc(81,_e,18,11,"app-expansion-panel",37)),2&e&&(E.tc("title","\u9078\u64c7\u4fdd\u96aa\u5167\u5bb9")("headerHint","\u4ee5\u4e0b\u6b04\u4f4d\u5747\u70ba\u5fc5\u586b\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\u3002")("useTemplate",!0),E.Db(9),E.tc("formGroup",t.autoratingForm),E.Db(2),E.tc("nzSpan",24),E.Db(14),E.tc("ngForOf",t.compulsoryList),E.Db(1),E.tc("ngClass",E.xc(37,j,t.isInsur31Disabled||t.carStepsService.currentStep===t.carInsuranceSteps.step2_1)),E.Db(3),E.tc("nzValue",t.insur31.index)("ngModel",t.isInsur31Checked)("ngModelOptions",E.wc(39,H))("nzDisabled",t.isInsur31Disabled||t.carStepsService.currentStep===t.carInsuranceSteps.step2_1),E.Db(1),E.Qc(" ",t.insur31.title," "),E.Db(6),E.tc("ngModel",t.insur31SumAssured_1)("ngModelOptions",E.wc(40,H))("nzDisabled",t.isInsur31Disabled||t.carStepsService.currentStep===t.carInsuranceSteps.step2_1),E.Db(8),E.tc("ngModel",t.insur31SumAssured_2)("ngModelOptions",E.wc(41,H))("nzDisabled",!0),E.Db(9),E.tc("ngModel",t.insur32SumAssured)("ngModelOptions",E.wc(42,H))("nzDisabled",!0),E.Db(4),E.tc("ngClass",E.xc(43,j,t.isInsur93Disabled||t.carStepsService.currentStep===t.carInsuranceSteps.step2_1)),E.Db(3),E.tc("nzValue",t.insur93.index)("ngModel",t.isInsur93Checked)("ngModelOptions",E.wc(45,H))("nzDisabled",t.isInsur93Disabled||t.carStepsService.currentStep===t.carInsuranceSteps.step2_1),E.Db(8),E.tc("ngClass",E.xc(46,j,t.isInsur39Disabled||t.carStepsService.currentStep===t.carInsuranceSteps.step2_1)),E.Db(3),E.tc("nzValue",t.insur39.index)("ngModel",t.isInsur39Checked)("ngModelOptions",E.wc(48,H))("nzDisabled",t.isInsur39Disabled||t.carStepsService.currentStep===t.carInsuranceSteps.step2_1),E.Db(7),E.tc("ngModel",t.insur39SumAssured)("ngModelOptions",E.wc(49,H))("nzDisabled",!t.isInsur39Checked),E.Db(1),E.tc("ngForOf",t.insur39SumAssuredOptions),E.Db(1),E.tc("ngIf",t.isCaculateResultShow),E.Db(1),E.tc("ngIf",t.isCaculateResultShow))},directives:[k.a,B.a,_.w,_.r,w.b,_.k,W.c,W.a,w.c,w.d,K.c,F.m,F.l,K.a,_.q,_.t,x.d,x.a,F.n,z.a,Z.a,V.d,N.a,Y.a],pipes:[F.d],styles:[".ant-select[_ngcontent-%COMP%]{width:90px;color:#0081c6}.product-title[_ngcontent-%COMP%]{border-bottom:3px solid #0081c6!important}.popup-title[_ngcontent-%COMP%]{color:#000;margin-left:5px}.discount-premium[_ngcontent-%COMP%]{font-size:40px;margin:0}.re-calculate-btn[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(90deg,#00b7e5,#008fd5);padding:0 30px;border:none;margin-top:20px}.disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#979797!important}.disabled[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{border-bottom:3px solid #979797!important}"]}),e}()},"9rcF":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e[e.step1_1=0]="step1_1",e[e.step1_2=1]="step1_2",e[e.step1_3=2]="step1_3",e[e.step2_1=3]="step2_1",e[e.step2_2=4]="step2_2",e[e.step3=5]="step3",e[e.step4=6]="step4",e}({})},DOBV:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("CLRB"),_=r("TYT/"),a=r("QJY3"),o=r("X5uw"),i=r("rCsC"),c=r("vmpY"),s=function(){function e(e){this.parentF=e,this.purposeNo=[],this.viaPhoneNo=[],this.purpose=[],this.thankUData={purpose:"",purposeNo:"",method:"",sales:""}}return Object.defineProperty(e.prototype,"thankUForm",{get:function(){return this.policyForm.get(n.a.thankUForm)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.policyForm=this.parentF.form},e.prototype.getThankUData=function(){this.purposeNo=[],this.viaPhoneNo=[],this.purpose=[],this.thankUData={purpose:"",purposeNo:"",method:"",sales:""};var e=this.thankUForm.getRawValue();switch(e.insuredPurposeQ1&&(this.purpose.push("\u70ba\u8ca1\u7522\u53ca\u5229\u76ca\u4f5c\u98a8\u96aa\u898f\u5283"),this.purposeNo.push("1\uff1a\u70ba\u8ca1\u7522\u53ca\u5229\u76ca\u4f5c\u98a8\u96aa\u898f\u5283")),e.insuredPurposeQ2&&(this.purpose.push("\u4f9d\u6cd5\u61c9\u8ca0\u4e4b\u8ce0\u511f\u8cac\u4efb\u4f5c\u98a8\u96aa\u898f\u5283"),this.purposeNo.push("2\uff1a\u4f9d\u6cd5\u61c9\u8ca0\u4e4b\u8ce0\u511f\u8cac\u4efb\u4f5c\u98a8\u96aa\u898f\u5283")),e.insuredPurposeQ3&&(this.purpose.push("\u53ef\u80fd\u627f\u53d7\u4e4b\u50b7\u5bb3\u4f5c\u98a8\u96aa\u898f\u5283"),this.purposeNo.push("3\uff1a\u53ef\u80fd\u627f\u53d7\u4e4b\u50b7\u5bb3\u4f5c\u98a8\u96aa\u898f\u5283")),e.insuredPurposeQ4&&(this.purpose.push("\u5176\u4ed6: "+e.insuredPurposeQ4),this.purposeNo.push("4\uff1a\u5176\u4ed6: "+e.insuredPurposeQ4)),e.calloutTimeSlot){case"1":this.viaPhoneNo.push("1\uff1aAM9\uff1a00~PM12\uff1a30");break;case"2":this.viaPhoneNo.push("2\uff1aPM1\uff1a30~PM5\uff1a30");break;case"1,2":this.viaPhoneNo.push("1\uff1aAM9\uff1a00~PM12\uff1a30"),this.viaPhoneNo.push("2\uff1aPM1\uff1a30~PM5\uff1a30");break;default:this.viaPhoneNo=[]}Object.assign(this.thankUData,{purpose:this.purpose.join(" / "),method:e.calloutTimeSlot?"\u65b9\u4fbf\u96fb\u8a71\u8a2a\u554f\u6642\u9593\uff1a"+(-1!==e.calloutTimeSlot.indexOf("1")?"AM 9:00 ~ PM 12:30":"")+(e.calloutTimeSlot.length>1?" / ":"")+(-1!==e.calloutTimeSlot.indexOf("2")?"PM 1:30 ~ PM 5:00":""):e.confirmedViaSms?"\u540c\u610f\u4ee5\u7c21\u8a0a\u65b9\u5f0f\u9032\u884c\u6295\u4fdd\u610f\u9858\u78ba\u8a8d":"",sales:e.referralAgentCode?e.referralAgentCode+" "+e.referralAgent:""})},e.\u0275fac=function(t){return new(t||e)(_.Ub(a.k))},e.\u0275cmp=_.Ob({type:e,selectors:[["app-other-info"]],decls:22,vars:8,consts:[[3,"title","useTemplate"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-lg-5","px-3","pb-3"],[1,"col-lg-8","col-12","mt-3"],["nz-row","",1,"showData"],["nz-col","",3,"nzSpan"]],template:function(e,t){1&e&&(_.ac(0,"app-expansion-panel",0),_.ac(1,"panel-content"),_.ac(2,"div",1),_.ac(3,"div",2),_.Oc(4," \u8981\u4fdd\u96aa\u4eba\u8207\u884c\u7167\u8eca\u4e3b\u53ca\u6301\u5361\u4eba\u9700\u70ba\u540c\u4e00\u4eba\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u53ca\u884c\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\uff0c\u8b1d\u8b1d\uff01 "),_.Zb(),_.ac(5,"div",3),_.ac(6,"div",4),_.ac(7,"div",5),_.ac(8,"p"),_.Oc(9,"\u6295\u4fdd\u76ee\u7684\u8207\u9700\u6c42"),_.Zb(),_.ac(10,"span"),_.Oc(11),_.Zb(),_.Zb(),_.ac(12,"div",5),_.ac(13,"p"),_.Oc(14,"\u6295\u4fdd\u610f\u9858\u65b9\u5f0f\u78ba\u8a8d"),_.Zb(),_.ac(15,"span"),_.Oc(16),_.Zb(),_.Zb(),_.ac(17,"div",5),_.ac(18,"p"),_.Oc(19,"\u63a8\u85a6\u696d\u52d9\u54e1\u4ee3\u78bc"),_.Zb(),_.ac(20,"span"),_.Oc(21),_.Zb(),_.Zb(),_.Zb(),_.Zb(),_.Zb(),_.Zb(),_.Zb()),2&e&&(_.tc("title","\u5176\u4ed6\u8cc7\u8a0a")("useTemplate",!0),_.Db(7),_.tc("nzSpan",24),_.Db(4),_.Pc(t.thankUData.purpose),_.Db(1),_.tc("nzSpan",24),_.Db(4),_.Pc(t.thankUData.method),_.Db(1),_.tc("nzSpan",24),_.Db(4),_.Pc(t.thankUData.sales))},directives:[o.a,i.a,c.c,c.a],styles:[""]}),e}()},GKk0:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("TYT/"),_=r("DUip"),a=r("Valr"),o=r("X5uw"),i=r("rCsC"),c=r("AzBT"),s=r("Sh7c"),u=r("MySR");function l(e,t){if(1&e){var r=n.bc();n.ac(0,"app-expansion-panel",1),n.ac(1,"panel-content"),n.ac(2,"div",2),n.ac(3,"div",3),n.Oc(4," \u60a8\u597d\uff0c\u611f\u8b1d\u60a8\u9078\u64c7\u672c\u516c\u53f8\u6240\u63d0\u4f9b\u4e4b\u7db2\u8def\u6295\u4fdd\u670d\u52d9\uff0c\u60df\u56e0\u7db2\u8def\u9023\u7dda\u7570\u5e38\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\uff1b\u5982\u60a8\u6709\u4efb\u4f55\u9700\u8981\u6211\u5011\u670d\u52d9\u7684\u5730\u65b9\uff0c\u6b61\u8fce\u60a8\u96a8\u6642\u81f4\u96fb\u5ba2\u670d\u4e2d\u5fc30800-020-060#2\uff0c\u6211\u5011\u5c07\u7aed\u8aa0\u70ba\u60a8\u670d\u52d9\u3002 "),n.Zb(),n.ac(5,"div",4),n.ac(6,"button",5),n.ic("click",(function(){return n.Ec(r),n.lc().router.navigateByUrl("html/best-selling")})),n.Oc(7," \u78ba\u8a8d "),n.Zb(),n.Zb(),n.Zb(),n.Zb(),n.Zb()}2&e&&n.tc("title","\u7cfb\u7d71\u7570\u5e38")("useTemplate",!0)}var p=function(){function e(e){this.router=e,this.showError=!1}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){e.response.currentValue&&(this.showError="system error"===e.response.currentValue[0])},e.\u0275fac=function(t){return new(t||e)(n.Ub(_.g))},e.\u0275cmp=n.Ob({type:e,selectors:[["app-waiting-failing"]],inputs:{response:"response"},features:[n.Bb],decls:1,vars:1,consts:[[3,"title","useTemplate",4,"ngIf"],[3,"title","useTemplate"],[1,"inner-container"],[1,"error-msg"],[1,"btn-container"],["nz-button","","nzType","primary","nzShape","round",2,"padding","1px 30px",3,"click"]],template:function(e,t){1&e&&n.Mc(0,l,8,2,"app-expansion-panel",0),2&e&&n.tc("ngIf",t.showError)},directives:[a.n,o.a,i.a,c.a,s.a,u.a],styles:[".inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.btn-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding:25px}@media (max-width:768px){.btn-container[_ngcontent-%COMP%]{display:block;text-align:center}}.error-msg[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;margin:0 auto;padding:20px;max-width:950px;font-size:22px!important}@media (max-width:768px){.error-msg[_ngcontent-%COMP%]{font-size:20px!important}}"]}),e}()},IIOl:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("QJY3"),_=r("CLRB"),a=r("QpsE"),o=r("TYT/"),i=r("X5uw"),c=r("rCsC"),s=r("XrdD"),u=function(){function e(e){this.parentF=e,this.tabs=[{title:"\u7522\u96aa\u696d\u5c65\u884c\u500b\u4eba\u8cc7\u6599\u4fdd\u8b77\u6cd5\u544a\u77e5\u7fa9\u52d9\u5167\u5bb9",terms:a.a.terms3,disabled:!0,checked:!1},{title:"\u7db2\u8def\u6295\u4fdd\u8072\u660e\u4e8b\u9805",terms:a.a.terms4,disabled:!0,checked:!1},{title:"\u4fe1\u7528\u5361/\u9280\u884c\u5e33\u865f\u7e73\u8cbb\u6ce8\u610f\u4e8b\u9805",terms:a.a.terms5,disabled:!0,checked:!1},{title:"\u4fdd\u55ae\u689d\u6b3e",terms:a.a.terms6,disabled:!0,checked:!1}]}return Object.defineProperty(e.prototype,"termsForm",{get:function(){return this.policyForm.get(_.a.termsForm)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setTermsForm()},e.prototype.setTermsForm=function(){this.policyForm=this.parentF.form,this.termsForm.addControl(a.a.terms3,new n.g(!1,[n.v.requiredTrue])),this.termsForm.addControl(a.a.terms4,new n.g(!1,[n.v.requiredTrue])),this.termsForm.addControl(a.a.terms5,new n.g(!1,[n.v.requiredTrue])),this.termsForm.addControl(a.a.terms6,new n.g(!1,[n.v.requiredTrue]))},e.\u0275fac=function(t){return new(t||e)(o.Ub(n.k))},e.\u0275cmp=o.Ob({type:e,selectors:[["app-confirm-terms"]],decls:3,vars:3,consts:[[3,"title"],[3,"tabs","product"]],template:function(e,t){1&e&&(o.ac(0,"app-expansion-panel",0),o.ac(1,"panel-content"),o.Vb(2,"app-custom-tab",1),o.Zb(),o.Zb()),2&e&&(o.tc("title","\u7db2\u8def\u6295\u4fdd\u544a\u77e5\u7fa9\u52d9\u5167\u5bb9\u53ca\u8072\u660e\u4e8b\u9805"),o.Db(2),o.tc("tabs",t.tabs)("product","car"))},directives:[i.a,c.a,s.a],styles:[""]}),e}()},ITzl:function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var n=r("QJY3"),_=r("lc5b"),a=r("CLRB"),o=r("heeW"),i=r("H0It"),c=r("TYT/"),s=r("/dic"),u=r("ThRj"),l=r("8zPb"),p=r("X5uw"),m=r("rCsC"),d=r("Valr"),g=r("/RLq"),h=r("vmpY"),E=r("2xHj"),D=r("RQUG");function b(e,t){1&e&&c.Vb(0,"br")}function f(e,t){1&e&&c.Vb(0,"br")}function O(e,t){1&e&&c.Vb(0,"br")}function C(e,t){1&e&&c.Vb(0,"br")}function P(e,t){1&e&&c.Vb(0,"br")}function v(e,t){1&e&&c.Vb(0,"br")}function M(e,t){1&e&&c.Vb(0,"br")}function y(e,t){1&e&&(c.ac(0,"p"),c.Oc(1," \u4f9d\u64da"),c.ac(2,"span",3),c.Oc(3,"\u300c\u4fdd\u96aa\u696d\u8fa6\u7406\u96fb\u5b50\u5546\u52d9\u61c9\u6ce8\u610f\u4e8b\u9805\u300d"),c.Zb(),c.Oc(4,"\u898f\u7bc4\uff0c\u70ba\u4e86\u4fdd\u969c\u60a8\u7684\u6b0a\u76ca\uff0c\u4e26\u78ba\u4fdd\u60a8\u5df2\u5145\u5206\u4e86\u89e3\u6295\u4fdd\u5167\u5bb9\u8207\u5546\u54c1\u7279\u6027\uff0c\u672c\u516c\u53f8\u5c07\u96a8\u6a5f\u62bd\u6a23\u9032\u884c\u6295\u4fdd\u610f\u9858\u4e4b\u78ba\u8a8d\u3002 "),c.Zb())}function I(e,t){1&e&&(c.ac(0,"p"),c.Oc(1," \u4f9d\u64da"),c.ac(2,"span",3),c.Oc(3,"\u300c\u4fdd\u96aa\u696d\u8fa6\u7406\u96fb\u5b50\u5546\u52d9\u61c9\u6ce8\u610f\u4e8b\u9805\u300d"),c.Zb(),c.Oc(4,"\u898f\u7bc4\uff0c\u70ba\u4e86\u4fdd\u969c\u60a8\u7684\u6b0a\u76ca\uff0c\u4e26\u78ba\u4fdd\u60a8\u5df2\u5145\u5206\u4e86\u89e3\u6295\u4fdd\u5167\u5bb9\u8207\u5546\u54c1\u7279\u6027\uff0c\u672c\u516c\u53f8\u5c07\u96a8\u6a5f\u62bd\u6a23\u9032\u884c\u6295\u4fdd\u610f\u9858\u4e4b\u78ba\u8a8d\u3002 "),c.Zb())}function T(e,t){if(1&e&&(c.ac(0,"span",20),c.Oc(1),c.Zb()),2&e){var r=c.lc();c.Kb("forReferralAgent","\u975e\u6709\u6548\u696d\u52d9\u54e1\u4ee3\u78bc"!==r.referralAgent)("error-message","\u975e\u6709\u6548\u696d\u52d9\u54e1\u4ee3\u78bc"===r.referralAgent),c.Db(1),c.Pc(r.referralAgent)}}var A=function(){function e(e,t,r,n){this.parentF=e,this.messageService=t,this.networkingService=r,this.agentWebSvc=n,this.kycFormKeys=i.a,this.policyFormTypeKeys=a.a,this.applicationFormKeys=o.a,this.calloutTimeSlot=[],this.errorMsgList=_.a}return Object.defineProperty(e.prototype,"thankUForm",{get:function(){return this.policyForm.get(a.a.thankUForm)},enumerable:!0,configurable:!0}),e.prototype.onResize=function(e){this.screenSize=e.target.innerWidth},e.prototype.ngOnInit=function(){this.screenSize=window.innerWidth,this.policyForm=this.parentF.form,this.setThankUForm(),this.networkingService.referralAgentCode&&(this.thankUForm.get(o.a.referralAgentCode).patchValue(this.networkingService.referralAgentCode),this.referralAgentCodeChange(this.networkingService.referralAgentCode),this.networkingService.promotion!==this.networkingService.promotionShouldBe&&this.networkingService.code!==this.networkingService.codeShouldBe||this.thankUForm.get(o.a.referralAgentCode).disable())},e.prototype.setThankUForm=function(){this.thankUForm.addControl(i.a.insuredPurposeQ1,new n.g(!1)),this.thankUForm.addControl(i.a.insuredPurposeQ2,new n.g(!1)),this.thankUForm.addControl(i.a.insuredPurposeQ3,new n.g(!1)),this.thankUForm.addControl("Q4Check",new n.g(!1)),this.thankUForm.addControl(i.a.insuredPurposeQ4,new n.g({value:"",disabled:!0},[n.v.required])),this.thankUForm.addControl(i.a.calloutTimeSlot,new n.g("")),this.thankUForm.addControl(i.a.confirmedViaSms,new n.g(!1)),this.thankUForm.addControl(o.a.referralAgentCode,new n.g("")),this.thankUForm.addControl("referralAgent",new n.g("")),this.thankUForm.get(i.a.insuredPurposeQ1).setValidators((function(e){var t=e.parent.get(i.a.insuredPurposeQ2),r=e.parent.get(i.a.insuredPurposeQ3),n=e.parent.get("Q4Check");return e.value||t.value||r.value||n.value?null:{validateThankU:{valid:!1,msg:"\u8acb\u9078\u64c7\u6295\u4fdd\u76ee\u7684\u8207\u9700\u6c42"}}})),this.thankUForm.get(i.a.calloutTimeSlot).setValidators((function(e){var t=e.parent.get(i.a.confirmedViaSms);return 0!==e.value.length||t.value?null:{validateThankU:{valid:!1,msg:"\u8acb\u9078\u64c7\u6295\u4fdd\u610f\u9858\u4e4b\u78ba\u8a8d\u65b9\u5f0f"}}}))},e.prototype.updateCalloutTimeSlot=function(e,t){var r=this.thankUForm.get(i.a.calloutTimeSlot),n=this.thankUForm.get(i.a.confirmedViaSms);e?this.calloutTimeSlot.push(t):this.calloutTimeSlot.splice(this.calloutTimeSlot.indexOf(t),1),r.patchValue(this.calloutTimeSlot.sort((function(e,t){return e-t})).join(",")),r.value?n.disable():n.enable(),r.setErrors(r.value||n.value?null:{validateThankU:{valid:!1,msg:"\u8acb\u9078\u64c7\u6295\u4fdd\u610f\u9858\u4e4b\u78ba\u8a8d\u65b9\u5f0f"}}),r.markAsDirty(),r.updateValueAndValidity()},e.prototype.updateConfirmedViaSms=function(){var e=this.thankUForm.get(i.a.calloutTimeSlot),t=this.thankUForm.get(i.a.confirmedViaSms);e.setErrors(e.value||t.value?null:{validateThankU:{valid:!1,msg:"\u8acb\u9078\u64c7\u6295\u4fdd\u610f\u9858\u4e4b\u78ba\u8a8d\u65b9\u5f0f"}}),e.markAsDirty(),e.updateValueAndValidity()},e.prototype.onInsuredPurposeCheck=function(e,t){var r=this.thankUForm.get(i.a.insuredPurposeQ1),n=this.thankUForm.get(i.a.insuredPurposeQ2),_=this.thankUForm.get(i.a.insuredPurposeQ3),a=this.thankUForm.get(i.a.insuredPurposeQ4),o=this.thankUForm.get("Q4Check");"Q4"===t&&(e?a.enable():(a.patchValue(""),a.disable())),r.setErrors(r.value||n.value||_.value||o.value?null:{validateThankU:{valid:!1,msg:"\u8acb\u9078\u64c7\u6295\u4fdd\u76ee\u7684\u8207\u9700\u6c42"}}),r.markAsDirty(),r.updateValueAndValidity()},e.prototype.referralAgentCodeChange=function(e){var t=this;e!==this.networkingService.promotionShouldBe&&e!==this.networkingService.codeShouldBe&&e.length>=7?this.agentWebSvc.getAgent(this.thankUForm.get(o.a.referralAgentCode).value).subscribe((function(e){switch(e.lastName||e.firstName?(t.thankUForm.get("referralAgent").patchValue(e.lastName+e.firstName),t.referralAgent=e.lastName+e.firstName):(t.thankUForm.get("referralAgent").patchValue(""),t.referralAgent=""),e.returnCode){case"E02":t.referralAgent="\u975e\u6709\u6548\u696d\u52d9\u54e1\u4ee3\u78bc";break;case"E01":case"E03":case"E99":t.referralAgent="\u975e\u6709\u6548\u696d\u52d9\u54e1\u4ee3\u78bc",console.error(e.returnMessage)}})):this.referralAgent=""},e.\u0275fac=function(t){return new(t||e)(c.Ub(n.k),c.Ub(s.a),c.Ub(u.b),c.Ub(l.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-thank-you"]],hostBindings:function(e,t){1&e&&c.ic("resize",(function(e){return t.onResize(e)}),!1,c.Dc)},decls:78,vars:30,consts:[[3,"title","useTemplate"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-5"],[1,"text-orange"],[4,"ngIf"],[1,"col-lg-8","col-12","px-5"],["nz-form","","nzLayout","vertical","nzNoColon","true",3,"formGroup"],["nz-row",""],["nz-col","",3,"nzSpan"],["nzFor",""],[1,"error-message",2,"font-size","14px"],[2,"width","100%"],["nz-col","","nzSpan","24",1,"my-1"],["nz-checkbox","",3,"formControlName","nzCheckedChange"],["nz-input","","placeholder","\u8acb\u8f38\u5165",1,"underline",3,"formControlName"],["nz-checkbox","",3,"nzDisabled","nzCheckedChange"],["nz-col","",3,"hidden","nzSpan"],[2,"display","flex","flex-wrap","wrap"],["nz-input","","placeholder","\u696d\u52d9\u4ee3\u78bc",1,"underline",2,"min-width","127px",3,"formControlName","ngModelChange"],["style","font-size: 24px; align-self: center",3,"forReferralAgent","error-message",4,"ngIf"],[2,"font-size","24px","align-self","center"]],template:function(e,t){if(1&e&&(c.ac(0,"app-expansion-panel",0),c.ac(1,"panel-content"),c.ac(2,"div",1),c.ac(3,"div",2),c.ac(4,"p"),c.Oc(5," \u4f9d\u64da "),c.ac(6,"span",3),c.Oc(7,"\u300c\u4fdd\u96aa\u696d\u62db\u652c\u53ca\u6838\u4fdd\u7406\u8ce0\u8fa6\u6cd5\u300d"),c.Zb(),c.Oc(8,"\u898f\u7bc4\uff0c\u4fdd\u96aa\u516c\u53f8\u9808\u4e86\u89e3\u4e26\u8a55\u4f30\u60a8\u4fdd\u96aa\u9700\u6c42\u53ca\u9069\u5408\u5ea6\u3002 "),c.Zb(),c.Mc(9,b,1,0,"br",4),c.Mc(10,f,1,0,"br",4),c.Mc(11,O,1,0,"br",4),c.Mc(12,C,1,0,"br",4),c.Mc(13,P,1,0,"br",4),c.Mc(14,v,1,0,"br",4),c.Mc(15,M,1,0,"br",4),c.Mc(16,y,5,0,"p",4),c.Zb(),c.ac(17,"div",5),c.ac(18,"form",6),c.ac(19,"div",7),c.ac(20,"div",8),c.ac(21,"nz-form-item"),c.ac(22,"nz-form-label",9),c.Oc(23,"\u6295\u4fdd\u76ee\u7684\u8207\u9700\u6c42 "),c.ac(24,"span",10),c.Oc(25),c.Zb(),c.Zb(),c.ac(26,"nz-form-control"),c.ac(27,"nz-checkbox-wrapper",11),c.ac(28,"div",7),c.ac(29,"div",12),c.ac(30,"label",13),c.ic("nzCheckedChange",(function(e){return t.onInsuredPurposeCheck(e)})),c.Oc(31,"\u70ba\u8ca1\u7522\u53ca\u5229\u76ca\u4f5c\u98a8\u96aa\u898f\u5283"),c.Zb(),c.Zb(),c.ac(32,"div",12),c.ac(33,"label",13),c.ic("nzCheckedChange",(function(e){return t.onInsuredPurposeCheck(e)})),c.Oc(34,"\u4f9d\u6cd5\u61c9\u8ca0\u4e4b\u8ce0\u511f\u8cac\u4efb\u4f5c\u98a8\u96aa\u898f\u5283"),c.Zb(),c.Zb(),c.ac(35,"div",12),c.ac(36,"label",13),c.ic("nzCheckedChange",(function(e){return t.onInsuredPurposeCheck(e)})),c.Oc(37,"\u53ef\u80fd\u627f\u53d7\u4e4b\u50b7\u5bb3\u4f5c\u98a8\u96aa\u898f\u5283"),c.Zb(),c.Zb(),c.ac(38,"div",12),c.ac(39,"label",13),c.ic("nzCheckedChange",(function(e){return t.onInsuredPurposeCheck(e,"Q4")})),c.Oc(40,"\u5176\u4ed6 "),c.Zb(),c.Vb(41,"input",14),c.Zb(),c.Zb(),c.ac(42,"span",10),c.Oc(43),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Mc(44,I,5,0,"p",4),c.ac(45,"div",8),c.ac(46,"nz-form-item"),c.ac(47,"nz-form-label",9),c.Oc(48,"\u4e00\u822c\u4eba\u58eb\uff08\u65b9\u4fbf\u96fb\u8a71\u8a2a\u554f\u6642\u9593\uff09 "),c.ac(49,"span",10),c.Oc(50),c.Zb(),c.Zb(),c.ac(51,"nz-form-control"),c.ac(52,"nz-checkbox-wrapper",11),c.ac(53,"div",7),c.ac(54,"div",12),c.ac(55,"label",15),c.ic("nzCheckedChange",(function(e){return t.updateCalloutTimeSlot(e,"1")})),c.Oc(56,"AM 9:00 ~ PM 12:30"),c.Zb(),c.Zb(),c.ac(57,"div",12),c.ac(58,"label",15),c.ic("nzCheckedChange",(function(e){return t.updateCalloutTimeSlot(e,"2")})),c.Oc(59,"PM 1:30 ~ PM 5:00"),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.ac(60,"div",8),c.ac(61,"nz-form-item"),c.ac(62,"nz-form-label",9),c.Oc(63,"\u807d\u8a9e\u969c\u7919\u4eba\u58eb"),c.Zb(),c.ac(64,"nz-form-control"),c.ac(65,"nz-checkbox-wrapper",11),c.ac(66,"div",7),c.ac(67,"div",12),c.ac(68,"label",13),c.ic("nzCheckedChange",(function(){return t.updateConfirmedViaSms()})),c.Oc(69,"\u540c\u610f\u4ee5\u7c21\u8a0a\u65b9\u5f0f\u9032\u884c\u6295\u4fdd\u610f\u9858\u78ba\u8a8d"),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.ac(70,"div",16),c.ac(71,"nz-form-item"),c.ac(72,"nz-form-label",9),c.Oc(73,"\u82e5\u60a8\u7531\u5357\u5c71\u7522\u7269\u696d\u52d9\u54e1\u8f49\u4ecb\u8005\uff0c\u8acb\u7559\u4e0b\u696d\u52d9\u54e1\u4ee3\u78bc\uff0c\u8b1d\u8b1d\uff01"),c.Zb(),c.ac(74,"nz-form-control"),c.ac(75,"div",17),c.ac(76,"input",18),c.ic("ngModelChange",(function(e){return t.referralAgentCodeChange(e)})),c.Zb(),c.Mc(77,T,2,5,"span",19),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&e){var r,n,_=null==(r=t.thankUForm.get(t.kycFormKeys.confirmedViaSms))?null:r.value,a=null==(n=t.thankUForm.get(t.kycFormKeys.confirmedViaSms))?null:n.value;c.tc("title","\u5176\u4ed6\u4e8b\u9805")("useTemplate",!0),c.Db(9),c.tc("ngIf",t.screenSize>991),c.Db(1),c.tc("ngIf",t.screenSize>991),c.Db(1),c.tc("ngIf",t.screenSize>991),c.Db(1),c.tc("ngIf",t.screenSize>991),c.Db(1),c.tc("ngIf",t.screenSize>991),c.Db(1),c.tc("ngIf",t.screenSize>991),c.Db(1),c.tc("ngIf",t.screenSize>991),c.Db(1),c.tc("ngIf",t.screenSize>991),c.Db(2),c.tc("formGroup",t.thankUForm),c.Db(2),c.tc("nzSpan",24),c.Db(5),c.Pc(t.errorMsgList.getFormErrorStr(t.thankUForm,t.kycFormKeys.insuredPurposeQ1)),c.Db(5),c.tc("formControlName",t.kycFormKeys.insuredPurposeQ1),c.Db(3),c.tc("formControlName",t.kycFormKeys.insuredPurposeQ2),c.Db(3),c.tc("formControlName",t.kycFormKeys.insuredPurposeQ3),c.Db(3),c.tc("formControlName","Q4Check"),c.Db(2),c.tc("formControlName",t.kycFormKeys.insuredPurposeQ4),c.Db(2),c.Pc(t.errorMsgList.getFormErrorStr(t.thankUForm,t.kycFormKeys.insuredPurposeQ4)),c.Db(1),c.tc("ngIf",t.screenSize<=991),c.Db(1),c.tc("nzSpan",24),c.Db(5),c.Pc(t.errorMsgList.getFormErrorStr(t.thankUForm,t.kycFormKeys.calloutTimeSlot)),c.Db(5),c.tc("nzDisabled",_),c.Db(3),c.tc("nzDisabled",a),c.Db(2),c.tc("nzSpan",24),c.Db(8),c.tc("formControlName",t.kycFormKeys.confirmedViaSms),c.Db(2),c.tc("hidden",!0)("nzSpan",24),c.Db(6),c.tc("formControlName",t.applicationFormKeys.referralAgentCode),c.Db(1),c.tc("ngIf",t.referralAgent)}},directives:[p.a,m.a,d.n,n.w,n.r,g.b,n.k,h.c,h.a,g.c,g.d,g.a,E.c,E.a,n.q,n.i,D.b,n.c],styles:[".underline[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #979797;width:25%!important;outline:none}label[_ngcontent-%COMP%]{color:#000;font-size:24px;font-weight:400}.forReferralAgent[_ngcontent-%COMP%]{color:#000;font-weight:500;width:220px}.ant-input[_ngcontent-%COMP%]{font-size:24px;font-weight:500}.ant-input-disabled[_ngcontent-%COMP%], .ant-input[disabled][_ngcontent-%COMP%]{background-color:#f5f5f5!important}@media only screen and (max-width:576px){.underline[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #979797;width:70%!important}.forReferralAgent[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#000;font-size:15px;font-weight:400}.forReferralAgent[_ngcontent-%COMP%]{margin-top:10px;width:220px}.ant-input[_ngcontent-%COMP%]{font-size:15px;font-weight:400}}@media (max-width:768px){.br-mobile[_ngcontent-%COMP%]{display:none}}"]}),e}()},"V/m2":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CarInsuranceComponent}));var _angular_forms__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QJY3"),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("15JJ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("67Y/"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("psW0"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("F/XL"),uuid__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("EcEN"),uuid__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_5__),moment__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("wd/R"),moment__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_6__),src_environments_environment__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("AytR"),src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("rtiL"),_vehicle_insurance_classes_vehicle_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("Ile4"),_vehicle_insurance_classes_quote_info_model__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("JmsV"),_vehicle_insurance_classes_save_quote_in_model__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("gix3"),_core_services_pii_log_enums_sys_code_enum__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("cxFQ"),_vehicle_insurance_enums_quote_option_status_enum__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("cPLB"),_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("gC3R"),_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("heeW"),_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("WD9E"),_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("H0It"),_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("CLRB"),src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("olDj"),_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("QpsE"),src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("9rcF"),_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("iDUo"),_vehicle_insurance_enums_car_body_type_code_enum__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("dHmp"),_vehicle_insurance_enums_e_service_step_enum__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("QgVs"),_enums_page_btn_type_enums__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("om6W"),src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("oqqH"),src_app_e_commerce_member_classes_user_model__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("Ccv7"),_cards_trial_trial_component__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("v/na"),_member_login_login_parent_login_parent_component__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("GiNM"),_member_register_register_modal_register_modal_component__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("rdzr"),_cards_insurance_product_insurance_product_component__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("5Mzb"),_cards_car_owner_info_car_owner_info_component__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("pfar"),_cards_car_info_car_info_component__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("YCyT"),_cards_proposer_info_proposer_info_component__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("i3dd"),_cards_complete_page_complete_page_component__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("4bOq"),_cards_thank_you_thank_you_component__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("ITzl"),_cards_other_info_other_info_component__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("DOBV"),src_app_shared_components_payment_decision_payment_decision_component__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("IVtZ"),src_app_core_enums_payment_type_enum__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("jEsS"),_angular_core__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("TYT/"),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("E1rE"),_angular_router__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("DUip"),_services_car_steps_car_steps_service__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("dFQ1"),ng_zorro_antd_modal__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("R08+"),src_app_shared_message_message_service__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("/dic"),_member_services_member_service__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("NkHd"),_member_login_login_service__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__("SloE"),src_app_core_services_email_email_service__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__("8RcS"),src_app_core_services_sms_sms_service__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__("zJkP"),src_app_core_services_cookie_cookie_service__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__("gzB6"),src_app_e_commerce_product_vehicle_insurance_services_save_quote_in_storage_save_quote_in_storage_service__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__("GgEC"),src_app_e_commerce_product_vehicle_insurance_services_ec_common_service_ec_common_service__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__("YLr7"),src_app_core_services_loading_service__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__("WTUP"),src_app_e_commerce_product_vehicle_insurance_services_auto_web_service_auto_web_service_service__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__("SNVz"),src_app_e_commerce_product_vehicle_insurance_services_agent_web_service_agent_web_service__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__("8zPb"),src_app_e_commerce_product_vehicle_insurance_services_aml_web_service_aml_web_service__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__("GYJy"),src_app_e_commerce_product_vehicle_insurance_services_tii_web_service_tii_web_service__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__("sOZc"),src_app_core_services_networking_networking_service__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__("ThRj"),src_app_core_services_pii_log_pii_log_service__WEBPACK_IMPORTED_MODULE_59__=__webpack_require__("lEQb"),src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_services_product_popup_msg_service__WEBPACK_IMPORTED_MODULE_60__=__webpack_require__("Ue4Y"),_angular_common__WEBPACK_IMPORTED_MODULE_61__=__webpack_require__("Valr"),_cards_input_terms_input_terms_component__WEBPACK_IMPORTED_MODULE_62__=__webpack_require__("lMNm"),_cards_confirm_terms_confirm_terms_component__WEBPACK_IMPORTED_MODULE_63__=__webpack_require__("IIOl"),_components_waiting_failing_waiting_failing_component__WEBPACK_IMPORTED_MODULE_64__=__webpack_require__("GKk0"),ng_zorro_antd_button__WEBPACK_IMPORTED_MODULE_65__=__webpack_require__("AzBT"),ng_zorro_antd_core_wave__WEBPACK_IMPORTED_MODULE_66__=__webpack_require__("Sh7c"),ng_zorro_antd_core_transition_patch__WEBPACK_IMPORTED_MODULE_67__=__webpack_require__("MySR");function CarInsuranceComponent_div_12_ng_container_1_div_1_Template(e,t){1&e&&_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(0,"div")}var _c0=function(e){return{$implicit:e}};function CarInsuranceComponent_div_12_ng_container_1_Template(e,t){if(1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.Yb(0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(1,CarInsuranceComponent_div_12_ng_container_1_div_1_Template,1,0,"div",15),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Xb()),2&e){var r=t.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();var n=_angular_core__WEBPACK_IMPORTED_MODULE_40__.Cc(3);_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngTemplateOutlet",n)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_40__.xc(2,_c0,r))}}function CarInsuranceComponent_div_12_ng_template_2_Template(e,t){if(1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(0,"div",16),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(1,"span",17),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(3,"span",18),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(4),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb()),2&e){var r=t.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("active",r.isCurrentPage),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Pc(r.value),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("active",r.isCurrentPage),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Pc(r.title)}}function CarInsuranceComponent_div_12_Template(e,t){if(1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(0,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(1,CarInsuranceComponent_div_12_ng_container_1_Template,2,4,"ng-container",13),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(2,CarInsuranceComponent_div_12_ng_template_2_Template,5,6,"ng-template",null,14,_angular_core__WEBPACK_IMPORTED_MODULE_40__.Nc),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb()),2&e){var r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngForOf",r.steps)}}function CarInsuranceComponent_div_28_Template(e,t){if(1&e){var r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.bc();_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(0,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(1,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ic("click",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ec(r);var e=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();return e.onPageClick(e.pageBtnType.previous)})),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(3,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ic("click",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ec(r);var e=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();return e.onPageClick(e.pageBtnType.next)})),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(4," \u4e0b\u4e00\u6b65 "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb()}if(2&e){var n=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Qc(" ",n.carStepsService.currentStep===n.carInsuranceSteps.step3?"\u56de\u9996\u9801":"\u4e0a\u4e00\u6b65"," "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("next-btn",!(n.carStepsService.currentStep===n.carInsuranceSteps.step1_2&&n.insuranceProductCmpt.isNeedRecaculate||n.lockStepNext))("next-btn_disabled",n.carStepsService.currentStep===n.carInsuranceSteps.step1_2&&n.insuranceProductCmpt.isNeedRecaculate||n.lockStepNext)}}function CarInsuranceComponent_div_29_Template(e,t){if(1&e){var r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.bc();_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(0,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(1,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ic("click",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ec(r);var e=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();return e.onPageClick(e.pageBtnType.previous)})),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(2," \u8cc7\u6599\u4fee\u6539 "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(3,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ic("click",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ec(r);var e=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();return e.onPageClick(e.pageBtnType.next)})),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(4," \u78ba\u5b9a\u6295\u4fdd\u4e26\u9032\u884c\u8eab\u4efd\u9a57\u8b49 "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb()}if(2&e){var n=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(3),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("next-btn",!n.lockStepNext)("next-btn_disabled",n.lockStepNext)}}function CarInsuranceComponent_div_30_Template(e,t){1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(0,"div",22),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(1," \u9a57\u8b49\u78bc\u5c07\u767c\u9001\u5230\u884c\u52d5\u96fb\u8a71\u53caE-Mail\u4fe1\u7bb1\uff0c"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(2,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(3," \u8acb\u65bc\u6536\u5230\u9a57\u8b49\u78bc\u5f8c5\u5206\u9418\u5167\u5b8c\u6210\u9a57\u8b49\uff0c\u5373\u53ef\u9032\u884c\u7dda\u4e0a\u4fe1\u7528\u5361\u4ed8\u6b3e\u3002 "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb())}function CarInsuranceComponent_div_31_Template(e,t){1&e&&_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(0,"div",19)}function CarInsuranceComponent_div_32_Template(e,t){if(1&e){var r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.bc();_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(0,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(1,"button",23),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ic("click",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ec(r);var e=_angular_core__WEBPACK_IMPORTED_MODULE_40__.lc();return e.onPageClick(e.pageBtnType.next)})),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(2," \u56de\u9996\u9801 "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb()}}var CarInsuranceComponent=function(){function CarInsuranceComponent(e,t,r,n,_,a,o,i,c,s,u,l,p,m,d,g,h,E,D,b,f,O,C){this.meta=e,this.title=t,this.router=r,this.carStepsService=n,this.modal=_,this.messageService=a,this.formBuilder=o,this.memberService=i,this.loginService=c,this.email=s,this.sms=u,this.cookieService=l,this.storage=p,this.quoteInfoStorage=m,this.ecCommonSvc=d,this.loadingSvc=g,this.autoWebServiceSvc=h,this.agentWebSvc=E,this.amlService=D,this.tiiService=b,this.networkSvc=f,this.piiLogSvc=O,this.productPopupMsgSvc=C,this.compulsoryNo="",this.voluntaryNo="",this.isCaculateResultShow=!1,this.lockStepNext=!1,this.isRenewal=!1,this.renewQuoteId="",this.renewalAlertYet=!1,this.title.setTitle("\u6c7d\u8eca\u4fdd\u96aa\uff5c\u7dda\u4e0a\u4fdd\u8cbb\u7acb\u5373\u8a66\u7b97\uff5c\u5357\u5c71\u7522\u7269"),this.meta.updateTag({name:"keyword",content:"\u5357\u5c71\u7522\u7269\uff0c\u4fdd\u96aa\uff0c\u7db2\u8def\u6295\u4fdd\uff0c\u6c7d\u8eca"}),this.meta.updateTag({name:"description",id:"HtmlMetaDescription",content:"\u5168\u65b9\u4f4d\u4fdd\u96aa\uff0c\u4fdd\u969c\u81ea\u5df1\u4e5f\u4fdd\u969c\u5225\u4eba\uff0c\u7dda\u4e0a\u5373\u53ef\u5b8c\u6210\uff0c\u7acb\u5373\u8a66\u7b97\u6295\u4fdd\u3002"}),this.meta.updateTag({name:"author",content:"\u5357\u5c71\u7522\u7269"}),this.meta.updateTag({property:"og:title",content:"\u6c7d\u8eca\u4fdd\u96aa\uff5c\u7dda\u4e0a\u4fdd\u8cbb\u7acb\u5373\u8a66\u7b97\uff5c\u5357\u5c71\u7522\u7269"}),this.meta.updateTag({property:"og:url",content:src_environments_environment__WEBPACK_IMPORTED_MODULE_7__.a.url+"/nanshanEC/html/car-insurance"}),this.meta.updateTag({property:"og:description",content:"\u5168\u65b9\u4f4d\u4fdd\u96aa\uff0c\u4fdd\u969c\u81ea\u5df1\u4e5f\u4fdd\u969c\u5225\u4eba\uff0c\u7dda\u4e0a\u5373\u53ef\u5b8c\u6210\uff0c\u7acb\u5373\u8a66\u7b97\u6295\u4fdd\u3002"}),this.meta.updateTag({property:"og:type",content:"website"})}return Object.defineProperty(CarInsuranceComponent.prototype,"trialForm",{get:function(){return this.policyForm.get(_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.trialForm)},enumerable:!0,configurable:!0}),Object.defineProperty(CarInsuranceComponent.prototype,"customerForm",{get:function(){return this.policyForm.get(_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.customerForm)},enumerable:!0,configurable:!0}),Object.defineProperty(CarInsuranceComponent.prototype,"thankUForm",{get:function(){return this.policyForm.get(_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.thankUForm)},enumerable:!0,configurable:!0}),Object.defineProperty(CarInsuranceComponent.prototype,"autoratingForm",{get:function(){return this.policyForm.get(_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.autoratingForm)},enumerable:!0,configurable:!0}),Object.defineProperty(CarInsuranceComponent.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),Object.defineProperty(CarInsuranceComponent.prototype,"steps",{get:function(){return this.carStepsService.steps},enumerable:!0,configurable:!0}),Object.defineProperty(CarInsuranceComponent.prototype,"carInsuranceSteps",{get:function(){return src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a},enumerable:!0,configurable:!0}),Object.defineProperty(CarInsuranceComponent.prototype,"pageBtnType",{get:function(){return _enums_page_btn_type_enums__WEBPACK_IMPORTED_MODULE_25__.a},enumerable:!0,configurable:!0}),CarInsuranceComponent.prototype.ngOnInit=function(){this.setPolicyForm(),this.getUrlParams()},CarInsuranceComponent.prototype.ngOnDestroy=function(){this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1,this.autoWebServiceSvc.renewalPolicyDetail=[],this.quoteInfoStorage.saveQuoteIn=new _vehicle_insurance_classes_save_quote_in_model__WEBPACK_IMPORTED_MODULE_11__.a(this.loginService.userData?{userId:this.loginService.userData.getUserId()}:{})},CarInsuranceComponent.prototype.callBroswerPiiLog=function(){var e=this;return this.networkSvc.ip?this.piiLogSvc.callECPiilog([navigator.userAgent,this.networkSvc.ip],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.BROSWER):this.networkSvc.getIP().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((function(t){return e.networkSvc.ip=t,e.piiLogSvc.callECPiilog([navigator.userAgent,t],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.BROSWER)})))},CarInsuranceComponent.prototype.setPolicyForm=function(){var e;this.policyForm=this.formBuilder.group(((e={})[_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.trialForm]=new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.j({}),e[_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.termsForm]=new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.j({}),e[_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.autoratingForm]=new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.j({}),e[_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.customerForm]=new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.j({}),e[_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.thankUForm]=new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.j({}),e))},CarInsuranceComponent.prototype.getUrlParams=function(){var _this=this,_a,queryParams=this.router.parseUrl(this.router.url).queryParams;this.networkSvc.getUrlParams(queryParams),this.networkSvc.forwardFrom&&this.piiLogSvc.callECPiilog([this.networkSvc.forwardFrom],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.FORWARD_FROM).subscribe(),queryParams.data?(this.ecResponse=eval("("+this.ecCommonSvc.decrypt(queryParams.data.replace(/[ ]/g,"+"))+")"),this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step2_2,this.memberService.inquireUser(null===(_a=this.ecResponse.parameters)||void 0===_a?void 0:_a.userId).subscribe((function(e){var t,r;if(e&&(_this.loginService.userData=new src_app_e_commerce_member_classes_user_model__WEBPACK_IMPORTED_MODULE_27__.a(e),_this.trialCmpt.initData()),_this.ecResponse){var n=_this.ecResponse.errorMessage,_=_this.ecResponse.parameters,a=_this.ecResponse.policyList;if(!_this.ecResponse.authorized&&"\u53d6\u6d88\u4ed8\u6b3e\u6d41\u7a0b"===n)return _this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step3,void _this.stepsActive();if(!a||0===a.length)return _this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1,_this.stepsActive(),void _this.messageService.alert(n);if(_this.cookieService.getCookie("EC_CAR|"+a[0].policyNo))return _this.messageService.alert("\u5831\u50f9\u55ae\u5df2\u51fa\u55ae"),_this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1,void _this.stepsActive();_this.cookieService.setCookie("EC_CAR|"+a[0].policyNo,"true",3),_this.compulsoryNo=(null===(t=a.filter((function(e){return!!e.compulsoryNo}))[0])||void 0===t?void 0:t.compulsoryNo)||"",_this.voluntaryNo=(null===(r=a.filter((function(e){return!e.compulsoryNo}))[0])||void 0===r?void 0:r.policyNo)||"",_this.issuePolicyRes={policyTOs:[]},_this.compulsoryNo&&(_this.issuePolicyRes.policyTOs.push({policyType:"C",policyNo:_this.compulsoryNo}),_this.piiLogSvc.callECPiilog(["\u5f37\u5236\u8b49\u865f: "+_this.compulsoryNo,"\u7c21\u8a0a\u901a\u77e5: "+_.mobile,"MAIL\u901a\u77e5: "+_.email],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.ISSUEPOLICY_SUCCESS_CTPL).subscribe()),_this.voluntaryNo&&(_this.issuePolicyRes.policyTOs.push({policyType:"V",policyNo:_this.voluntaryNo}),_this.piiLogSvc.callECPiilog(["\u4efb\u610f\u96aa\u4fdd\u55ae\u865f: "+_this.voluntaryNo,"\u7c21\u8a0a\u901a\u77e5: "+_.mobile,"MAIL\u901a\u77e5: "+_.email],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.ISSUEPOLICY_SUCCESS_VOL).subscribe()),_this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step4,_this.stepsActive(),_this.sendIssuePolicySuccess(_,_this.issuePolicyRes),_this.sendConfirmedViaSMS(_.mobile,_.paymentAmount)}}))):"renewal"===queryParams.type&&this.user&&this.autoWebServiceSvc.renewalPolicyDetail[0]?(this.isRenewal=!0,setTimeout((function(){var e;_this.quoteInfoStorage.saveQuoteIn.quoteInfoTO=new _vehicle_insurance_classes_quote_info_model__WEBPACK_IMPORTED_MODULE_10__.a(_this.autoWebServiceSvc.renewalPolicyDetail[0]),_this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().update({channelTypeCode:"10",channelSourceGroupCode:"10",channelSourceCode:_this.networkSvc.code===_this.networkSvc.codeShouldBe?_this.networkSvc.code:_this.networkSvc.promotion===_this.networkSvc.promotionShouldBe?_this.networkSvc.promotion:"00000000",writingAgentCode:"0611118",financialAgentCode:"0611118",serviceAgentCode:"0611118",printingMethod:"3"});var t=_this.autoWebServiceSvc.renewalPolicyDetail[0].applicationFormTO,r=t.customerInsuredTo,n=new _vehicle_insurance_classes_vehicle_model__WEBPACK_IMPORTED_MODULE_9__.a(t.vehicleTO),_=_this.autoWebServiceSvc.renewalPolicyDetail[0].quoteTO,a=_.quoteOptionTOs[0],o=a.quoteCoverageTOs;_this.renewQuoteId=_.quoteId,console.log(_this.renewQuoteId),_this.trialForm.patchValue(((e={})[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.plateNo]=n.getPlateNo(),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId]=r.taxId,e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.gender]=r.gender,e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.dob]=moment__WEBPACK_IMPORTED_MODULE_6__(r.dob).format("YYYY-MM-DD 00:00:00"),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.bodyTypeCode]=n.getBodyTypeCode(),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.makeCode]=n.getMakeName(),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.makeName]=0!==_this.trialCmpt.makeList.filter((function(e){return e.getMakeCode()===_this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getVehicleTO().getMakeName()})).length?_this.trialCmpt.makeList.filter((function(e){return e.getMakeCode()===_this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getVehicleTO().getMakeName()}))[0].getMakeName():_this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getVehicleTO().getMakeName(),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.carModelCode]=""+n.getMakeName()+n.brandName+n.middleName,e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.reg_year]=(Number(n.firstRegistrationDate.substring(0,4))-1911).toString(),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.reg_month]=n.firstRegistrationDate.substring(5,7),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.reg_day]=n.firstRegistrationDate.substring(8,10),e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.manufactureYear]=n.manufactureYear,e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.manufactureMonth]=n.manufactureMonth,e.manufactureYM=n.manufactureYear+"-"+n.manufactureMonth,e[src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.noOfSeats]=n.seatCapacity,e)),_this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.maritalStatus).patchValue(""),_this.trialCmpt.onSubmitClick((function(){var e;_this.isCaculateResultShow=!1,_this.insuranceProductCmpt.initData(),_this.insuranceProductCmpt.setAutoratingFormValue(),_this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_2,_this.stepsActive(),_this.autoratingForm.patchValue(((e={})[_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.months]=a.expectedExpiryDate4Ctpl?(12*(Number(a.expectedExpiryDate4Ctpl.substring(0,4))-Number(a.expectedEffectiveDate4Ctpl.substring(0,4)))).toString():(12*(Number(a.expectedExpiryDate4Voluntary.substring(0,4))-Number(a.expectedEffectiveDate4Voluntary.substring(0,4)))).toString(),e)),o.sort((function(e,t){return Number(e.productId)-Number(t.productId)})).forEach((function(e,t){if(!1===_this.insuranceProductCmpt["isInsur"+e.productId+"Checked"])switch(e.productId){case src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__.a.Insur21:_this.insuranceProductCmpt.isInsur21Disabled||(_this.insuranceProductCmpt.insuranceIndexArray.push(e.productId),_this.insuranceProductCmpt["isInsur"+e.productId+"Checked"]=!0);break;case src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__.a.Insur31:_this.insuranceProductCmpt.isInsur31Disabled||(_this.insuranceProductCmpt.insuranceIndexArray.push(e.productId),_this.insuranceProductCmpt["isInsur"+e.productId+"Checked"]=!0,_this.insuranceProductCmpt.insur31SumAssured_1=(Number(e.sumAssured)/1e4).toString(),_this.insuranceProductCmpt.onSelectChange(src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__.a.Insur31));break;case src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__.a.Insur32:case src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__.a.Insur93:_this.insuranceProductCmpt["isInsur"+e.productId+"Disabled"]||(_this.insuranceProductCmpt.insuranceIndexArray.push(e.productId),_this.insuranceProductCmpt["isInsur"+e.productId+"Checked"]=!0);break;case src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__.a.Insur39:_this.insuranceProductCmpt.isInsur39Disabled||(_this.insuranceProductCmpt.insuranceIndexArray.push(e.productId),_this.insuranceProductCmpt["isInsur"+e.productId+"Checked"]=!0,_this.insuranceProductCmpt.insur39SumAssured=(Number(e.sumAssured)/1e4).toString(),_this.insuranceProductCmpt.onSelectChange(src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_enums_insurance_index_enum__WEBPACK_IMPORTED_MODULE_26__.a.Insur39))}}))}))}),1e3)):this.user&&this.user.getUserId()&&this.hasRenewalAlert()},CarInsuranceComponent.prototype.hasRenewalAlert=function(){var e=this;!0!==this.renewalAlertYet&&!0!==this.isRenewal&&this.autoWebServiceSvc.inquireRenewList(this.user.getUserId()).subscribe((function(t){t&&t.renewInfoTOs&&0===t.renewInfoTOs.filter((function(e){return e.policyStatus===_vehicle_insurance_enums_e_service_step_enum__WEBPACK_IMPORTED_MODULE_24__.a.QUOTATION_CONFIRM&&(e.bodyTypeCode===_vehicle_insurance_enums_car_body_type_code_enum__WEBPACK_IMPORTED_MODULE_23__.a.PRIVATE_PASSENGER_VEHICLE||e.bodyTypeCode===_vehicle_insurance_enums_car_body_type_code_enum__WEBPACK_IMPORTED_MODULE_23__.a.PRIVATE_UTILITY_VEHICLE||e.bodyTypeCode===_vehicle_insurance_enums_car_body_type_code_enum__WEBPACK_IMPORTED_MODULE_23__.a.COMPANY_UTILITY_VEHICLE||e.bodyTypeCode===_vehicle_insurance_enums_car_body_type_code_enum__WEBPACK_IMPORTED_MODULE_23__.a.LEASED_CAR||e.bodyTypeCode===_vehicle_insurance_enums_car_body_type_code_enum__WEBPACK_IMPORTED_MODULE_23__.a.NOTCHBACK)})).length||t&&t.renewInfoTOs&&0!==t.renewInfoTOs.filter((function(e){return e.policyStatus===_vehicle_insurance_enums_e_service_step_enum__WEBPACK_IMPORTED_MODULE_24__.a.QUOTATION_CONFIRM})).length&&(e.messageService.alert("\u60a8\u7684\u8eca\u96aa\u5373\u5c07\u5230\u671f\uff0c\u63d0\u9192\u60a8\u65bc\u5230\u671f\u65e5\u524d\u5b8c\u6210\u6295\u4fdd\u5594\uff01"),e.renewalAlertYet=!0)}))},CarInsuranceComponent.prototype.sendIssuePolicySuccess=function(e,t){this.email.sendIssuePolicySuccessCar(e,t).subscribe()},CarInsuranceComponent.prototype.sendConfirmedViaSMS=function(e,t){var r=this;this.sms.sendConfirmedViaSMSCar(e,t).subscribe((function(t){"S00"===t.returnCode&&r.piiLogSvc.callECPiilog(["\u7c21\u8a0a\u901a\u77e5: "+e],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.CONFIRM_VIA_SMS).subscribe()}))},CarInsuranceComponent.prototype.onPageClick=function(e){var t,r,n,_,a,o,i,c=this;if(console.log(this.policyForm),e===_enums_page_btn_type_enums__WEBPACK_IMPORTED_MODULE_25__.a.previous)switch(this.carStepsService.currentStep){case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1:case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step3:this.messageService.confirm("\u78ba\u5b9a\u653e\u68c4\u7576\u524d\u9801\u9762?").afterClose.subscribe((function(e){e&&c.router.navigateByUrl("html/best-selling-car")}));break;default:this.carStepsService.currentStep--,this.stepsActive()}else if(e===_enums_page_btn_type_enums__WEBPACK_IMPORTED_MODULE_25__.a.next){if(this.lockStepNext)return;!this.isCaculateResultShow&&this.carStepsService.currentStep>=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_2||window.scroll(0,0);var s=this.policyForm.get(_vehicle_insurance_const_policy_form_type_keys_const__WEBPACK_IMPORTED_MODULE_18__.a.termsForm);switch(this.carStepsService.currentStep){case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1:for(var u in this.trialForm.controls)this.trialForm.controls[u].markAsDirty(),this.trialForm.controls[u].updateValueAndValidity();if(this.trialCmpt.onManufactureChange(),this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.bodyTypeCode).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.bodyTypeName).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.brandName).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.customerTypeCode).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.displacement).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.displacementUnit).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.dob).invalid||this.trialForm.get("dob_day").invalid||this.trialForm.get("dob_month").invalid||this.trialForm.get("dob_year").invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.engineNo).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.firstRegistrationDate).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.gender).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.makeCode).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.makeName).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.makeType).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.manufactureMonth).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.manufactureYear).invalid||this.trialForm.get("manufactureYM").invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.plateNo).invalid||this.trialForm.get("plate_pre").invalid||this.trialForm.get("plate_suf").invalid||this.trialForm.get("reg_day").invalid||this.trialForm.get("reg_month").invalid||this.trialForm.get("reg_year").invalid||this.trialForm.get("reg_day").invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.systemId).invalid||this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).invalid)return void this.messageService.alert("\u6b04\u4f4d\u683c\u5f0f\u6709\u8aa4\uff0c\u8acb\u91cd\u65b0\u78ba\u8a8d");if(s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms1].markAsDirty(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms1].updateValueAndValidity(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms2].markAsDirty(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms2].updateValueAndValidity(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms1].invalid||s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms2].invalid)return void this.messageService.alert("\u8acb\u8a73\u8b80\u300c\u7db2\u8def\u6295\u4fdd\u544a\u77e5\u7fa9\u52d9\u5167\u5bb9\u53ca\u8072\u660e\u4e8b\u9805\u300d\u5f8c\u52fe\u9078\u300c\u540c\u610f\u300d\u3002");this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().update({channelTypeCode:"10",channelSourceGroupCode:"10",channelSourceCode:this.networkSvc.code===this.networkSvc.codeShouldBe?this.networkSvc.code:this.networkSvc.promotion===this.networkSvc.promotionShouldBe?this.networkSvc.promotion:"00000000",writingAgentCode:"0611118",financialAgentCode:"0611118",serviceAgentCode:"0611118",printingMethod:"3"}),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerInsuredTo().update({taxId:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).value.toUpperCase(),dob:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.dob).value}),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerOwnerTo().update({taxId:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).value.toUpperCase(),dob:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.dob).value});var l=this.trialForm.getRawValue(),p={applicationFormId:"",vehicleId:"",plateNo:l.plateNo,makeName:l.makeCode,typeCode:l.makeType,seatCapacity:l.noOfSeats,displacement:l.displacement,displacementUnit:l.displacementUnit,bodyTypeCode:l.bodyTypeCode,engineNo:l.engineNo,manufactureYear:l.manufactureYear,manufactureMonth:l.manufactureMonth,firstRegistrationDate:l.firstRegistrationDate,registrationReissuedDate:l.registrationReissuedDate?l.registrationReissuedDate:l.firstRegistrationDate};this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getVehicleTO().update(p),this.trialCmpt.onSubmitClick((function(){c.piiLogSvc.callECPiilog(["BASE DATA INPUT"],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.PERSONAL_DATA_INPUT).subscribe(),c.carStepsService.currentStep++,c.isCaculateResultShow=!1,c.insuranceProductCmpt.initData()}));break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_2:if(this.insuranceProductCmpt.isNeedRecaculate)return void this.messageService.alert("\u8acb\u9ede\u9078\u91cd\u65b0\u8a08\u7b97\u4fdd\u8cbb");this.insuranceProductCmpt.onSubmitClick((function(){var e;if(c.isCaculateResultShow)if(c.user&&c.user.getUserId()){if((null===(e=c.user)||void 0===e?void 0:e.getUserId())!==c.trialForm.getRawValue().taxId.toUpperCase())return c.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1,void c.trialCmpt.initData();c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.dob).patchValue(c.user.userDob),c.trialForm.get("dob_year").patchValue(Number(moment__WEBPACK_IMPORTED_MODULE_6__(c.user.userDob).format("YYYY"))-1911),c.trialForm.get("dob_month").patchValue(Number(moment__WEBPACK_IMPORTED_MODULE_6__(c.user.userDob).format("MM"))),c.user&&c.user.userDob&&c.trialCmpt.getDaysInMonth(Number(moment__WEBPACK_IMPORTED_MODULE_6__(c.user.userDob).format("YYYY")),Number(moment__WEBPACK_IMPORTED_MODULE_6__(c.user.userDob).format("MM"))),c.trialForm.get("dob_day").patchValue(Number(moment__WEBPACK_IMPORTED_MODULE_6__(c.user.userDob).format("DD"))),c.hasRenewalAlert(),c.insuranceProductCmpt.insureDate=c.storage.getData("insureDate",src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.b.SESSION),c.carOwnerCmpt.initData(),c.carInfoCmpt.initData(),c.carInfoCmpt.makeName=c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.makeName).value,c.carInfoCmpt.brandName=c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.brandName).value,c.carStepsService.currentStep++,c.stepsActive()}else c.memberService.isUser(c.trialForm.getRawValue().taxId.toUpperCase()).subscribe((function(e){c.piiLogSvc.callECPiilog(["\u88ab\u4fdd\u96aa\u4eba(\u8eca\u4e3b)ID: "+c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).value.toUpperCase(),"\u67e5\u8a62\u7d50\u679c: "+("S00"===e.returnCode)],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.IS_NANSHAN_USER,c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).value.toUpperCase()).subscribe(),"E02"===e.returnCode?c.messageService.alert(c.productPopupMsgSvc.popupMsg11(),"","\u8a3b\u518a").afterClose.subscribe((function(e){e&&c.showRegisterModal()})):"S00"===e.returnCode?c.messageService.alert("\u5df2\u5c6c\u7db2\u7ad9\u6703\u54e1\u53ef\u76f4\u63a5\u767b\u5165\uff0c\u4ee5\u52a0\u901f\u6295\u4fdd\u6d41\u7a0b\uff0c\u8b1d\u8b1d\uff01").afterClose.subscribe((function(){c.showLoginModal()})):(c.messageService.alert(e.returnMessage),console.error(e.returnMessage))}));else c.isCaculateResultShow=!0}));break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_3:if(this.insuranceProductCmpt.isNeedRecaculate)return void this.messageService.alert("\u8acb\u9ede\u9078\u91cd\u65b0\u8a08\u7b97\u4fdd\u8cbb");for(var u in this.customerForm.controls)this.customerForm.controls[u].markAsDirty(),this.customerForm.controls[u].updateValueAndValidity();for(var u in this.thankUForm.controls)this.thankUForm.controls[u].markAsDirty(),this.thankUForm.controls[u].updateValueAndValidity();if(this.thankUForm.markAsDirty(),this.thankUForm.updateValueAndValidity(),this.customerForm.invalid||this.thankUForm.invalid)return void this.messageService.alert("\u6b04\u4f4d\u683c\u5f0f\u6709\u8aa4\uff0c\u8acb\u91cd\u65b0\u78ba\u8a8d");var m=!this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs()[0].getQuoteCoverageTOs().find((function(e){return"21"===e.productId})),d=this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs()[0].getQuoteCoverageTOs().find((function(e){return"21"!==e.productId}));this.otherInfoCmpt.getThankUData(),this.piiLogSvc.callECPiilog(["BASE DATA INPUT","\u6295\u4fdd\u76ee\u7684\u8207\u9700\u6c42: "+(null===(t=this.otherInfoCmpt.purposeNo)||void 0===t?void 0:t.join(",")),"\u4e00\u822c\u4eba\u58eb\uff1a\u96fb\u8a2a\u6642\u9593: "+(null===(r=this.otherInfoCmpt.viaPhoneNo)||void 0===r?void 0:r.join(",")),"\u807d\u8a9e\u969c\u7919\u4eba\u58eb\uff1a\u7c21\u8a0a: "+(this.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.confirmedViaSms).value?"Y":"N"),"\u63a8\u85a6\u4ee3\u78bc: "+this.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.INSURED_DATA_INPUT).subscribe(),this.messageService.alert(this.productPopupMsgSvc.popupMsg16()).afterClose.subscribe((function(e){c.piiLogSvc.callECPiilog(["\u8a3b\u8a18\u7d50\u679c: "+e],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.DISCLAIM_ALERT).subscribe(),e&&(m&&c.tiiService.queryIS86I(c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).value.toUpperCase(),c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.plateNo).value,"2").pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((function(e){return e&&e.group1?(c.currentCompulsoryNo=e.group1[0].policyNo,c.currentCompulsoryEffectiveDate=moment__WEBPACK_IMPORTED_MODULE_6__(e.group1[0].effectiveDate).format("YYYY-MM-DD HH:mm:ss"),c.currentCompulsoryExpiryDate=moment__WEBPACK_IMPORTED_MODULE_6__(e.group1[0].expiryDate).format("YYYY-MM-DD HH:mm:ss"),c.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().update({currentCompulsoryEffectiveDate:moment__WEBPACK_IMPORTED_MODULE_6__(e.group1[0].effectiveDate).format("YYYY-MM-DD"),currentCompulsoryExpiryDate:moment__WEBPACK_IMPORTED_MODULE_6__(e.group1[0].expiryDate).format("YYYY-MM-DD")}),c.piiLogSvc.callECPiilog(["\u88ab\u4fdd\u96aa\u4eba(\u8eca\u4e3b)ID: "+e.taxId,"\u8eca\u724c: "+e.plateNo,"\u67e5\u8a62\u5e8f\u865f: "+e.querySequence,"\u67e5\u8a62\u7d50\u679c: "+e.returnCode],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.TII_IS86I,c.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).value.toUpperCase())):[]}))).subscribe(),c.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getKycTO().update({insuredPurposeQ1:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.insuredPurposeQ1).value?"Y":"N",insuredPurposeQ2:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.insuredPurposeQ2).value?"Y":"N",insuredPurposeQ3:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.insuredPurposeQ3).value?"Y":"N",insuredPurposeQ4:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.insuredPurposeQ4).value?c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.insuredPurposeQ4).value:"",calloutTimeSlot:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.calloutTimeSlot).value?c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.calloutTimeSlot).value:"",confirmedViaSms:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.confirmedViaSms).value?"Y":"N"}),c.user&&c.isInBlackList(c.user.getUserId(),c.user.getUserName()).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((function(e){return e?(c.messageService.alert(c.productPopupMsgSvc.popupMsg7_2()),[]):c.reInsured(c.trialForm.getRawValue().taxId.toUpperCase(),c.trialForm.getRawValue().plateNo)})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((function(e){return c.piiLogSvc.callECPiilog(["\u88ab\u4fdd\u96aa\u4eba(\u8eca\u4e3b)ID: "+c.trialForm.getRawValue().taxId.toUpperCase(),"\u8eca\u724c: "+c.trialForm.getRawValue().plateNo,"\u67e5\u8a62\u7d50\u679c: "+(e.includes("ctpl")?"X01\uff1a\u5df2\u6709\u6709\u6548\u55ae":"X00\uff1a\u7121\u6709\u6548\u55ae")],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.OP_CHECK_CTPL).subscribe(),c.piiLogSvc.callECPiilog(["\u88ab\u4fdd\u96aa\u4eba(\u8eca\u4e3b)ID: "+c.trialForm.getRawValue().taxId.toUpperCase(),"\u8eca\u724c: "+c.trialForm.getRawValue().plateNo,"\u67e5\u8a62\u7d50\u679c: "+(e.includes("vol")?"X01\uff1a\u5df2\u6709\u6709\u6548\u55ae":"X00\uff1a\u7121\u6709\u6548\u55ae")],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.OP_CHECK_VOL).subscribe(),e.includes("ctpl")&&e.includes("vol")?(c.messageService.alert(c.productPopupMsgSvc.popupMsg15()),[]):e.includes("ctpl")&&c.insuranceProductCmpt.isVoluntaryDisabled?(c.messageService.alert(c.productPopupMsgSvc.popupMsg17()),[]):e.includes("vol")&&c.insuranceProductCmpt.isCompulsoryDisabled?(c.messageService.alert(c.productPopupMsgSvc.popupMsg18()),[]):e.includes("ctpl")&&!m?(c.messageService.alert(c.productPopupMsgSvc.popupMsg13()),[]):e.includes("vol")&&d?(c.messageService.alert(c.productPopupMsgSvc.popupMsg14()),[]):c.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value&&c.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value!==c.networkSvc.promotionShouldBe&&c.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value!==c.networkSvc.codeShouldBe?c.agentWebSvc.getAgent(c.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value):(c.quoteInfoStorage.saveQuoteIn.userId=c.user?c.user.getUserId():"",c.proposerInfoCmpt.initData(),c.carStepsService.currentStep++,c.stepsActive(),[])})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((function(e){switch(e.returnCode){case"E02":c.messageService.alert("\u975e\u6709\u6548\u696d\u52d9\u54e1\u4ee3\u78bc");break;case"E01":case"E03":case"E99":c.messageService.alert(e.returnMessage),console.error(e.returnMessage);break;case"S00":c.quoteInfoStorage.saveQuoteIn.userId=c.user?c.user.getUserId():"",c.proposerInfoCmpt.initData(),c.carStepsService.currentStep++,c.stepsActive()}}))).subscribe())}));break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step2_1:if(s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms3].markAsDirty(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms3].updateValueAndValidity(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms4].markAsDirty(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms4].updateValueAndValidity(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms5].markAsDirty(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms5].updateValueAndValidity(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms6].markAsDirty(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms6].updateValueAndValidity(),s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms3].invalid||s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms4].invalid||s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms5].invalid||s.controls[_vehicle_insurance_const_terms_form_keys_const__WEBPACK_IMPORTED_MODULE_20__.a.terms6].invalid)return void this.messageService.alert("\u8acb\u8a73\u8b80\u300c\u7db2\u8def\u6295\u4fdd\u544a\u77e5\u7fa9\u52d9\u5167\u5bb9\u53ca\u8072\u660e\u4e8b\u9805\u300d\u5f8c\u52fe\u9078\u300c\u540c\u610f\u300d\u3002");var g=this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs()[0].getQuoteCoverageTOs(),h="";g.find((function(e){return"21"===e.productId}))?(h=g.find((function(e){return"21"!==e.productId}))?"NS000003":"NS000001",this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().update({currentCompulsoryNo:"",currentCompulsoryEffectiveDate:"",currentCompulsoryExpiryDate:""})):(h="",this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().update({currentCompulsoryNo:this.currentCompulsoryNo,currentCompulsoryEffectiveDate:this.currentCompulsoryEffectiveDate,currentCompulsoryExpiryDate:this.currentCompulsoryExpiryDate})),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().update({applicationFormId:"",commissionPlanCode:"",compulsoryCardPrinted:"",counterStaffEmail:"",createDateTime:"",createUserId:"",lastUpdateDateTime:"",lastUpdateUserId:"",status:_vehicle_insurance_enums_e_service_step_enum__WEBPACK_IMPORTED_MODULE_24__.a.TEMP_QUOTATION_AP,campaignCode:h,channelSourceCode:this.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value===this.networkSvc.codeShouldBe?this.networkSvc.codeShouldBe:this.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value===this.networkSvc.promotionShouldBe?this.networkSvc.promotionShouldBe:"00000000",referralAgentCode:this.thankUForm.get(_vehicle_insurance_const_application_form_keys_const__WEBPACK_IMPORTED_MODULE_15__.a.referralAgentCode).value,ownerInsuredRelation:1}),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerInsuredTo().update({customerId:"",gender:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.gender).value,name:null===(n=this.user)||void 0===n?void 0:n.getUserName(),dob:this.user.userDob,contactZipCode:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactZipCode).value,contactCity:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactCity).value,contactTown:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactTown).value,contactAddress:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactAddress).value,maritalStatus:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.maritalStatus).value,nationality:"TW",contactPhoneNo:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactPhoneNo).value,mobilePhoneNo:this.user.getMobile(),email:this.user.getEmail()}),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerOwnerTo().update({customerId:"",gender:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.gender).value,name:null===(_=this.user)||void 0===_?void 0:_.getUserName(),dob:this.user.userDob,contactZipCode:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactZipCode).value,contactCity:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactCity).value,contactTown:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactTown).value,contactAddress:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactAddress).value,maritalStatus:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.maritalStatus).value,nationality:"TW",contactPhoneNo:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.contactPhoneNo).value,mobilePhoneNo:this.user.getMobile(),email:this.user.getEmail(),occupationCode:this.customerForm.get(_cards_car_owner_info_const_customer_form_keys_const__WEBPACK_IMPORTED_MODULE_16__.a.occupationCode).value}),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getPolicyTOs().forEach((function(e){"C"===e.getPolicyType()?(e.getCoverageTOs().forEach((function(e){e.setPolicyId(""),e.setCoverageId("")})),e.update({applicationFormId:"",policyId:"",wipNo:"",effectiveDate:moment__WEBPACK_IMPORTED_MODULE_6__(c.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate4Ctpl).value).format("YYYY-MM-DD HH:mm:ss"),expiryDate:moment__WEBPACK_IMPORTED_MODULE_6__(c.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate4Ctpl).value).add(c.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.months).value/12,"years").format("YYYY-MM-DD HH:mm:ss")})):"V"===e.getPolicyType()&&(e.getCoverageTOs().forEach((function(e){e.setPolicyId(""),e.setCoverageId("")})),e.update({applicationFormId:"",policyId:"",wipNo:"",effectiveDate:moment__WEBPACK_IMPORTED_MODULE_6__(c.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate).value).format("YYYY-MM-DD HH:mm:ss"),expiryDate:moment__WEBPACK_IMPORTED_MODULE_6__(c.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate).value).add(c.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.months).value/12,"years").format("YYYY-MM-DD HH:mm:ss")}))})),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getTiiPolicyTOs().forEach((function(e){e.update({applicationFormId:"",tiiPolicyId:""})})),this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate4Ctpl).value&&(null===(a=this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs()[0])||void 0===a||a.update({expectedEffectiveDate4Ctpl:moment__WEBPACK_IMPORTED_MODULE_6__(this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate4Ctpl).value).format("YYYY-MM-DD HH:mm:ss"),expectedExpiryDate4Ctpl:moment__WEBPACK_IMPORTED_MODULE_6__(this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate4Ctpl).value).add(this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.months).value/12,"years").format("YYYY-MM-DD HH:mm:ss")})),this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate).value&&(null===(o=this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs()[0])||void 0===o||o.update({expectedEffectiveDate4Voluntary:moment__WEBPACK_IMPORTED_MODULE_6__(this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate).value).format("YYYY-MM-DD HH:mm:ss"),expectedExpiryDate4Voluntary:moment__WEBPACK_IMPORTED_MODULE_6__(this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.effDate).value).add(this.autoratingForm.get(_vehicle_insurance_const_autorating_form_keys_const__WEBPACK_IMPORTED_MODULE_14__.a.months).value/12,"years").format("YYYY-MM-DD HH:mm:ss")})),this.storage.getData("discountamount",src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.b.SESSION)>0&&(null===(i=this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs()[0])||void 0===i||i.update({discountAmount4Ctpl:this.storage.getData("discountamount",src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.b.SESSION)})),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().update({quoteId:"",createDateTime:"",createUserId:"",lastUpdateUserId:"",lastUpdateDateTime:"",status:_vehicle_insurance_enums_e_service_step_enum__WEBPACK_IMPORTED_MODULE_24__.a.TEMP_QUOTATION_AP}),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs().forEach((function(e){e.getQuoteCoverageTOs().forEach((function(e){e.update({packageProductId:"",quoteCoverageId:"",quoteOptionId:""})})),e.update({quoteId:"",lastUpdateDateTime:"",lastUpdateUserId:"",quoteOptionId:"",status:_vehicle_insurance_enums_quote_option_status_enum__WEBPACK_IMPORTED_MODULE_13__.a.COMPLETE,cvsPaymentSlipPrintable:"N"})})),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getKycTO().setApplicationFormId(""),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getKycTO().setKycId(""),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getVehicleTO().setApplicationFormId(""),this.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getVehicleTO().setVehicleId(""),this.messageService.paymentConfirm1().afterClose.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((function(e){return e?c.tempSave(c.quoteInfoStorage.saveQuoteIn):[]})),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.a)((function(e){var t={quoteId:e.getQuoteTO().getQuoteId(),quoteOptionId:e.getQuoteTO().getQuoteOptionTOs()[0].getQuoteOptionId(),userId:e.getQuoteTO().getCreateUserId(),sysCode:_core_services_pii_log_enums_sys_code_enum__WEBPACK_IMPORTED_MODULE_12__.a.EC_AUTO};return c.callConofirmQuote(t)}))).subscribe((function(e){var t,r,n,_,a,o,i,s;if(e.getApplicationFormTO()){c.loadingSvc.loading(!0);var u=c.policyForm.getRawValue(),l=!e.getQuoteTO().getQuoteOptionTOs()[0].getQuoteCoverageTOs().find((function(e){return"21"===e.productId})),p=!e.getQuoteTO().getQuoteOptionTOs()[0].getQuoteCoverageTOs().find((function(e){return"21"!==e.productId})),m={applicationFormId:Number(e.getApplicationFormTO().getApplicationFormId()),renewKey:c.isRenewal?c.renewQuoteId:"",otpTitle:"\u6c7d\u8eca\u4fdd\u96aa",paymentTitle:"\u6c7d\u8eca\u4fdd\u96aa",userId:null===(t=c.user)||void 0===t?void 0:t.getUserId(),taxId:u.trialForm.taxId.toUpperCase(),userName:null===(r=c.user)||void 0===r?void 0:r.getUserName(),email:null===(n=c.user)||void 0===n?void 0:n.getEmail(),mobile:null===(_=c.user)||void 0===_?void 0:_.getMobile(),paymentAmount:c.storage.getData("premium",src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.b.SESSION)-c.storage.getData("discountamount",src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.b.SESSION),remark:"\u6c7d\u8eca\u4fdd\u96aa",successCallback:window.location.href.slice(0,window.location.href.indexOf("car-insurance")+"car-insurance".length),cancelCallback:window.location.href.slice(0,window.location.href.indexOf("car-insurance")+"car-insurance".length),errorCallback:window.location.href.slice(0,window.location.href.indexOf("car-insurance")+"car-insurance".length),traceId:Object(uuid__WEBPACK_IMPORTED_MODULE_5__.v4)().replace(/\-/g,""),parameters:{sysCode:_core_services_pii_log_enums_sys_code_enum__WEBPACK_IMPORTED_MODULE_12__.a.EC_AUTO,userId:null===(a=c.user)||void 0===a?void 0:a.getUserId(),quoteId:e.getQuoteTO().getQuoteId(),userName:null===(o=c.user)||void 0===o?void 0:o.getUserName(),email:null===(i=c.user)||void 0===i?void 0:i.getEmail(),mobile:null===(s=c.user)||void 0===s?void 0:s.getMobile(),plateNo:e.getApplicationFormTO().getVehicleTO().getPlateNo(),paymentAmount:String(c.storage.getData("premium",src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.b.SESSION)-c.storage.getData("discountamount",src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.b.SESSION)),displayEffectiveDate4CTPL:l?"":c.insuranceProductCmpt.displayEffectiveDate4CTPL,displayExpiryDate4CTPL:l?"":c.insuranceProductCmpt.displayExpiryDate4CTPL,displayEffectiveDate4Voluntary:p?"":c.insuranceProductCmpt.displayEffectiveDate4Voluntary,displayExpiryDate4Voluntary:p?"":c.insuranceProductCmpt.displayExpiryDate4Voluntary,currentCompulsoryNo:l?c.currentCompulsoryNo:"",currentCompulsoryEffectiveDate:l?c.currentCompulsoryEffectiveDate:"",currentCompulsoryExpiryDate:l?c.currentCompulsoryExpiryDate:"",calloutTimeSlot:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.calloutTimeSlot).value,confirmedViaSms:c.thankUForm.get(_vehicle_insurance_const_kyc_form_keys_const__WEBPACK_IMPORTED_MODULE_17__.a.confirmedViaSms).value?"Y":"N"}};console.log(m),c.paymentDecisionComponent.clearLocal(),c.paymentDecisionComponent.inputUrlByLocal(src_app_core_enums_payment_type_enum__WEBPACK_IMPORTED_MODULE_39__.a.bank,c.ecCommonSvc.getDirectUrl(m,_core_services_pii_log_enums_sys_code_enum__WEBPACK_IMPORTED_MODULE_12__.a.EC_AUTO,src_app_core_enums_payment_type_enum__WEBPACK_IMPORTED_MODULE_39__.a.bank)),c.paymentDecisionComponent.inputUrlByLocal(src_app_core_enums_payment_type_enum__WEBPACK_IMPORTED_MODULE_39__.a.creditCard,c.ecCommonSvc.getDirectUrl(m,_core_services_pii_log_enums_sys_code_enum__WEBPACK_IMPORTED_MODULE_12__.a.EC_AUTO,src_app_core_enums_payment_type_enum__WEBPACK_IMPORTED_MODULE_39__.a.creditCard)),c.paymentDecisionComponent.inputUrlByLocal(src_app_core_enums_payment_type_enum__WEBPACK_IMPORTED_MODULE_39__.a.esunWallet,c.ecCommonSvc.getDirectUrl(m,_core_services_pii_log_enums_sys_code_enum__WEBPACK_IMPORTED_MODULE_12__.a.EC_AUTO,src_app_core_enums_payment_type_enum__WEBPACK_IMPORTED_MODULE_39__.a.esunWallet)),c.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step3,c.stepsActive(),c.loadingSvc.loading(!1)}else c.messageService.alert(c.productPopupMsgSvc.popupMsg6()),c.loadingSvc.loading(!1)}),(function(e){console.error(e),c.messageService.alert(c.productPopupMsgSvc.popupMsg6()),c.loadingSvc.loading(!1)}));break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step2_2:this.carStepsService.currentStep++;break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step3:this.paymentDecisionComponent.routeBy(),this.lockStepNext=!0,setTimeout((function(){c.lockStepNext=!1}),1e4);break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step4:this.router.navigateByUrl("html/best-selling-car"),this.ecResponse=void 0,this.carStepsService.currentStep=src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1}}},CarInsuranceComponent.prototype.stepsActive=function(){switch(this.carStepsService.currentStep){case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_1:case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_2:case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step1_3:this.carStepsService.steps[0].isCurrentPage=!0,this.carStepsService.steps[1].isCurrentPage=!1,this.carStepsService.steps[2].isCurrentPage=!1,this.carStepsService.steps[3].isCurrentPage=!1;break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step2_1:case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step2_2:this.carStepsService.steps[1].isCurrentPage=!0,this.carStepsService.steps[0].isCurrentPage=!1,this.carStepsService.steps[2].isCurrentPage=!1,this.carStepsService.steps[3].isCurrentPage=!1;break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step3:this.carStepsService.steps[2].isCurrentPage=!0,this.carStepsService.steps[1].isCurrentPage=!1,this.carStepsService.steps[0].isCurrentPage=!1,this.carStepsService.steps[3].isCurrentPage=!1;break;case src_app_e_commerce_enums_car_insurance_steps_enums__WEBPACK_IMPORTED_MODULE_21__.a.step4:this.carStepsService.steps[3].isCurrentPage=!0,this.carStepsService.steps[1].isCurrentPage=!1,this.carStepsService.steps[2].isCurrentPage=!1,this.carStepsService.steps[0].isCurrentPage=!1}},CarInsuranceComponent.prototype.isInBlackList=function(e,t){var r=this;return this.amlService.callIfNameExist(e,t).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.a)((function(n){return r.piiLogSvc.callECPiilog(["\u8981\u4fdd\u4ebaID: "+e,"\u67e5\u8a62\u7d50\u679c: "+n.exist],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.CARE_LIST).subscribe(),r.piiLogSvc.callECPiilog(["\u88ab\u4fdd\u96aa\u4eba(\u8eca\u4e3b)ID: "+e,"\u67e5\u8a62\u7d50\u679c: "+n.exist],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.CARE_LIST).subscribe(),r.piiLogSvc.callECPiilog(["\u88ab\u4fdd\u96aa\u4eba(\u8eca\u4e3b)\u59d3\u540d: "+t,"\u67e5\u8a62\u7d50\u679c: "+n.exist],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.AML_LIST).subscribe(),n.exist?Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(n.exist):r.queryCareListByTaxId(e)})))},CarInsuranceComponent.prototype.queryCareListByTaxId=function(e){var t=this,r=!1;return this.amlService.queryCareListByTaxId(e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((function(n){return n&&n.careListTOs&&0!==n.careListTOs.filter((function(e){return"N"===e.deleted})).length&&(r=!0),t.piiLogSvc.callECPiilog(["\u8981\u4fdd\u4ebaID: "+e,"\u67e5\u8a62\u7d50\u679c: "+(r?"Y":"N")],_core_services_pii_log_enums_pii_transaction_enum__WEBPACK_IMPORTED_MODULE_22__.a.CARE_LIST).subscribe(),r})))},CarInsuranceComponent.prototype.reInsured=function(e,t){var r=this,n=[];return this.autoWebServiceSvc.inquireQuoteList({customerInsuredTaxId:e.toUpperCase(),plateNo:t,quoteCreateUserId:"0611118",quoteStatus:["30"]}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((function(e){var t=e.filter((function(e){var t;return r.getCaculateExpiryDays(null===(t=e.applicationFormTO.policyTOs.filter((function(e){return"C"===e.policyType}))[0])||void 0===t?void 0:t.expiryDate)>=90})).length>0,_=e.filter((function(e){var t;return r.getCaculateExpiryDays(null===(t=e.applicationFormTO.policyTOs.filter((function(e){return"V"===e.policyType}))[0])||void 0===t?void 0:t.expiryDate)>=90})).length>0;return t&&n.push("ctpl"),_&&n.push("vol"),n})))},CarInsuranceComponent.prototype.getCaculateExpiryDays=function(e){var t=moment__WEBPACK_IMPORTED_MODULE_6__(),r=t.format("YYYY-MM-DD"),n=moment__WEBPACK_IMPORTED_MODULE_6__(moment__WEBPACK_IMPORTED_MODULE_6__(e).format("YYYY-MM-DD HH:mm:ss")),_=n.get("hour")-t.get("hour"),a=n.diff(r,"days");return t.get("hour")<12&&_>0&&(a+=1),a},CarInsuranceComponent.prototype.showLoginModal=function(){var e=this;this.ref=this.modal.create({nzContent:_member_login_login_parent_login_parent_component__WEBPACK_IMPORTED_MODULE_29__.a,nzClosable:!1,nzWidth:400,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{currentPage:"login",product:"car"},nzOnCancel:function(t){"pwd"===t.currentPage&&(t.onParentPageChange("login"),e.showLoginModal())},nzOnOk:function(){e.onPageClick(_enums_page_btn_type_enums__WEBPACK_IMPORTED_MODULE_25__.a.next)}})},CarInsuranceComponent.prototype.showRegisterModal=function(){var e=this;this.ref=this.modal.create({nzContent:_member_register_register_modal_register_modal_component__WEBPACK_IMPORTED_MODULE_30__.a,nzClosable:!1,nzWidth:"90vw",nzFooter:null,nzMaskClosable:!1,nzComponentParams:{data:{taxId:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.taxId).value.toUpperCase(),dob:this.trialForm.get(src_app_e_commerce_product_vehicle_insurance_cards_trial_const_trial_form_keys_const__WEBPACK_IMPORTED_MODULE_19__.a.dob).value}},nzOnOk:function(){e.onPageClick(_enums_page_btn_type_enums__WEBPACK_IMPORTED_MODULE_25__.a.next)}})},CarInsuranceComponent.prototype.tempSave=function(e){return this.autoWebServiceSvc.saveQuoteInfo(e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((function(e){return e})))},CarInsuranceComponent.prototype.callConofirmQuote=function(e){return this.autoWebServiceSvc.confirmQuote(e).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.a)((function(e){return e})))},CarInsuranceComponent.\u0275fac=function(e){return new(e||CarInsuranceComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_41__.d),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_41__.e),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(_angular_router__WEBPACK_IMPORTED_MODULE_42__.g),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(_services_car_steps_car_steps_service__WEBPACK_IMPORTED_MODULE_43__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(ng_zorro_antd_modal__WEBPACK_IMPORTED_MODULE_44__.e),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_shared_message_message_service__WEBPACK_IMPORTED_MODULE_45__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(_angular_forms__WEBPACK_IMPORTED_MODULE_0__.f),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(_member_services_member_service__WEBPACK_IMPORTED_MODULE_46__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(_member_login_login_service__WEBPACK_IMPORTED_MODULE_47__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_core_services_email_email_service__WEBPACK_IMPORTED_MODULE_48__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_core_services_sms_sms_service__WEBPACK_IMPORTED_MODULE_49__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_core_services_cookie_cookie_service__WEBPACK_IMPORTED_MODULE_50__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_core_services_storage_storage_service__WEBPACK_IMPORTED_MODULE_8__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_e_commerce_product_vehicle_insurance_services_save_quote_in_storage_save_quote_in_storage_service__WEBPACK_IMPORTED_MODULE_51__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_e_commerce_product_vehicle_insurance_services_ec_common_service_ec_common_service__WEBPACK_IMPORTED_MODULE_52__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_core_services_loading_service__WEBPACK_IMPORTED_MODULE_53__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_e_commerce_product_vehicle_insurance_services_auto_web_service_auto_web_service_service__WEBPACK_IMPORTED_MODULE_54__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_e_commerce_product_vehicle_insurance_services_agent_web_service_agent_web_service__WEBPACK_IMPORTED_MODULE_55__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_e_commerce_product_vehicle_insurance_services_aml_web_service_aml_web_service__WEBPACK_IMPORTED_MODULE_56__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_e_commerce_product_vehicle_insurance_services_tii_web_service_tii_web_service__WEBPACK_IMPORTED_MODULE_57__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_core_services_networking_networking_service__WEBPACK_IMPORTED_MODULE_58__.b),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_core_services_pii_log_pii_log_service__WEBPACK_IMPORTED_MODULE_59__.a),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ub(src_app_e_commerce_product_vehicle_insurance_cards_insurance_product_services_product_popup_msg_service__WEBPACK_IMPORTED_MODULE_60__.a))},CarInsuranceComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_40__.Ob({type:CarInsuranceComponent,selectors:[["app-car-insurance"]],viewQuery:function(e,t){var r;1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_trial_trial_component__WEBPACK_IMPORTED_MODULE_28__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_insurance_product_insurance_product_component__WEBPACK_IMPORTED_MODULE_31__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_car_owner_info_car_owner_info_component__WEBPACK_IMPORTED_MODULE_32__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_car_info_car_info_component__WEBPACK_IMPORTED_MODULE_33__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_proposer_info_proposer_info_component__WEBPACK_IMPORTED_MODULE_34__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_thank_you_thank_you_component__WEBPACK_IMPORTED_MODULE_36__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_other_info_other_info_component__WEBPACK_IMPORTED_MODULE_37__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(src_app_shared_components_payment_decision_payment_decision_component__WEBPACK_IMPORTED_MODULE_38__.a,!0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vc(_cards_complete_page_complete_page_component__WEBPACK_IMPORTED_MODULE_35__.a,!0)),2&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.trialCmpt=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.insuranceProductCmpt=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.carOwnerCmpt=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.carInfoCmpt=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.proposerInfoCmpt=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.thankYouCmpt=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.otherInfoCmpt=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.paymentDecisionComponent=r.first),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Bc(r=_angular_core__WEBPACK_IMPORTED_MODULE_40__.jc())&&(t.completePageCmpt=r.first))},decls:33,vars:34,consts:[[1,"background-zone"],[1,"inner-container"],[1,"banner"],["href","https://www.nanshangeneral.com.tw/NSGeneralWeb/contactus/index.html/#contact_125","target","_blank",2,"color","white","text-decoration","underline"],["class","steps-zone",4,"ngIf"],[1,"steps-content"],[3,"formGroup"],[3,"isRenew"],[3,"isCaculateResultShow","isRenew"],[3,"response"],["class","steps-btn",4,"ngIf"],["class","step2_1OTP",4,"ngIf"],[1,"steps-zone"],[4,"ngFor","ngForOf"],["progress",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"step"],[1,"progress-number"],[1,"progress-title"],[1,"steps-btn"],["nz-button","","nzType","primary","nzShape","round",1,"prev-btn","mr-2",3,"click"],["nz-button","","nzType","primary","nzShape","round",3,"click"],[1,"step2_1OTP"],["nz-button","","nzType","primary","nzShape","round",1,"next-btn",3,"click"]],template:function(e,t){1&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(3,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(4,"\u6c7d\u8eca\u4fdd\u96aa"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(5,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(6," \u7db2\u8def\u6295\u4fdd\u66ab\u4e0d\u627f\u63a5\u65b0\u8eca(\u7121\u724c\u7167\u865f\u78bc)\uff0c\u65b0\u8eca\u6295\u4fdd\u8005\uff0c\u8acb\u6d3d\u8a620800-020-060#2\u6216\u89aa\u6d3d\u672c\u516c\u53f8"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(7,"a",3),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(8,"\u5168\u7701\u670d\u52d9\u6ac3\u53f0"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(9,"\u8fa6\u7406\u3002 "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(10,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Oc(11," \u6295\u4fdd\u6d41\u7a0b\u4e2d\u9700\u8f38\u5165\u8eca\u4e3b\u53ca\u8eca\u7c4d\u76f8\u95dc\u8cc7\u6599\uff0c\u53ef\u4ee5\u5148\u5099\u59a5\u300e\u8eca\u4e3b\u884c\u8eca\u57f7\u7167\u300f\uff0c\u4ee5\u5229\u5feb\u901f\u8f38\u5165\u5b8c\u6210\u6295\u4fdd\u3002 "),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(12,CarInsuranceComponent_div_12_Template,4,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(13,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(14,"form",6),_angular_core__WEBPACK_IMPORTED_MODULE_40__.ac(15,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(16,"app-trial"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(17,"app-input-terms"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(18,"app-car-owner-info",7),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(19,"app-proposer-info"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(20,"app-car-info"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(21,"app-insurance-product",8),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(22,"app-thank-you"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(23,"app-other-info"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(24,"app-confirm-terms"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(25,"app-waiting-failing",9),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(26,"app-payment-decision"),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Vb(27,"app-complete-page",9),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(28,CarInsuranceComponent_div_28_Template,5,5,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(29,CarInsuranceComponent_div_29_Template,5,4,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(30,CarInsuranceComponent_div_30_Template,4,0,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(31,CarInsuranceComponent_div_31_Template,1,0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Mc(32,CarInsuranceComponent_div_32_Template,3,0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb(),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Zb()),2&e&&(_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(12),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngIf",t.carStepsService.currentStep>=t.carInsuranceSteps.step1_3&&t.carStepsService.currentStep!==t.carInsuranceSteps.step2_2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("formGroup",t.policyForm),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step1_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(3),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step1_3),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("isRenew",t.isRenewal),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step2_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step1_3&&t.carStepsService.currentStep!==t.carInsuranceSteps.step2_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step1_2&&t.carStepsService.currentStep!==t.carInsuranceSteps.step1_3&&t.carStepsService.currentStep!==t.carInsuranceSteps.step2_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("isCaculateResultShow",t.isCaculateResultShow)("isRenew",t.isRenewal),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step1_3),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step2_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step2_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step2_2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("response",t.issuePolicyRes),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step3),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Kb("d-none",t.carStepsService.currentStep!==t.carInsuranceSteps.step4),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("response",t.issuePolicyRes),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngIf",t.carStepsService.currentStep!==t.carInsuranceSteps.step4&&t.carStepsService.currentStep!==t.carInsuranceSteps.step2_1&&t.carStepsService.currentStep!==t.carInsuranceSteps.step2_2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngIf",t.carStepsService.currentStep==t.carInsuranceSteps.step2_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngIf",t.carStepsService.currentStep==t.carInsuranceSteps.step2_1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngIf",t.carStepsService.currentStep==t.carInsuranceSteps.step2_2),_angular_core__WEBPACK_IMPORTED_MODULE_40__.Db(1),_angular_core__WEBPACK_IMPORTED_MODULE_40__.tc("ngIf",t.carStepsService.currentStep==t.carInsuranceSteps.step4))},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_61__.n,_angular_forms__WEBPACK_IMPORTED_MODULE_0__.w,_angular_forms__WEBPACK_IMPORTED_MODULE_0__.r,_angular_forms__WEBPACK_IMPORTED_MODULE_0__.k,_cards_trial_trial_component__WEBPACK_IMPORTED_MODULE_28__.a,_cards_input_terms_input_terms_component__WEBPACK_IMPORTED_MODULE_62__.a,_cards_car_owner_info_car_owner_info_component__WEBPACK_IMPORTED_MODULE_32__.a,_cards_proposer_info_proposer_info_component__WEBPACK_IMPORTED_MODULE_34__.a,_cards_car_info_car_info_component__WEBPACK_IMPORTED_MODULE_33__.a,_cards_insurance_product_insurance_product_component__WEBPACK_IMPORTED_MODULE_31__.a,_cards_thank_you_thank_you_component__WEBPACK_IMPORTED_MODULE_36__.a,_cards_other_info_other_info_component__WEBPACK_IMPORTED_MODULE_37__.a,_cards_confirm_terms_confirm_terms_component__WEBPACK_IMPORTED_MODULE_63__.a,_components_waiting_failing_waiting_failing_component__WEBPACK_IMPORTED_MODULE_64__.a,src_app_shared_components_payment_decision_payment_decision_component__WEBPACK_IMPORTED_MODULE_38__.a,_cards_complete_page_complete_page_component__WEBPACK_IMPORTED_MODULE_35__.a,_angular_common__WEBPACK_IMPORTED_MODULE_61__.m,_angular_common__WEBPACK_IMPORTED_MODULE_61__.s,ng_zorro_antd_button__WEBPACK_IMPORTED_MODULE_65__.a,ng_zorro_antd_core_wave__WEBPACK_IMPORTED_MODULE_66__.a,ng_zorro_antd_core_transition_patch__WEBPACK_IMPORTED_MODULE_67__.a],styles:[".inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}@media (min-width:1100px){.inner-container[_ngcontent-%COMP%]{padding:12px}}.banner[_ngcontent-%COMP%]{padding:50px}.banner[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700!important}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:60px}@media (max-width:1100px){.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px}}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width:1100px){.banner[_ngcontent-%COMP%]{padding:20px}}.a-white[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.a-white[_ngcontent-%COMP%]:hover{color:#00f}.steps-zone[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:0 60px;display:-ms-flexbox;display:flex}@media (max-width:1100px){.steps-zone[_ngcontent-%COMP%]{margin:15px;padding:0 20px}}.step[_ngcontent-%COMP%]{width:25%}@media (max-width:1100px){.step[_ngcontent-%COMP%]{text-align:center}}.progress-number[_ngcontent-%COMP%]{font-size:40px;color:#6f6f6f}@media (max-width:1100px){.progress-number[_ngcontent-%COMP%]{font-size:20px}}.progress-title[_ngcontent-%COMP%]{font-size:18px;color:#6f6f6f}@media (max-width:1100px){.progress-title[_ngcontent-%COMP%]{font-size:10px;display:block}}.active[_ngcontent-%COMP%]{color:orange}.steps-btn[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding:25px}@media (max-width:768px){.steps-btn[_ngcontent-%COMP%]{display:block;text-align:center}}.prev-btn[_ngcontent-%COMP%]{color:#fff;background-color:#4b4b4b;width:350px;border:none;height:45px}@media (max-width:768px){.prev-btn[_ngcontent-%COMP%]{margin:15px!important;width:300px}}@media (max-width:370px){.prev-btn[_ngcontent-%COMP%]{margin:15px!important;width:240px}}.next-btn_disabled[_ngcontent-%COMP%]{cursor:not-allowed;color:rgba(0,0,0,.25);background-color:grey;text-shadow:none;box-shadow:none;width:350px;border:none;height:45px}@media (max-width:768px){.next-btn_disabled[_ngcontent-%COMP%]{margin:15px;width:300px}}@media (max-width:370px){.next-btn_disabled[_ngcontent-%COMP%]{margin:15px!important;width:240px}}.next-btn[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(to right bottom,#ef8c51,#d75b11);width:350px;border:none;height:45px}@media (max-width:768px){.next-btn[_ngcontent-%COMP%]{margin:15px;width:300px}}@media (max-width:370px){.next-btn[_ngcontent-%COMP%]{margin:15px!important;width:240px}}.steps-content[_ngcontent-%COMP%]{margin:20px 0}.step2_1OTP[_ngcontent-%COMP%]{color:#f8e71c;margin-left:52%;padding-bottom:25px}@media (max-width:726px){.step2_1OTP[_ngcontent-%COMP%]{margin:0 100px}}@media (max-width:580px){.step2_1OTP[_ngcontent-%COMP%]{margin:0 50px}}"]}),CarInsuranceComponent}()},WD9E:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={customerId:"customerId",typeCode:"typeCode",taxId:"taxId",name:"name",gender:"gender",maritalStatus:"maritalStatus",contactPhoneNo:"contactPhoneNo",occupationCode:"occupationCode",contactCity:"contactCity",contactTown:"contactTown",contactZipCode:"contactZipCode",contactAddress:"contactAddress"}},YCyT:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("CLRB"),_=r("Ile4"),a=r("TYT/"),o=r("QJY3"),i=r("GgEC"),c=r("X5uw"),s=r("rCsC"),u=r("vmpY"),l=r("lVeq"),p=function(){function e(e,t){this.parentF=e,this.saveQuoteInService=t,this.carData=new _.a({}),this.makeName="",this.brandName=""}return Object.defineProperty(e.prototype,"trialForm",{get:function(){return this.policyForm.get(n.a.trialForm)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.policyForm=this.parentF.form},e.prototype.initData=function(){this.carData=this.saveQuoteInService.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getVehicleTO()},e.\u0275fac=function(t){return new(t||e)(a.Ub(o.k),a.Ub(i.a))},e.\u0275cmp=a.Ob({type:e,selectors:[["app-car-info"]],decls:43,vars:27,consts:[[3,"title","useTemplate"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-lg-5","px-3","pb-3"],[1,"col-lg-8","col-12","px-3","py-3"],["nz-row","",1,"showData"],["nz-col","",3,"nzLg","nzXs"]],template:function(e,t){1&e&&(a.ac(0,"app-expansion-panel",0),a.ac(1,"panel-content"),a.ac(2,"div",1),a.ac(3,"div",2),a.Oc(4," \u8981\u4fdd\u96aa\u4eba\u8207\u884c\u7167\u8eca\u4e3b\u53ca\u6301\u5361\u4eba\u9700\u70ba\u540c\u4e00\u4eba\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u53ca\u884c\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\uff0c\u8b1d\u8b1d\uff01 "),a.Zb(),a.ac(5,"div",3),a.ac(6,"div",4),a.ac(7,"div",5),a.ac(8,"p"),a.Oc(9,"\u724c\u7167\u865f\u78bc"),a.Zb(),a.ac(10,"span"),a.Oc(11),a.Zb(),a.Zb(),a.ac(12,"div",5),a.ac(13,"p"),a.Oc(14,"\u6392\u6c23\u91cf"),a.Zb(),a.ac(15,"span"),a.Oc(16),a.Zb(),a.Zb(),a.ac(17,"div",5),a.ac(18,"p"),a.Oc(19,"\u5ee0\u724c\u540d\u7a31"),a.Zb(),a.ac(20,"span"),a.Oc(21),a.Zb(),a.Zb(),a.ac(22,"div",5),a.ac(23,"p"),a.Oc(24,"\u8eca\u8f1b\u7a2e\u985e"),a.Zb(),a.ac(25,"span"),a.Oc(26),a.mc(27,"bodyTypeName"),a.Zb(),a.Zb(),a.ac(28,"div",5),a.ac(29,"p"),a.Oc(30,"\u88fd\u9020\u5e74\u4efd"),a.Zb(),a.ac(31,"span"),a.Oc(32),a.Zb(),a.Zb(),a.ac(33,"div",5),a.ac(34,"p"),a.Oc(35,"\u767c\u7167\u5e74\u6708\u65e5"),a.Zb(),a.ac(36,"span"),a.Oc(37),a.Zb(),a.Zb(),a.ac(38,"div",5),a.ac(39,"p"),a.Oc(40,"\u5f15\u64ce/\u8eca\u8eab\u865f\u78bc"),a.Zb(),a.ac(41,"span"),a.Oc(42),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb(),a.Zb()),2&e&&(a.tc("title","\u8eca\u7c4d\u8cc7\u6599")("useTemplate",!0),a.Db(7),a.tc("nzLg",8)("nzXs",24),a.Db(4),a.Pc(t.carData.plateNo),a.Db(1),a.tc("nzLg",16)("nzXs",24),a.Db(4),a.Rc("",t.carData.displacement," ",t.carData.displacementUnit,""),a.Db(1),a.tc("nzLg",8)("nzXs",24),a.Db(4),a.Pc(t.makeName),a.Db(1),a.tc("nzLg",8)("nzXs",24),a.Db(4),a.Pc(a.nc(27,25,t.carData.bodyTypeCode)),a.Db(2),a.tc("nzLg",8)("nzXs",24),a.Db(4),a.Rc("",t.carData.manufactureYear," \u5e74 ",t.carData.manufactureMonth," \u6708"),a.Db(1),a.tc("nzLg",8)("nzXs",24),a.Db(4),a.Pc(t.carData.getFirstRegistrationDate()),a.Db(1),a.tc("nzLg",8)("nzXs",24),a.Db(4),a.Pc(t.carData.engineNo))},directives:[c.a,s.a,u.c,u.a],pipes:[l.a],styles:[""]}),e}()},dFQ1:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("9rcF"),_=r("TYT/"),a=function(){function e(){this.steps=[{title:"\u8cc7\u6599\u8f38\u5165",value:"01",isCurrentPage:!0},{title:"\u8cc7\u6599\u78ba\u8a8d",value:"02",isCurrentPage:!1},{title:"\u7e73\u8cbb",value:"03",isCurrentPage:!1},{title:"\u5b8c\u6210\u6295\u4fdd",value:"04",isCurrentPage:!1}],this.currentStep=n.a.step1_1}return e.\u0275prov=_.Qb({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()},hB4F:function(e,t,r){"use strict";r.r(t);var n=r("Valr"),_=r("QJY3"),a=r("DUip"),o=r("V/m2"),i=r("mrSG"),c=r("omOQ"),s=r("rtiL"),u=r("GiNM"),l=r("TYT/"),p=r("MySR"),m=r("G6CK"),d=r("apbf");function g(e,t){1&e&&(l.ac(0,"p",13),l.Oc(1," \u88ab\u4fdd\u96aa\u4eba\u56e0\u4f7f\u7528\u6216\u7ba1\u7406\u88ab\u4fdd\u96aa\u6a5f\u8eca\u767c\u751f\u4ea4\u901a\u4e8b\u6545\uff0c\u81f4\u4e58\u5ba2\u6216\u8eca\u5916\u7b2c\u4e09\u4eba\u50b7\u5bb3\u6216\u6b7b\u4ea1\u8005\uff0c\u4e0d\u8ad6\u88ab\u4fdd\u96aa\u4eba\u6709\u7121\u904e\u5931\uff0c\u672c\u516c\u53f8\u61c9\u4f9d\u672c\u4fdd\u96aa\u5951\u7d04\u4e4b\u7d04\u5b9a\uff0c\u5c0d\u8acb\u6c42\u6b0a\u4eba\u7d66\u4ed8\u4fdd\u96aa\u91d1\u3002 "),l.Zb())}function h(e,t){if(1&e&&(l.Yb(0),l.ac(1,"div",14),l.Oc(2),l.Zb(),l.ac(3,"div",15),l.Oc(4),l.Zb(),l.ac(5,"div",16),l.Oc(6),l.Zb(),l.Xb()),2&e){var r=t.$implicit,n=t.index,_=l.lc().$implicit;l.Db(2),l.Qc(" ",0===n?_.title:""," "),l.Db(2),l.Qc(" ",r.description," "),l.Db(2),l.Qc(" ",r.options[0],"\u842c ")}}var E=function(){return{"min-width":"fit-content","max-width":"60vw"}};function D(e,t){if(1&e&&(l.ac(0,"div",7),l.ac(1,"div",8),l.ac(2,"div",9),l.ac(3,"h4"),l.Oc(4),l.Zb(),l.Vb(5,"i",10),l.Mc(6,g,2,0,"ng-template",null,11,l.Nc),l.Zb(),l.Zb(),l.Mc(8,h,7,3,"ng-container",12),l.Zb()),2&e){var r=t.$implicit,n=l.Cc(7);l.Db(4),l.Qc(" ",r.title," "),l.Db(1),l.tc("nzTooltipTitle",n)("nzTooltipOverlayStyle",l.wc(4,E)),l.Db(3),l.tc("ngForOf",r.coverageList)}}function b(e,t){if(1&e&&(l.Yb(0),l.Mc(1,D,9,5,"div",6),l.Xb()),2&e){var r=l.lc();l.Db(1),l.tc("ngForOf",r.compulsoryList)}}function f(e,t){if(1&e&&(l.Yb(0),l.ac(1,"div",14),l.Oc(2,"\u8ca1\u640d\u8cac\u4efb\u96aa -"),l.Zb(),l.ac(3,"div",15),l.Oc(4,"\u6bcf\u4e00\u610f\u5916\u4e8b\u6545\u8ca1\u7269\u640d\u5931"),l.Zb(),l.ac(5,"div",16),l.Oc(6),l.Zb(),l.Xb()),2&e){var r=l.lc(2);l.Db(6),l.Qc(" ",r.insur32Amount," ")}}function O(e,t){if(1&e&&(l.Yb(0),l.ac(1,"div",7),l.ac(2,"div",8),l.ac(3,"div",9),l.ac(4,"h4"),l.Oc(5,"\u6c7d\u8eca\u7b2c\u4e09\u4eba\u8cac\u4efb\u4fdd\u96aa"),l.Zb(),l.Zb(),l.Zb(),l.ac(6,"div",14),l.Oc(7,"\u50b7\u5bb3\u8cac\u4efb\u96aa -"),l.Zb(),l.ac(8,"div",15),l.Oc(9,"\u6bcf\u4e00\u500b\u4eba\u50b7\u5bb3"),l.Zb(),l.ac(10,"div",16),l.Oc(11),l.Zb(),l.Vb(12,"div",14),l.ac(13,"div",15),l.Oc(14,"\u6bcf\u4e00\u610f\u5916\u4e8b\u6545\u50b7\u5bb3"),l.Zb(),l.ac(15,"div",16),l.Oc(16),l.Zb(),l.Mc(17,f,7,1,"ng-container",5),l.Zb(),l.Xb()),2&e){var r=l.lc();l.Db(11),l.Qc(" ",r.insur31Amount_1," "),l.Db(5),l.Qc(" ",r.insur31Amount_2," "),l.Db(1),l.tc("ngIf",r.hasInsur32)}}function C(e,t){if(1&e&&(l.Yb(0),l.ac(1,"div",7),l.ac(2,"div",8),l.ac(3,"div",9),l.ac(4,"h4"),l.Oc(5,"\u6c7d\u8eca\u4fdd\u96aa\u9053\u8def\u6551\u63f4\u8cbb\u7528\u9644\u52a0\u689d\u6b3e"),l.Zb(),l.Zb(),l.Zb(),l.ac(6,"div",14),l.Oc(7,"\u9053\u8def\u6551\u63f4\u8cbb\u7528\u9644\u52a0\u689d\u6b3e"),l.Zb(),l.ac(8,"div",15),l.Oc(9,"\u4fdd\u96aa\u671f\u9593\u7d2f\u8a08\u6700\u9ad8\u8ce0\u511f\u91d1\u984d"),l.Zb(),l.ac(10,"div",16),l.Oc(11),l.Zb(),l.Zb(),l.Xb()),2&e){var r=l.lc();l.Db(11),l.Qc(" ",r.insur93Amount," ")}}function P(e,t){if(1&e&&(l.Yb(0),l.ac(1,"div",7),l.ac(2,"div",8),l.ac(3,"div",9),l.ac(4,"h4"),l.Oc(5,"\u6c7d\u8eca\u4fdd\u96aa\u8d85\u984d\u8cac\u4efb\u9644\u52a0\u689d\u6b3e(\u7d93\u6fdf\u578b)"),l.Zb(),l.Zb(),l.Zb(),l.ac(6,"div",14),l.Oc(7,"\u8d85\u984d\u8cac\u4efb\u9644\u52a0\u689d\u6b3e(\u7d93\u6fdf\u578b)"),l.Zb(),l.ac(8,"div",15),l.Oc(9,"\u4fdd\u96aa\u671f\u9593\u5167\u6bcf\u4e00\u4e8b\u6545\u8ce0\u511f\u9650\u984d"),l.Zb(),l.ac(10,"div",16),l.Oc(11),l.Zb(),l.Zb(),l.Xb()),2&e){var r=l.lc();l.Db(11),l.Qc(" ",r.insur39Amount," ")}}var v=function(){function e(){this.compulsoryList=[{index:"21",title:"\u6c7d\u8eca\u5f37\u5236\u8cac\u4efb\u96aa",coverageList:[{description:"\u6bcf\u4e00\u500b\u4eba\u50b7\u5bb3\u91ab\u7642\u6700\u9ad8",options:["20"]},{description:"\u6bcf\u4e00\u500b\u4eba\u5931\u80fd\u6700\u9ad8",options:["200"]},{description:"\u6bcf\u4e00\u500b\u4eba\u6b7b\u4ea1\u5b9a\u984d\u7d66\u4ed8",options:["200"]}]}],this.insur31Amount_1="",this.insur31Amount_2="",this.insur32Amount="",this.insur93Amount="",this.insur39Amount=""}return Object.defineProperty(e.prototype,"hasInsur21",{get:function(){return 0!==this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("21")})).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasInsur31",{get:function(){return 0!==this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("31")})).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasInsur32",{get:function(){return 0!==this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("32")})).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasInsur93",{get:function(){return 0!==this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("93")})).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasInsur39",{get:function(){return 0!==this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("39")})).length},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){console.log(this.policyDetailList),this.getInsurAmount()},e.prototype.getInsurAmount=function(){if(this.hasInsur31){var e=this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("31")}))[0].st004CoverageFaceAmount.replace(/[,]/g,"");this.insur31Amount_1=String(Number(e.substring(0,e.indexOf("/")))/1e4)+"\u842c",this.insur31Amount_2=String(Number(e.substring(e.indexOf("/")+1))/1e4)+"\u842c"}this.hasInsur32&&(e=this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("32")}))[0].st004CoverageFaceAmount.replace(/[,]/g,""),this.insur32Amount=String(Number(e)/1e4)+"\u842c"),this.hasInsur93&&(e=this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("93")}))[0].st004CoverageFaceAmount.replace(/[,]/g,""),this.insur93Amount=String(Number(e)/1e4)+"\u842c"),this.hasInsur39&&(e=this.policyDetailList.filter((function(e){return e.st004CoverageDesc.includes("39")}))[0].st004CoverageFaceAmount.replace(/[,]/g,""),this.insur39Amount=String(Number(e)/1e4)+"\u842c")},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Ob({type:e,selectors:[["app-policy-detail-modal"]],decls:12,vars:4,consts:[[1,"p-4"],[1,"row","no-gutters"],[1,"col-6"],[1,"text-blue"],[1,"text-blue","d-none","d-md-block","text-right"],[4,"ngIf"],["class","row no-gutters text-black",4,"ngFor","ngForOf"],[1,"row","no-gutters","text-black"],[1,"col-12","product-title","py-2"],[1,"d-flex","align-items-center"],["nz-icon","","nzType","question-circle","nzTheme","fill","nz-tooltip","",1,"popup-icon",2,"color","#f5a623",3,"nzTooltipTitle","nzTooltipOverlayStyle"],["product_21",""],[4,"ngFor","ngForOf"],[2,"margin","0"],[1,"col-lg-6","col-md-5","col-12","py-2"],[1,"col-md-4","col-10","py-2"],[1,"col-lg-2","col-md-3","col-2","py-2","text-right","text-blue"]],template:function(e,t){1&e&&(l.ac(0,"div",0),l.ac(1,"div",1),l.ac(2,"div",2),l.ac(3,"span",3),l.Oc(4,"\u4fdd\u969c\u5167\u5bb9\uff08\u5546\u54c1\u4ecb\u7d39\uff09"),l.Zb(),l.Zb(),l.ac(5,"div",2),l.ac(6,"span",4),l.Oc(7,"\u4fdd\u969c\u91d1\u984d\uff08\u55ae\u4f4d\uff1a\u65b0\u53f0\u5e63\u5143\uff09"),l.Zb(),l.Zb(),l.Zb(),l.Mc(8,b,2,1,"ng-container",5),l.Mc(9,O,18,3,"ng-container",5),l.Mc(10,C,12,1,"ng-container",5),l.Mc(11,P,12,1,"ng-container",5),l.Zb()),2&e&&(l.Db(8),l.tc("ngIf",t.hasInsur21),l.Db(1),l.tc("ngIf",t.hasInsur31),l.Db(1),l.tc("ngIf",t.hasInsur93),l.Db(1),l.tc("ngIf",t.hasInsur39))},directives:[n.n,n.m,p.a,m.a,d.d],styles:[".ant-select[_ngcontent-%COMP%]{width:90px;color:#0081c6}.product-title[_ngcontent-%COMP%]{border-bottom:3px solid #0081c6!important}.popup-title[_ngcontent-%COMP%]{color:#000;margin-left:5px}.discount-premium[_ngcontent-%COMP%]{font-size:40px;margin:0}.re-calculate-btn[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(90deg,#00b7e5,#008fd5);padding:0 30px;border:none;margin-top:20px}.disabled[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#979797!important}.disabled[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{border-bottom:3px solid #979797!important}"]}),e}(),M=r("wd/R"),y=r("E1rE"),I=r("R08+"),T=r("Dy0J"),A=r("/dic"),L=r("SloE"),S=r("ThRj"),U=r("X5uw"),R=r("rCsC"),k=r("611w");function B(e,t){if(1&e){var r=l.bc();l.ac(0,"tr",11),l.ac(1,"td",12),l.Oc(2),l.Zb(),l.ac(3,"td",13),l.ic("click",(function(){l.Ec(r);var e=t.$implicit;return l.lc().policyDetail(e)})),l.ac(4,"a",14),l.Oc(5),l.Zb(),l.Zb(),l.ac(6,"td",15),l.Oc(7),l.Zb(),l.ac(8,"td",16),l.Oc(9),l.Zb(),l.ac(10,"td",17),l.Oc(11),l.Zb(),l.Zb()}if(2&e){var n=t.$implicit;l.Db(2),l.Pc(n.PolicyType),l.Db(3),l.Qc(" ",n.PolicyNo," "),l.Db(2),l.Pc(n.EffectiveDate),l.Db(2),l.Pc(n.ExpiryDate),l.Db(2),l.Qc(" ",n.DuePremium," ")}}var w=function(){function e(e,t,r,n,_,a,o,i){this.meta=e,this.title=t,this.nzModalService=r,this.manageService=n,this.messageService=_,this.loginService=a,this.storage=o,this.networkingService=i,this.policyList=[],this.moment=M}return Object.defineProperty(e.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.storage.getData(c.a.token,s.b.SESSION)||this.networkingService.getEBaoToken(),this.user&&this.user.getUserId()?this.getPolicyList():this.showLoginModal()},e.prototype.ngOnDestroy=function(){},e.prototype.showLoginModal=function(){var e=this;this.loginRef=this.nzModalService.create({nzContent:u.a,nzClosable:!1,nzWidth:400,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{currentPage:"login",product:"car"},nzOnCancel:function(t){"pwd"===t.currentPage&&(t.onParentPageChange("login"),e.showLoginModal())},nzOnOk:function(){e.getPolicyList()}})},e.prototype.getPolicyList=function(){var e=this;this.manageService.inquirePolicyInformation(this.user.getUserId()).subscribe((function(t){e.policyList=t.policyList.filter((function(e){return e.st001InsuranceTypeDesc.includes("\u6c7d\u8eca\u5f37\u5236\u96aa")||e.st001InsuranceTypeDesc.includes("\u6c7d\u8eca\u4efb\u610f\u96aa")})).map((function(e){var t="";return e.st001InsuranceTypeDesc.includes("\u6c7d\u8eca\u5f37\u5236\u96aa")?t="\u6c7d\u8eca\u5f37\u5236\u96aa":e.st001InsuranceTypeDesc.includes("\u6c7d\u8eca\u4efb\u610f\u96aa")&&(t="\u6c7d\u8eca\u4efb\u610f\u96aa"),Object(i.a)({PolicyType:t,PolicyNo:e.nsgiPolicyNo,EffectiveDate:e.st001PolicyEffectiveDate,ExpiryDate:e.st001PolicyExpiryDate,DuePremium:e.st001PolicyPremiumAmount},e)})),0===e.policyList.length&&e.messageService.alert("\u60a8\u7121\u4efb\u4f55\u5df2\u6295\u4fdd\u4e4b\u6709\u6548\u4fdd\u55ae")}))},e.prototype.policyDetail=function(e){var t=this,r={};e.nsgiPolicyNo&&Object.assign(r,{nsgiPolicyNo:e.nsgiPolicyNo}),e.sapPolicyNo&&Object.assign(r,{sapPolicyNo:e.sapPolicyNo}),e.quotationNo&&Object.assign(r,{quotationNo:e.quotationNo}),this.manageService.inquirePolicyDetail(r).subscribe((function(e){e.policyDetailList&&0!==e.policyDetailList.length?t.nzModalService.create({nzClosable:!1,nzFooter:null,nzWidth:"90%",nzContent:v,nzComponentParams:{policyDetailList:e.policyDetailList},nzOnOk:function(){return console.log("modal click ok")}}):t.messageService.alert("Not Found")}))},e.\u0275fac=function(t){return new(t||e)(l.Ub(y.d),l.Ub(y.e),l.Ub(I.e),l.Ub(T.a),l.Ub(A.a),l.Ub(L.a),l.Ub(s.a),l.Ub(S.b))},e.\u0275cmp=l.Ob({type:e,selectors:[["app-management"]],decls:24,vars:4,consts:[[1,"background-zone"],[1,"inner-container"],[1,"banner"],[1,"content-box"],[3,"title","headerHint","useTemplate"],[1,"table","table991","thead-blue"],["policyTable",""],[1,"custom-thead"],["scope","col"],["scope","col",1,"text-lg-center"],["class","tr-hover",4,"ngFor","ngForOf"],[1,"tr-hover"],["data-title","\u96aa\u7a2e"],["data-title","\u4fdd\u55ae\u865f\u78bc",3,"click"],[1,"colorOrange2",2,"text-decoration","underline"],["data-title","\u4fdd\u55ae\u751f\u6548\u65e5"],["data-title","\u4fdd\u55ae\u5230\u671f\u65e5"],["data-title","\u4fdd\u8cbb",1,"text-lg-center"]],template:function(e,t){1&e&&(l.ac(0,"div",0),l.ac(1,"div",1),l.ac(2,"div",2),l.ac(3,"h4"),l.Oc(4,"\u6211\u7684\u4fdd\u55ae-\u6c7d\u8eca\u96aa"),l.Zb(),l.Zb(),l.ac(5,"div",3),l.ac(6,"app-expansion-panel",4),l.ac(7,"panel-content"),l.ac(8,"table",5,6),l.ac(10,"thead",7),l.ac(11,"tr"),l.ac(12,"th",8),l.Oc(13,"\u96aa\u7a2e"),l.Zb(),l.ac(14,"th",8),l.Oc(15,"\u4fdd\u55ae\u865f\u78bc"),l.Zb(),l.ac(16,"th",8),l.Oc(17,"\u4fdd\u55ae\u751f\u6548\u65e5"),l.Zb(),l.ac(18,"th",8),l.Oc(19,"\u4fdd\u55ae\u5230\u671f\u65e5"),l.Zb(),l.ac(20,"th",9),l.Oc(21,"\u4fdd\u8cbb"),l.Zb(),l.Zb(),l.Zb(),l.ac(22,"tbody"),l.Mc(23,B,12,5,"tr",10),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()),2&e&&(l.Db(6),l.tc("title","\u4fdd\u55ae\u5217\u8868")("headerHint","\u672c\u5217\u8868\u50c5\u63d0\u4f9b\u900f\u7531\u7db2\u8def\u6295\u4fdd\u6c7d\u8eca\u96aa\u4fdd\u55ae\u67e5\u8a62")("useTemplate",!0),l.Db(17),l.tc("ngForOf",t.policyList))},directives:[U.a,R.a,k.f,k.g,k.a,k.e,k.d,n.m],styles:[".colorOrange2[_ngcontent-%COMP%]{color:#e57a3a}.inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto;padding:12px}.banner[_ngcontent-%COMP%]{padding:50px}.banner[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700!important}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:60px}@media (max-width:1100px){.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px}}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width:1100px){.banner[_ngcontent-%COMP%]{padding:20px}}.content-box[_ngcontent-%COMP%]{margin:20px 0}.tr-hover[_ngcontent-%COMP%]:hover{background-color:#dcdcdc}"]}),e}(),W=r("dHmp"),K=r("QgVs"),F=r("SNVz");function x(e,t){if(1&e&&(l.ac(0,"span",19),l.Oc(1),l.Zb()),2&e){var r=l.lc().$implicit;l.Db(1),l.Qc(" ",r.originalPolicyNo4Voluntary,"(\u4efb\u610f\u96aa) ")}}function z(e,t){if(1&e&&(l.ac(0,"span",19),l.Oc(1),l.Zb()),2&e){var r=l.lc().$implicit;l.Db(1),l.Qc(" ",r.originalPolicyNo4Ctpl,"(\u5f37\u5236\u96aa) ")}}function Z(e,t){if(1&e&&(l.ac(0,"div"),l.Oc(1),l.Zb()),2&e){var r=l.lc().$implicit;l.Db(1),l.Qc(" ",r.expectedEffectiveDate4Voluntary," ")}}function V(e,t){if(1&e&&(l.ac(0,"div"),l.Oc(1),l.Zb()),2&e){var r=l.lc().$implicit;l.Db(1),l.Qc(" ",r.expectedEffectiveDate4Ctpl," ")}}function N(e,t){if(1&e){var r=l.bc();l.ac(0,"tr",11),l.ac(1,"td",12),l.Oc(2),l.Zb(),l.ac(3,"td",13),l.ac(4,"div"),l.Mc(5,x,2,1,"span",14),l.Zb(),l.ac(6,"div"),l.Mc(7,z,2,1,"span",14),l.Zb(),l.Zb(),l.ac(8,"td",15),l.Mc(9,Z,2,1,"div",16),l.Mc(10,V,2,1,"div",16),l.Zb(),l.ac(11,"td",17),l.ac(12,"a",18),l.ic("click",(function(){l.Ec(r);var e=t.$implicit;return l.lc().onRenewalClick(e)})),l.Oc(13,"\u6211\u8981\u7e8c\u4fdd"),l.Zb(),l.Zb(),l.Zb()}if(2&e){var n=t.$implicit;l.Db(2),l.Pc(n.plateNo),l.Db(3),l.tc("ngIf",n.originalPolicyNo4Voluntary),l.Db(2),l.tc("ngIf",n.originalPolicyNo4Ctpl),l.Db(2),l.tc("ngIf",n.expectedEffectiveDate4Voluntary),l.Db(1),l.tc("ngIf",n.expectedEffectiveDate4Ctpl)}}var Y=[{path:"",component:o.a},{path:"management",component:w},{path:"renewal",component:function(){function e(e,t,r,n,_,a){this.nzModalService=e,this.manageService=t,this.messageService=r,this.loginService=n,this.router=_,this.autoWebServiceService=a,this.renewalList=[],this.moment=M}return Object.defineProperty(e.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.user&&this.user.getUserId()?this.getRenewalList():this.showLoginModal()},e.prototype.ngOnDestroy=function(){},e.prototype.showLoginModal=function(){var e=this;this.loginRef=this.nzModalService.create({nzContent:u.a,nzClosable:!1,nzWidth:400,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{currentPage:"login",product:"car"},nzOnCancel:function(t){"pwd"===t.currentPage&&(t.onParentPageChange("login"),e.showLoginModal())},nzOnOk:function(){e.getRenewalList()}})},e.prototype.getRenewalList=function(){var e=this;this.autoWebServiceService.inquireRenewList(this.user.getUserId()).subscribe((function(t){t&&t.renewInfoTOs&&0===t.renewInfoTOs.filter((function(e){return e.policyStatus===K.a.QUOTATION_CONFIRM&&(e.bodyTypeCode===W.a.PRIVATE_PASSENGER_VEHICLE||e.bodyTypeCode===W.a.PRIVATE_UTILITY_VEHICLE||e.bodyTypeCode===W.a.COMPANY_UTILITY_VEHICLE||e.bodyTypeCode===W.a.LEASED_CAR||e.bodyTypeCode===W.a.NOTCHBACK)})).length?e.messageService.alert("\u76ee\u524d\u66ab\u7121\u7e8c\u4fdd\u8cc7\u8a0a\uff1b\u82e5\u6709\u6295\u4fdd\u9700\u6c42\uff0c\u8acb\u81f3\u300c\u6211\u8981\u6295\u4fdd\u300d\u9032\u884c\u6295\u4fdd\u4e8b\u5b9c\u3002"):t&&t.renewInfoTOs&&0!==t.renewInfoTOs.filter((function(e){return e.policyStatus===K.a.QUOTATION_CONFIRM})).length&&(e.renewalList=t.renewInfoTOs)}))},e.prototype.onRenewalClick=function(e){var t=this;e.quoteId&&e.ownerTaxId?this.autoWebServiceService.inquireRenewDetail(e.ownerTaxId,e.quoteId).subscribe((function(e){console.log(e),0!==e.quoteInfoTOs.length?(t.autoWebServiceService.renewalPolicyDetail=e.quoteInfoTOs,t.router.navigate(["html","car-insurance"],{queryParams:{type:"renewal"}})):t.messageService.alert("\u60a8\u6295\u4fdd\u72c0\u614b\u7570\u5e38,\u8acb\u806f\u7e6b0800-020-060#2")})):this.messageService.alert("\u60a8\u6295\u4fdd\u72c0\u614b\u7570\u5e38,\u8acb\u806f\u7e6b0800-020-060#2")},e.\u0275fac=function(t){return new(t||e)(l.Ub(I.e),l.Ub(T.a),l.Ub(A.a),l.Ub(L.a),l.Ub(a.g),l.Ub(F.a))},e.\u0275cmp=l.Ob({type:e,selectors:[["app-renewal"]],decls:22,vars:4,consts:[[1,"background-zone"],[1,"inner-container"],[1,"banner"],[1,"content-box"],[3,"title","headerHint","useTemplate"],[1,"table","table991","thead-blue"],["policyTable",""],[1,"custom-thead"],["scope","col"],["scope","col",1,"text-lg-center"],["class","tr-hover",4,"ngFor","ngForOf"],[1,"tr-hover"],["data-title","\u8eca\u724c"],["data-title","\u4fdd\u55ae\u865f\u78bc"],["class","colorOrange2",4,"ngIf"],["data-title","\u4fdd\u55ae\u5230\u671f\u65e5"],[4,"ngIf"],["data-title","\u7e8c\u4fdd",1,"text-lg-center"],[2,"color","red","text-decoration","underline",3,"click"],[1,"colorOrange2"]],template:function(e,t){1&e&&(l.ac(0,"div",0),l.ac(1,"div",1),l.ac(2,"div",2),l.ac(3,"h4"),l.Oc(4,"\u6211\u8981\u7e8c\u4fdd-\u6c7d\u8eca\u96aa"),l.Zb(),l.Zb(),l.ac(5,"div",3),l.ac(6,"app-expansion-panel",4),l.ac(7,"panel-content"),l.ac(8,"table",5,6),l.ac(10,"thead",7),l.ac(11,"tr"),l.ac(12,"th",8),l.Oc(13,"\u8eca\u724c"),l.Zb(),l.ac(14,"th",8),l.Oc(15,"\u4fdd\u55ae\u865f\u78bc"),l.Zb(),l.ac(16,"th",8),l.Oc(17,"\u4fdd\u55ae\u5230\u671f\u65e5"),l.Zb(),l.ac(18,"th",9),l.Oc(19,"\u7e8c\u4fdd"),l.Zb(),l.Zb(),l.Zb(),l.ac(20,"tbody"),l.Mc(21,N,14,5,"tr",10),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()),2&e&&(l.Db(6),l.tc("title","\u7e8c\u4fdd\u5217\u8868")("headerHint","\u50c5\u5217\u51fa\u6c7d\u8eca\u96aa\u53ef\u4f9b\u7e8c\u4fdd\u7684\u4fdd\u55ae")("useTemplate",!0),l.Db(15),l.tc("ngForOf",t.renewalList))},directives:[U.a,R.a,k.f,k.g,k.a,k.e,k.d,n.m,n.n],styles:[".colorOrange2[_ngcontent-%COMP%]{color:#e57a3a}.inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto;padding:12px}.banner[_ngcontent-%COMP%]{padding:50px}.banner[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700!important}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:60px}@media (max-width:1100px){.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px}}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width:1100px){.banner[_ngcontent-%COMP%]{padding:20px}}.content-box[_ngcontent-%COMP%]{margin:20px 0}.tr-hover[_ngcontent-%COMP%]:hover{background-color:#dcdcdc}"]}),e}()}],q=function(){function e(){}return e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(Y)],a.j]}),e}(),Q=r("PCNd");r.d(t,"CarInsuranceModule",(function(){return j}));var j=function(){function e(){}return e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({factory:function(t){return new(t||e)},providers:[_.k],imports:[[n.c,q,Q.a,_.m,_.u]]}),e}()},i3dd:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("CLRB"),_=r("TYT/"),a=r("SloE"),o=r("QJY3"),i=r("rtiL"),c=r("X5uw"),s=r("rCsC"),u=r("vmpY"),l=r("7NbI"),p=r("0JE0"),m=r("TVoc"),d=function(){function e(e,t,r){this.loginService=e,this.parentF=t,this.storage=r,this.customer={}}return Object.defineProperty(e.prototype,"customerForm",{get:function(){return this.policyForm.get(n.a.customerForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.policyForm=this.parentF.form},e.prototype.initData=function(){this.customer=this.customerForm.getRawValue()},e.\u0275fac=function(t){return new(t||e)(_.Ub(a.a),_.Ub(o.k),_.Ub(i.a))},e.\u0275cmp=_.Ob({type:e,selectors:[["app-proposer-info"]],decls:60,vars:39,consts:[[3,"title","useTemplate"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-lg-5","px-3","pb-3"],[1,"col-lg-8","col-12","px-lg-5","px-3","mt-2"],["nz-row","",1,"showData"],["nz-col","",3,"nzSpan"],["nz-col","",3,"nzLg","nzXs"]],template:function(e,t){1&e&&(_.ac(0,"app-expansion-panel",0),_.ac(1,"panel-content"),_.ac(2,"div",1),_.ac(3,"div",2),_.Oc(4," \u8981\u4fdd\u96aa\u4eba\u8207\u884c\u7167\u8eca\u4e3b\u53ca\u6301\u5361\u4eba\u9700\u70ba\u540c\u4e00\u4eba\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u53ca\u884c\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\uff0c\u8b1d\u8b1d\uff01 "),_.Zb(),_.ac(5,"div",3),_.ac(6,"div",4),_.ac(7,"div",5),_.ac(8,"p"),_.Oc(9,"\u59d3\u540d"),_.Zb(),_.ac(10,"span"),_.Oc(11),_.Zb(),_.Zb(),_.ac(12,"div",6),_.ac(13,"p"),_.Oc(14,"\u8eab\u5206\u8b49\u5b57\u865f"),_.Zb(),_.ac(15,"span"),_.Oc(16),_.Zb(),_.Zb(),_.ac(17,"div",6),_.ac(18,"p"),_.Oc(19,"\u6027\u5225"),_.Zb(),_.ac(20,"span"),_.Oc(21),_.mc(22,"gender"),_.Zb(),_.Zb(),_.ac(23,"div",6),_.ac(24,"p"),_.Oc(25,"\u806f\u7d61\u96fb\u8a71"),_.Zb(),_.ac(26,"span"),_.Oc(27),_.Zb(),_.Zb(),_.ac(28,"div",6),_.ac(29,"p"),_.Oc(30,"\u51fa\u751f\u65e5\u671f"),_.Zb(),_.ac(31,"span"),_.Oc(32),_.Zb(),_.Zb(),_.ac(33,"div",6),_.ac(34,"p"),_.Oc(35,"\u5a5a\u59fb\u72c0\u6cc1"),_.Zb(),_.ac(36,"span"),_.Oc(37),_.mc(38,"maritalStatus"),_.Zb(),_.Zb(),_.ac(39,"div",6),_.ac(40,"p"),_.Oc(41,"\u8077\u696d"),_.Zb(),_.ac(42,"span"),_.Oc(43),_.mc(44,"occupationCode"),_.Zb(),_.Zb(),_.ac(45,"div",6),_.ac(46,"p"),_.Oc(47,"\u884c\u52d5\u96fb\u8a71"),_.Zb(),_.ac(48,"span"),_.Oc(49),_.Zb(),_.Zb(),_.ac(50,"div",6),_.ac(51,"p"),_.Oc(52,"Email"),_.Zb(),_.ac(53,"span"),_.Oc(54),_.Zb(),_.Zb(),_.ac(55,"div",5),_.ac(56,"p"),_.Oc(57,"\u806f\u7d61\u5730\u5740 (\u5c45\u4f4f\u5730\u5740)"),_.Zb(),_.ac(58,"span"),_.Oc(59),_.Zb(),_.Zb(),_.Zb(),_.Zb(),_.Zb(),_.Zb(),_.Zb()),2&e&&(_.tc("title","\u8981\u4fdd\u4eba\u8cc7\u6599")("useTemplate",!0),_.Db(7),_.tc("nzSpan",24),_.Db(4),_.Pc(null==t.user?null:t.user.getUserName()),_.Db(1),_.tc("nzLg",8)("nzXs",24),_.Db(4),_.Pc(null==t.user?null:t.user.getUserId()),_.Db(1),_.tc("nzLg",8)("nzXs",12),_.Db(4),_.Qc(" ",_.nc(22,33,null==t.user?null:t.user.getUserSex())," "),_.Db(2),_.tc("nzLg",8)("nzXs",12),_.Db(4),_.Pc(t.customer.contactPhoneNo),_.Db(1),_.tc("nzLg",8)("nzXs",24),_.Db(4),_.Pc(null==t.user?null:t.user.getUserDob()),_.Db(1),_.tc("nzLg",8)("nzXs",12),_.Db(4),_.Pc(_.nc(38,35,t.customer.maritalStatus)),_.Db(2),_.tc("nzLg",8)("nzXs",12),_.Db(4),_.Pc(_.nc(44,37,t.customer.occupationCode)),_.Db(2),_.tc("nzLg",8)("nzXs",24),_.Db(4),_.Pc(null==t.user?null:t.user.getMobile()),_.Db(1),_.tc("nzLg",16)("nzXs",24),_.Db(4),_.Pc(null==t.user?null:t.user.getEmail()),_.Db(1),_.tc("nzSpan",24),_.Db(4),_.Tc(" (",t.customer.contactZipCode,") ",t.customer.contactCity,"",t.customer.contactTown,"",t.customer.contactAddress," "))},directives:[c.a,s.a,u.c,u.a],pipes:[l.a,p.a,m.a],styles:[""]}),e}()},lMNm:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("QJY3"),_=r("CLRB"),a=r("QpsE"),o=r("TYT/"),i=r("X5uw"),c=r("rCsC"),s=r("XrdD"),u=function(){function e(e){this.parentF=e,this.tabs=[{title:"\u7522\u96aa\u696d\u5c65\u884c\u500b\u4eba\u8cc7\u6599\u4fdd\u8b77\u6cd5\u544a\u77e5\u7fa9\u52d9\u5167\u5bb9",terms:a.a.terms1,disabled:!0,checked:!1},{title:"\u7db2\u8def\u6295\u4fdd\u8072\u660e\u4e8b\u9805",terms:a.a.terms2,disabled:!0,checked:!1}]}return Object.defineProperty(e.prototype,"termsForm",{get:function(){return this.policyForm.get(_.a.termsForm)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setTermsForm()},e.prototype.setTermsForm=function(){this.policyForm=this.parentF.form,this.termsForm.addControl(a.a.terms1,new n.g(!1,[n.v.requiredTrue])),this.termsForm.addControl(a.a.terms2,new n.g(!1,[n.v.requiredTrue]))},e.\u0275fac=function(t){return new(t||e)(o.Ub(n.k))},e.\u0275cmp=o.Ob({type:e,selectors:[["app-input-terms"]],decls:3,vars:4,consts:[[3,"title","useTemplate"],[3,"tabs","product"]],template:function(e,t){1&e&&(o.ac(0,"app-expansion-panel",0),o.ac(1,"panel-content"),o.Vb(2,"app-custom-tab",1),o.Zb(),o.Zb()),2&e&&(o.tc("title","\u7db2\u8def\u6295\u4fdd\u544a\u77e5\u7fa9\u52d9\u5167\u5bb9\u53ca\u8072\u660e\u4e8b\u9805")("useTemplate",!1),o.Db(2),o.tc("tabs",t.tabs)("product","car"))},directives:[i.a,c.a,s.a],styles:[""]}),e}()},pfar:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n=r("QJY3"),_=r("QkTj"),a=r.n(_),o=r("CLRB"),i=r("WD9E"),c=r("olDj"),s=r("kuxr"),u=r("lc5b"),l=r("j4cX"),p=r("TYT/"),m=r("SloE"),d=r("X5uw"),g=r("rCsC"),h=r("/RLq"),E=r("Valr"),D=r("vmpY"),b=r("j+pk"),f=r("yTlr"),O=r("RQUG"),C=r("MySR"),P=r("G6CK"),v=r("apbf"),M=r("du9V");function y(e,t){1&e&&(p.ac(0,"p",28),p.Oc(1," \u4ee5\u4e0b\u70ba\u60a8\u7684\u611b\u8eca\u7e8c\u4fdd\u8cc7\u6599\uff0c\u8acb\u78ba\u8a8d\u5404\u9805\u8cc7\u6599\u8207\u4fdd\u96aa\u5167\u5bb9\u662f\u5426\u6b63\u78ba\uff0c\u4e26\u4f9d\u6b65\u9a5f\u64cd\u4f5c\u5373\u53ef\u5b8c\u6210\u6295\u4fdd "),p.Zb())}function I(e,t){1&e&&(p.ac(0,"p",29),p.Oc(1," \u5f8b\u5e2b\u3001\u6703\u8a08\u5e2b\u3001\u516c\u8b49\u4eba\uff0c\u6216\u662f\u5176\u5408\u5925\u4eba\u6216\u53d7\u50f1\u4eba\u3002\u8ecd\u706b\u5546\u3001\u4e0d\u52d5\u7522\u7d93\u7d00\u4eba\u3002 "),p.Vb(2,"br"),p.Oc(3," \u7576\u92ea\u696d\u3001\u878d\u8cc7\u5f9e\u696d\u4eba\u54e1\u3002\u5bf6\u77f3\u53ca\u8cb4\u91d1\u5c6c\u4ea4\u6613\u5546\u3002\u85dd\u8853\u54c1/\u9aa8\u8463\u4ea4\u6613\u5546\u3001\u62cd\u8ce3\u516c\u53f8\u3002 "),p.Vb(4,"br"),p.Oc(5," \u57fa\u91d1\u6703\u3001\u5354\u6703/\u5bfa\u5edf\u3001\u6559\u6703\u5f9e\u696d\u4eba\u54e1\u3002\u535a\u5f08\u7522\u696d/\u516c\u53f8\u3002\u532f\u6b3e\u516c\u53f8\u3001\u5916\u5e63\u514c\u63db\u6240\u3002 "),p.Vb(6,"br"),p.Oc(7," \u5916\u4ea4\u4eba\u54e1\u3001\u5927\u4f7f\u9928\u3001\u8fa6\u4e8b\u8655\u3002\u865b\u64ec\u8ca8\u5e63\u7684\u767c\u884c\u8005\u6216\u4ea4\u6613\u5546\u3002 "),p.Zb())}function T(e,t){if(1&e&&p.Vb(0,"nz-option",30),2&e){var r=t.$implicit;p.tc("nzValue",r.id)("nzLabel",r.name)}}function A(e,t){if(1&e&&p.Vb(0,"nz-option",30),2&e){var r=t.$implicit,n=p.lc();p.tc("nzValue",r.city)("nzLabel",n.screenSize<=576?r.city+r.id:r.city)}}var L=function(){return{"min-width":"fit-content","max-width":"60vw"}},S=function(){function e(e,t){var r=this;this.parentF=e,this.loginService=t,this.keys=i.a,this.cities=[],this.towns=a()().zipcodes.filter((function(e){var t;return e.county===(null===(t=r.user)||void 0===t?void 0:t.getContactCity().replace("\u53f0","\u81fa"))})).map((function(e){return e.city=e.city.replace("\u81fa","\u53f0"),e}))||[],this.errorMsgList=u.a}return Object.defineProperty(e.prototype,"trialForm",{get:function(){return this.policyForm.get(o.a.trialForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customerForm",{get:function(){return this.policyForm.get(o.a.customerForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),e.prototype.onResize=function(e){this.screenSize=e.target.innerWidth},e.prototype.ngOnInit=function(){this.screenSize=window.innerWidth,this.policyForm=this.parentF.form,this.setCustomerForm(),this.getCityList()},e.prototype.initData=function(){this.setCustomerFormValue()},e.prototype.setCustomerForm=function(){this.customerForm.addControl(i.a.gender,new n.g("",[n.v.required])),this.customerForm.addControl(i.a.maritalStatus,new n.g(s.a.UN_MARRIAGE,[n.v.required])),this.customerForm.addControl(i.a.contactPhoneNo,new n.g("",[l.p])),this.customerForm.addControl(i.a.occupationCode,new n.g("",[n.v.required])),this.customerForm.addControl(i.a.contactCity,new n.g("",[n.v.required])),this.customerForm.addControl(i.a.contactTown,new n.g("",[n.v.required])),this.customerForm.addControl(i.a.contactAddress,new n.g("",[n.v.required,l.b])),this.customerForm.addControl(i.a.contactZipCode,new n.g({value:"",disabled:!0},[n.v.required]))},e.prototype.getCityList=function(){this.cities=[{id:"\u53f0\u5317\u5e02",name:"\u53f0\u5317\u5e02"},{id:"\u57fa\u9686\u5e02",name:"\u57fa\u9686\u5e02"},{id:"\u65b0\u5317\u5e02",name:"\u65b0\u5317\u5e02"},{id:"\u5b9c\u862d\u7e23",name:"\u5b9c\u862d\u7e23"},{id:"\u65b0\u7af9\u5e02",name:"\u65b0\u7af9\u5e02"},{id:"\u65b0\u7af9\u7e23",name:"\u65b0\u7af9\u7e23"},{id:"\u6843\u5712\u5e02",name:"\u6843\u5712\u5e02"},{id:"\u82d7\u6817\u7e23",name:"\u82d7\u6817\u7e23"},{id:"\u53f0\u4e2d\u5e02",name:"\u53f0\u4e2d\u5e02"},{id:"\u5f70\u5316\u7e23",name:"\u5f70\u5316\u7e23"},{id:"\u5357\u6295\u7e23",name:"\u5357\u6295\u7e23"},{id:"\u5609\u7fa9\u5e02",name:"\u5609\u7fa9\u5e02"},{id:"\u5609\u7fa9\u7e23",name:"\u5609\u7fa9\u7e23"},{id:"\u96f2\u6797\u7e23",name:"\u96f2\u6797\u7e23"},{id:"\u53f0\u5357\u5e02",name:"\u53f0\u5357\u5e02"},{id:"\u9ad8\u96c4\u5e02",name:"\u9ad8\u96c4\u5e02"},{id:"\u6f8e\u6e56\u7e23",name:"\u6f8e\u6e56\u7e23"},{id:"\u5c4f\u6771\u7e23",name:"\u5c4f\u6771\u7e23"},{id:"\u53f0\u6771\u7e23",name:"\u53f0\u6771\u7e23"},{id:"\u82b1\u84ee\u7e23",name:"\u82b1\u84ee\u7e23"},{id:"\u91d1\u9580\u7e23",name:"\u91d1\u9580\u7e23"},{id:"\u9023\u6c5f\u7e23",name:"\u9023\u6c5f\u7e23"}]},e.prototype.setCustomerFormValue=function(){var e,t,r,n=this.customerForm.get(i.a.gender);if(null===(e=this.user)||void 0===e?void 0:e.getUserSex())n.patchValue(null===(t=this.user)||void 0===t?void 0:t.getUserSex());else switch(null===(r=this.user)||void 0===r?void 0:r.getUserId()[1]){case"1":case"A":case"C":n.patchValue("M");break;case"2":case"B":case"D":n.patchValue("F")}},e.prototype.onGenderChange=function(e){this.trialForm.get(c.a.gender).patchValue(e)},e.prototype.onCityChange=function(e){var t=this.customerForm.get(i.a.contactTown),r=this.customerForm.get(i.a.contactZipCode),n=a()().zipcodes.filter((function(t){return t.county===e.replace("\u53f0","\u81fa")})).map((function(e){return e.city=e.city.replace("\u81fa","\u53f0"),e}));t.patchValue(""),r.patchValue(""),this.towns=n},e.prototype.onTownChange=function(e){for(var t=this.customerForm.get(i.a.contactZipCode),r=0;r<this.towns.length;r++)e===this.towns[r].city&&t.patchValue(this.towns[r].id)},e.prototype.textAreaResize=function(e){e.textLength<5&&(e.style.height="");var t=e.clientHeight;(t=Math.max(e.scrollHeight,t))>e.clientHeight&&(e.style.height=t+"px")},e.\u0275fac=function(t){return new(t||e)(p.Ub(n.k),p.Ub(m.a))},e.\u0275cmp=p.Ob({type:e,selectors:[["app-car-owner-info"]],hostBindings:function(e,t){1&e&&p.ic("resize",(function(e){return t.onResize(e)}),!1,p.Dc)},inputs:{isRenew:"isRenew"},decls:89,vars:51,consts:[[3,"title","useTemplate","headerHint"],["nz-form","","nzLayout","vertical","nzNoColon","true",3,"formGroup"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-lg-5","px-3","pb-3"],["class","text-orange header-hint",4,"ngIf"],[1,"col-lg-8","col-12","px-3","py-3"],["nz-row","",1,"showData"],["nz-col","",3,"nzSpan"],["nz-col","",3,"nzMd","nzXs"],["nzErrorTip","\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d"],[3,"formControlName","ngModelChange"],["nz-radio","",1,"large-radio-label",3,"nzValue"],[3,"nzDashed"],["nz-row",""],["nz-col","",3,"nzLg","nzXs"],["nzFor",""],[3,"formControlName"],["nz-radio","",3,"nzValue"],[3,"nzErrorTip"],["nz-input","",1,"underline",3,"formControlName"],["nz-icon","","nzType","question-circle","nzTheme","fill","nz-tooltip","",1,"popup-icon",2,"color","#f5a623",3,"nzTooltipTitle","nzTooltipOverlayStyle"],["other_job",""],["nzPlaceHolder","\u7e23\u5e02",1,"mr-2",3,"formControlName","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","\u5340\u57df",1,"mr-2",3,"formControlName","ngModelChange"],["nz-input","","placeHolder","\u5340\u865f",1,"mr-2",2,"width","92px",3,"formControlName"],["nz-input","","rows","1","maxlength","30","placeholder","\u8acb\u8f38\u5165",1,"notes",3,"formControlName","keyup"],[1,"error-message"],[1,"text-orange","header-hint"],[2,"margin","0"],[3,"nzValue","nzLabel"]],template:function(e,t){if(1&e&&(p.ac(0,"app-expansion-panel",0),p.ac(1,"panel-content"),p.ac(2,"form",1),p.ac(3,"div",2),p.ac(4,"div",3),p.Mc(5,y,2,0,"p",4),p.Oc(6," \u8981\u4fdd\u96aa\u4eba\u8207\u884c\u7167\u8eca\u4e3b\u53ca\u6301\u5361\u4eba\u9700\u70ba\u540c\u4e00\u4eba\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u53ca\u884c\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\uff0c\u8b1d\u8b1d\uff01 "),p.Zb(),p.ac(7,"div",5),p.ac(8,"div",6),p.ac(9,"div",7),p.ac(10,"p"),p.Oc(11,"\u59d3\u540d"),p.Zb(),p.ac(12,"span"),p.Oc(13),p.Zb(),p.Zb(),p.ac(14,"div",8),p.ac(15,"p"),p.Oc(16,"\u8eab\u5206\u8b49\u5b57\u865f"),p.Zb(),p.ac(17,"span"),p.Oc(18),p.Zb(),p.Zb(),p.ac(19,"div",8),p.ac(20,"p"),p.Oc(21,"\u6027\u5225"),p.Zb(),p.ac(22,"span"),p.ac(23,"nz-form-control",9),p.ac(24,"nz-radio-group",10),p.ic("ngModelChange",(function(e){return t.onGenderChange(e)})),p.ac(25,"label",11),p.Oc(26,"\u7537\u6027"),p.Zb(),p.ac(27,"label",11),p.Oc(28,"\u5973\u6027"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(29,"div",8),p.ac(30,"p"),p.Oc(31,"\u51fa\u751f\u65e5\u671f"),p.Zb(),p.ac(32,"span"),p.Oc(33),p.Zb(),p.Zb(),p.ac(34,"div",8),p.ac(35,"p"),p.Oc(36,"\u884c\u52d5\u96fb\u8a71"),p.Zb(),p.ac(37,"span"),p.Oc(38),p.Zb(),p.Zb(),p.ac(39,"div",8),p.ac(40,"p"),p.Oc(41,"Email"),p.Zb(),p.ac(42,"span"),p.Oc(43),p.Zb(),p.Zb(),p.Zb(),p.Vb(44,"nz-divider",12),p.ac(45,"div",13),p.ac(46,"div",14),p.ac(47,"nz-form-item"),p.ac(48,"nz-form-label",15),p.Oc(49,"\u5a5a\u59fb\u72c0\u6cc1"),p.Zb(),p.ac(50,"nz-form-control",9),p.ac(51,"nz-radio-group",16),p.ac(52,"label",17),p.Oc(53,"\u672a\u5a5a"),p.Zb(),p.ac(54,"label",17),p.Oc(55,"\u5df2\u5a5a"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(56,"div",7),p.ac(57,"nz-form-item"),p.ac(58,"nz-form-label",15),p.Oc(59,"\u806f\u7d61\u96fb\u8a71 (\u975e\u5fc5\u586b)"),p.Zb(),p.ac(60,"nz-form-control",18),p.Vb(61,"input",19),p.Zb(),p.Zb(),p.Zb(),p.ac(62,"div",14),p.ac(63,"nz-form-item"),p.ac(64,"nz-form-label",15),p.Oc(65,"\u8077\u696d"),p.Zb(),p.ac(66,"nz-form-control",9),p.ac(67,"nz-radio-group",16),p.ac(68,"label",17),p.Oc(69,"\u4e00\u822c\u8077\u696d"),p.Zb(),p.ac(70,"label",17),p.Oc(71,"\u5176\u4ed6\u8077\u696d "),p.Vb(72,"i",20),p.Zb(),p.Mc(73,I,8,0,"ng-template",null,21,p.Nc),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(75,"div",7),p.ac(76,"nz-form-item"),p.ac(77,"nz-form-label",15),p.Oc(78,"\u806f\u7d61\u5730\u5740(\u5c45\u4f4f\u5730\u5740)"),p.Zb(),p.ac(79,"nz-form-control"),p.ac(80,"span"),p.ac(81,"nz-select",22),p.ic("ngModelChange",(function(e){return t.onCityChange(e)})),p.Mc(82,T,1,2,"nz-option",23),p.Zb(),p.ac(83,"nz-select",24),p.ic("ngModelChange",(function(e){return t.onTownChange(e)})),p.Mc(84,A,1,2,"nz-option",23),p.Zb(),p.Vb(85,"input",25),p.Zb(),p.ac(86,"textarea",26),p.ic("keyup",(function(e){return t.textAreaResize(e.target)})),p.Zb(),p.Zb(),p.ac(87,"span",27),p.Oc(88),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&e){var r=p.Cc(74);p.tc("title","\u8eca\u4e3b\u8cc7\u6599")("useTemplate",!0)("headerHint",t.isRenew?"\u4ee5\u4e0b\u70ba\u60a8\u7684\u611b\u8eca\u7e8c\u4fdd\u8cc7\u6599\uff0c\u8acb\u78ba\u8a8d\u5404\u9805\u8cc7\u6599\u8207\u4fdd\u96aa\u5167\u5bb9\u662f\u5426\u6b63\u78ba\uff0c\u4e26\u4f9d\u6b65\u9a5f\u64cd\u4f5c\u5373\u53ef\u5b8c\u6210\u6295\u4fdd":""),p.Db(2),p.tc("formGroup",t.customerForm),p.Db(3),p.tc("ngIf",t.isRenew),p.Db(4),p.tc("nzSpan",24),p.Db(4),p.Pc(null==t.user?null:t.user.getUserName()),p.Db(1),p.tc("nzMd",8)("nzXs",24),p.Db(4),p.Pc(null==t.user?null:t.user.getUserId()),p.Db(1),p.tc("nzMd",8)("nzXs",24),p.Db(5),p.tc("formControlName",t.keys.gender),p.Db(1),p.tc("nzValue","M"),p.Db(2),p.tc("nzValue","F"),p.Db(2),p.tc("nzMd",8)("nzXs",24),p.Db(4),p.Pc(null==t.user?null:t.user.getUserDob()),p.Db(1),p.tc("nzMd",8)("nzXs",24),p.Db(4),p.Pc(null==t.user?null:t.user.getMobile()),p.Db(1),p.tc("nzMd",8)("nzXs",24),p.Db(4),p.Pc(null==t.user?null:t.user.getEmail()),p.Db(1),p.tc("nzDashed",!0),p.Db(2),p.tc("nzLg",24)("nzXs",8),p.Db(5),p.tc("formControlName",t.keys.maritalStatus),p.Db(1),p.tc("nzValue","S"),p.Db(2),p.tc("nzValue","M"),p.Db(2),p.tc("nzSpan",24),p.Db(4),p.tc("nzErrorTip",t.errorMsgList.getFormErrorStr(t.customerForm,t.keys.contactPhoneNo)),p.Db(1),p.tc("formControlName",t.keys.contactPhoneNo),p.Db(1),p.tc("nzLg",24)("nzXs",22),p.Db(5),p.tc("formControlName",t.keys.occupationCode),p.Db(1),p.tc("nzValue","R00"),p.Db(2),p.tc("nzValue","X00"),p.Db(2),p.tc("nzTooltipTitle",r)("nzTooltipOverlayStyle",p.wc(50,L)),p.Db(3),p.tc("nzSpan",24),p.Db(6),p.tc("formControlName",t.keys.contactCity),p.Db(1),p.tc("ngForOf",t.cities),p.Db(1),p.tc("formControlName",t.keys.contactTown),p.Db(1),p.tc("ngForOf",t.towns),p.Db(1),p.Kb("d-none",t.screenSize<=576),p.tc("formControlName",t.keys.contactZipCode),p.Db(1),p.tc("formControlName",t.keys.contactAddress),p.Db(2),p.Qc(" ",t.errorMsgList.getAddressErrorStr(t.customerForm,t.keys.contactCity,t.keys.contactTown,t.keys.contactAddress)," ")}},directives:[d.a,g.a,n.w,n.r,h.b,n.k,E.n,D.c,D.a,h.a,b.c,n.q,n.i,b.b,f.a,h.c,h.d,O.b,n.c,C.a,P.a,v.d,M.d,E.m,n.n,M.a],styles:["span[_ngcontent-%COMP%]   .ant-radio[_ngcontent-%COMP%], span[_ngcontent-%COMP%]   .ant-radio-group[_ngcontent-%COMP%], span[_ngcontent-%COMP%]   .ant-radio-wrapper[_ngcontent-%COMP%]{color:#000}.ant-divider-dashed[_ngcontent-%COMP%]{border-color:#0081c6;border-width:2px}.underline[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #979797;width:25%!important}.ant-select[_ngcontent-%COMP%]{width:100px}.notes[_ngcontent-%COMP%]{width:90%;resize:none;background-image:linear-gradient(90deg,#fff 10px,rgba(0,0,0,0) 0),linear-gradient(270deg,#fff 10px,rgba(0,0,0,0) 0),linear-gradient(#fff 40px,#979797 0,#979797 41px,#fff 0);background-size:100% 100%,100% 100%,100% 41px;border:none;line-height:41px;padding-bottom:8px}@media (max-width:576px){.notes[_ngcontent-%COMP%]{font-size:24px}}.notes[_ngcontent-%COMP%]:focus{outline:none}@media only screen and (max-width:576px){.ant-radio[_ngcontent-%COMP%], .ant-radio-group[_ngcontent-%COMP%], .ant-radio-wrapper[_ngcontent-%COMP%]{font-size:24px!important;margin:2px 0}.underline[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #979797;width:90%!important;font-size:24px}.ant-select[_ngcontent-%COMP%]{width:100%;margin:2px 0}}"]}),e}()},"v/na":function(e,t,r){"use strict";var n=r("wd/R"),_=function(){function e(e){e&&(this.expectedEffectiveDate4CTPL=e.expectedEffectiveDate4CTPL||"",this.expectedEffectiveDate4Voluntary=e.expectedEffectiveDate4Voluntary||"",this.expiryDate4CTPL=e.expiryDate4CTPL||"",this.expiryDate4Voluntary=e.expiryDate4Voluntary||"",this.hasValidCompulsoryCard=e.hasValidCompulsoryCard||null,this.rateUpIndicator=e.rateUpIndicator||null,this.ratingLevel=e.ratingLevel||0,this.previousRatingLevel=e.previousRatingLevel||0,this.compulsoryNo=e.compulsoryNo||null,this.policyNo4Voluntary=e.policyNo4Voluntary||null,this.inquiryRefNo4CTPL=e.inquiryRefNo4CTPL||"",this.inquiryDateTime4CTPL=e.inquiryDateTime4CTPL||"",this.inquiryRefNo4Voluntary=e.inquiryRefNo4Voluntary||"",this.inquiryDateTime4Voluntary=e.inquiryDateTime4Voluntary||"",this.noClaimYear=e.noClaimYear||0,this.noOfClaimWithin3Years=e.noOfClaimWithin3Years||0,this.ratingPoint=e.ratingPoint||"",this.maxClaimAmount=e.maxClaimAmount||0,this.majorViolationCount=e.majorViolationCount||0,this.cumulativeMajorViolationCount=e.cumulativeMajorViolationCount||0,this.coverageList=e.coverageList||void 0,this.ctplPremium=e.ctplPremium||null,this.ctplRatingLevel=e.ctplRatingLevel||0,this.cumulativeDrunkDrivingCount=e.cumulativeDrunkDrivingCount||0,this.drunkDrivingCount=e.drunkDrivingCount||0,this.hasCTPLInsuranceRecord=e.hasCTPLInsuranceRecord||!1,this.noClaimYear4Taxi=e.noClaimYear4Taxi||0,this.noOfClaimWithin3Years4Taxi=e.noOfClaimWithin3Years4Taxi||0,this.previousCTPLRatingLevel=e.previousCTPLRatingLevel||0,this.ratingCoefficient4Taxi=e.ratingCoefficient4Taxi||0)}return e.prototype.getExpectedEffectiveDate4CTPL=function(){return this.expectedEffectiveDate4CTPL},e.prototype.getCompulsoryNo=function(){return this.compulsoryNo},e.prototype.getExpectedEffectiveDate4Voluntary=function(){return this.expectedEffectiveDate4Voluntary},e.prototype.getExpiryDate4CTPL=function(){return this.expiryDate4CTPL},e.prototype.getExpiryDate4Voluntary=function(){return this.expiryDate4Voluntary},e.prototype.getMaxClaimAmount=function(){return this.maxClaimAmount},e.prototype.getMajorViolationCount=function(){return this.majorViolationCount},e.prototype.getCumulativeMajorViolationCount=function(){return this.cumulativeMajorViolationCount},e.prototype.getNoClaimYear=function(){return this.noClaimYear},e.prototype.getNoOfClaimWithin3Years=function(){return this.noOfClaimWithin3Years},e.prototype.getPreviousRatingLevel=function(){return this.previousRatingLevel},e.prototype.getRateUpIndicator=function(){return this.rateUpIndicator},e.prototype.getRatingLevel=function(){return this.ratingLevel},e.prototype.getCtplRatingLevel=function(){return this.ctplRatingLevel},e.prototype.getRatingPoint=function(){return this.ratingPoint},e.prototype.getHasValidCompulsoryCard=function(){return this.hasValidCompulsoryCard},e.prototype.getHasCTPLInsuranceRecord=function(){return this.hasCTPLInsuranceRecord},e.prototype.getInquiryDateTime4CTPL=function(){return this.inquiryDateTime4CTPL?n(Number(this.inquiryDateTime4CTPL.slice(0,3))+1911+this.inquiryDateTime4CTPL.slice(3,7)+"T"+this.inquiryDateTime4CTPL.slice(7)).format("YYYY-MM-DD HH:mm:ss"):""},e.prototype.getInquiryDateTime4Voluntary=function(){return this.inquiryDateTime4Voluntary?n(this.inquiryDateTime4Voluntary.slice(0,8)+"T"+this.inquiryDateTime4Voluntary.slice(8)).format("YYYY-MM-DD HH:mm:ss"):""},e.prototype.getPolicyNo4Voluntary=function(){return this.policyNo4Voluntary},e.prototype.getInquiryRefNo4CTPL=function(){return this.inquiryRefNo4CTPL},e.prototype.getInquiryRefNo4Voluntary=function(){return this.inquiryRefNo4Voluntary},e}(),a=r("QJY3"),o=r("j4cX"),i=r("OESc"),c=r("olDj"),s=r("lc5b"),u=r("c71m"),l=r("dHmp"),p=r("CLRB"),m=r("VJwC"),d=r("brkb"),g=r("KBqu"),h=r("cPLB"),E=r("ex6Y"),D=r("iDUo"),b=r("rtiL"),f=r("67V4"),O=r("cUzu"),C=r("TYT/"),P=r("bGr8"),v=r("SloE"),M=r("/dic"),y=r("ksJI"),I=r("ThRj"),T=r("GgEC"),A=r("Ue4Y"),L=r("nXN4"),S=r("lEQb"),U=r("X5uw"),R=r("rCsC"),k=r("/RLq"),B=r("vmpY"),w=r("RQUG"),W=r("du9V"),K=r("Valr"),F=r("AzBT"),x=r("Sh7c"),z=r("MySR"),Z=r("j+pk"),V=r("j3YY");function N(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}function Y(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}function q(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}function Q(e,t){if(1&e&&C.Vb(0,"nz-option",31),2&e){var r=t.$implicit,n=C.lc();C.tc("nzLabel",n.carBodyTypeNameEnum[r])("nzValue",n.carBodyTypeCodeEnum[r])}}function j(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}function H(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}function X(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}function G(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}function $(e,t){if(1&e&&C.Vb(0,"nz-option",30),2&e){var r=t.$implicit;C.tc("nzValue",r)("nzLabel",r)}}r.d(t,"a",(function(){return ee}));var J=function(){return{standalone:!0}},ee=function(){function e(e,t,r,n,_,a,o,i,u,p,m,d,g){this.vehicleWebService=e,this.loginService=t,this.messageService=r,this.underwritingService=n,this.networkingService=_,this.storage=a,this.parentF=o,this.quoteInfoStorage=i,this.message=u,this.productPopupMsgService=p,this.insuranceFactory=m,this.piiLogSvc=d,this.httpClient=g,this.keys=c.a,this.errorMsgList=s.a,this.makeList=[],this.makeListLocal=[],this.makeListImport=[],this.makeType=E.a,this.localOrImport=E.a.DEFAULT,this.displacementUnit="CC",this.displacementUnitDisabled=!1,this.displacementOilDisabled=!1,this.isNewPlateFormat=!1,this.carBodyTypeCodeEnum=l.a,this.carBodyTypeNameEnum=f.a,this.carBodyTypeKeys=Object.keys(l.a).filter((function(e){return l.a[e]===l.a.PRIVATE_PASSENGER_VEHICLE||l.a[e]===l.a.NOTCHBACK})),this.brandList=[],this.republicEra=[],this.year=[],this.month=[1,2,3,4,5,6,7,8,9,10,11,12],this.date=[],this.renewalDisable=!1,this.nzFilterOption=function(){return!0},this.formattedData={}}return Object.defineProperty(e.prototype,"trialForm",{get:function(){return this.policyForm.get(p.a.trialForm)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.policyForm=this.parentF.form,this.setTrialForm()},e.prototype.initData=function(){this.trialForm.setControl(c.a.customerTypeCode,new a.g("1",[a.v.required])),this.trialForm.setControl(c.a.systemId,new a.g("ECAuto",[a.v.required])),this.trialForm.setControl(c.a.taxId,new a.g(this.user?this.user.getUserId():"",[a.v.required,o.h])),this.trialForm.setControl(c.a.dob,new a.g(this.user?this.user.userDob:"",[a.v.required,o.i])),this.trialForm.setControl("dob_year",new a.g(this.user?Number(n(this.user.userDob).format("YYYY"))-1911:"",[a.v.required])),this.trialForm.setControl("dob_month",new a.g(this.user?Number(n(this.user.userDob).format("MM")):"",[a.v.required])),this.user&&this.user.userDob&&this.getDaysInMonth(Number(n(this.user.userDob).format("YYYY")),Number(n(this.user.userDob).format("MM"))),this.trialForm.setControl("dob_day",new a.g(this.user?Number(n(this.user.userDob).format("DD")):"",[a.v.required])),this.trialForm.setControl(c.a.gender,new a.g(this.user&&"1"===this.user.getUserId()[1]?"M":"F")),this.policyForm.get(p.a.termsForm).reset(),this.user&&this.user.getUserId()?(this.trialForm.get(c.a.taxId).disable(),this.trialForm.get("dob_year").disable(),this.trialForm.get("dob_month").disable(),this.trialForm.get("dob_day").disable()):(this.trialForm.get(c.a.taxId).enable(),this.trialForm.get("dob_year").enable(),this.trialForm.get("dob_month").enable(),this.trialForm.get("dob_day").enable()),this.trialForm.setControl(c.a.plateNo,new a.g("",[a.v.required,o.c])),this.trialForm.setControl("plate_pre",new a.g("",[a.v.required])),this.trialForm.setControl("plate_suf",new a.g("",[a.v.required])),this.trialForm.setControl(c.a.makeType,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.makeCode,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.makeName,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.displacement,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.displacement+"2",new a.g("",[a.v.required])),this.trialForm.setControl(c.a.displacementUnit,new a.g("CC",[a.v.required])),this.trialForm.setControl(c.a.bodyTypeCode,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.bodyTypeName,new a.g({value:"",disabled:!0},[a.v.required])),this.trialForm.setControl(c.a.engineNo,new a.g("",[a.v.required,function(e){var t=e.value;if(t)return i.a.forEngine.test(t)?null:{validateOnlyEnNum:{valid:!1,msg:"\u8acb\u8f38\u5165\u6b63\u78ba\u683c\u5f0f"}}}])),this.trialForm.setControl(c.a.brandCode,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.brandName,new a.g("")),this.trialForm.setControl(c.a.carModelCode,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.manufactureYear,new a.g("",[a.v.required])),this.trialForm.setControl(c.a.manufactureMonth,new a.g("",[a.v.required])),this.trialForm.setControl("manufactureYM",new a.g("",[a.v.required,o.k])),this.trialForm.setControl(c.a.firstRegistrationDate,new a.g("",[a.v.required])),this.trialForm.setControl("reg_year",new a.g("",[a.v.required])),this.trialForm.setControl("reg_month",new a.g("",[a.v.required])),this.trialForm.setControl("reg_day",new a.g("",[a.v.required]))},e.prototype.setTrialForm=function(){var e,t,r,_;this.getBirthYears(),this.trialForm.addControl(c.a.customerTypeCode,new a.g("1",[a.v.required])),this.trialForm.addControl(c.a.systemId,new a.g("ECAuto",[a.v.required])),this.trialForm.addControl(c.a.taxId,new a.g({value:this.user?this.user.getUserId():"",disabled:!(null===(e=this.user)||void 0===e||!e.getUserId())},[a.v.required,o.h])),this.trialForm.addControl(c.a.dob,new a.g(this.user?this.user.userDob:"",[a.v.required,o.i])),this.trialForm.addControl("dob_year",new a.g({value:this.user?Number(n(this.user.userDob).format("YYYY"))-1911:"",disabled:!(null===(t=this.user)||void 0===t||!t.userDob)},[a.v.required])),this.trialForm.addControl("dob_month",new a.g({value:this.user?Number(n(this.user.userDob).format("MM")):"",disabled:!(null===(r=this.user)||void 0===r||!r.userDob)},[a.v.required])),this.user&&this.user.userDob&&this.getDaysInMonth(Number(n(this.user.userDob).format("YYYY")),Number(n(this.user.userDob).format("MM"))),this.trialForm.addControl("dob_day",new a.g({value:this.user?Number(n(this.user.userDob).format("DD")):"",disabled:!(null===(_=this.user)||void 0===_||!_.userDob)},[a.v.required])),this.trialForm.addControl(c.a.gender,new a.g(this.user&&"1"===this.user.getUserId()[1]?"M":"F")),this.trialForm.addControl(c.a.plateNo,new a.g("",[a.v.required,o.c])),this.trialForm.addControl("plate_pre",new a.g("",[a.v.required])),this.trialForm.addControl("plate_suf",new a.g("",[a.v.required])),this.trialForm.addControl(c.a.makeType,new a.g("",[a.v.required])),this.trialForm.addControl(c.a.makeCode,new a.g("",[a.v.required])),this.trialForm.addControl(c.a.makeName,new a.g("",[a.v.required])),this.trialForm.addControl(c.a.displacement,new a.g("",[a.v.required])),this.trialForm.addControl(c.a.displacement+"2",new a.g("",[a.v.required])),this.trialForm.addControl(c.a.displacementUnit,new a.g("CC",[a.v.required])),this.trialForm.addControl(c.a.bodyTypeCode,new a.g(l.a.PRIVATE_PASSENGER_VEHICLE,[a.v.required])),this.trialForm.addControl(c.a.bodyTypeName,new a.g({value:"",disabled:!0},[a.v.required])),this.trialForm.addControl(c.a.engineNo,new a.g("",[a.v.required,function(e){var t=e.value;if(t)return i.a.forEngine.test(t)?null:{validateOnlyEnNum:{valid:!1,msg:"\u8acb\u8f38\u5165\u6b63\u78ba\u683c\u5f0f"}}}])),this.trialForm.addControl(c.a.brandCode,new a.g("",[a.v.required])),this.trialForm.addControl(c.a.brandName,new a.g("")),this.trialForm.addControl(c.a.carModelCode,new a.g("",[a.v.required])),this.trialForm.addControl(c.a.noOfSeats,new a.g(null,[a.v.required])),this.trialForm.addControl(c.a.manufactureYear,new a.g("",[a.v.required])),this.trialForm.addControl(c.a.manufactureMonth,new a.g("",[a.v.required])),this.trialForm.addControl("manufactureYM",new a.g("",[a.v.required,o.k])),this.trialForm.addControl(c.a.firstRegistrationDate,new a.g("",[a.v.required])),this.trialForm.addControl("reg_year",new a.g("",[a.v.required])),this.trialForm.addControl("reg_month",new a.g("",[a.v.required])),this.trialForm.addControl("reg_day",new a.g("",[a.v.required]))},e.prototype.getMakeList=function(){var e=this;this.vehicleWebService.callInquireVehicleMake(u.a.CAR).subscribe((function(t){"string"!=typeof t?(e.makeListLocal=t.filter((function(e){return e.getMakeType()===E.a.LOCAL})),e.makeListImport=t.filter((function(e){return e.getMakeType()===E.a.IMPORTED})),e.makeList=t):e.messageService.alert(t)}))},e.prototype.localOrImportChange=function(){this.selectedId="",this.trialForm.get(c.a.makeCode).patchValue(""),this.trialForm.get(c.a.makeCode).enable(),this.displacementUnitDisabled=!1},e.prototype.displacementUnitChange=function(){this.trialForm.get(c.a.displacementUnit).patchValue(this.displacementUnit),this.trialForm.get(c.a.displacement).patchValue(""),this.displacementOilDisabled=!("CC"===this.displacementUnit)},e.prototype.patchCarModelCode=function(){var e=this,t=this.trialForm.get(c.a.brandCode),r=this.trialForm.get(c.a.carModelCode);this.selectedId&&"CC"===this.displacementUnit?(t.patchValue(this.makeList.find((function(t){return t.getId()===e.selectedId})).getBrandCodeCC()),r.patchValue(this.makeList.find((function(t){return t.getId()===e.selectedId})).getCarModelCodeCC())):this.selectedId&&"HP"===this.displacementUnit&&(t.patchValue(this.makeList.find((function(t){return t.getId()===e.selectedId})).getBrandCodeHP()),r.patchValue(this.makeList.find((function(t){return t.getId()===e.selectedId})).getCarModelCodeHP()))},e.prototype.getBrandList=function(e){var t=this;this.vehicleWebService.callInquireVehiclePriceAutoByCode(e).subscribe((function(e){"string"!=typeof e?t.brandList=e:t.messageService.alert(e)}))},e.prototype.assembleBirthday=function(e,t,r){var _=this.trialForm.get(c.a.dob);if(e&&t&&r){var a=n(new Date(e+1911+"-"+(2===t.toString().length?t.toString():"0"+t.toString())+"-"+(2===r.toString().length?r.toString():"0"+r.toString()))).format("YYYY-MM-DD 00:00:00");_.patchValue(a)}},e.prototype.assemblePlateNo=function(e,t){if(e&&t){var r=e+"-"+t;r.toUpperCase(),this.trialForm.get(c.a.plateNo).patchValue(r)}},e.prototype.assembleRegisterDate=function(e,t,r){var _=n(new Date(e+1911+"-"+(2!==t.toString().length?"0"+t:t)+"-"+(2!==r.toString().length?"0"+r:r))).format("YYYY-MM-DD hh:mm:ss"),a=this.trialForm.get(c.a.firstRegistrationDate);e&&t&&r&&a.patchValue(_)},e.prototype.getBirthYears=function(){var e=(new Date).getUTCFullYear()-1911,t=(new Date).getUTCFullYear();this.republicEra=Array(e).fill("").map((function(t,r){return e-r})),this.year=Array.from({length:(t-1901)/1+1},(function(e,t){return 1901+1*t})).reverse()},e.prototype.getDaysInMonth=function(e,t){if(e&&t){var r=Number(e)+1911+"-"+t,_=n(r,"YYYY-MM").daysInMonth();this.date=Array(_).fill("").map((function(e,t){return t+1}))}},e.prototype.idNoChange=function(e){var t=e,r=this.trialForm.get(c.a.gender);if(t&&(t.split(""),t[1]))switch(t[1]){case"1":r.patchValue("M");break;case"2":r.patchValue("F")}},e.prototype.onDobChange=function(e){var t=this.trialForm.get("dob_year").value,r=this.trialForm.get("dob_month").value,n=this.trialForm.get("dob_day").value;e||this.getDaysInMonth(t,r),this.assembleBirthday(t,r,n)},e.prototype.onManufactureChange=function(e){var t=this.trialForm.get(c.a.manufactureYear).value,r=this.trialForm.get(c.a.manufactureMonth).value;if(t&&r){var n=t+"-"+r;this.trialForm.get("manufactureYM").patchValue(n)}if(e){var _=t-1911;this.trialForm.get("reg_year").patchValue(_)}var a=Number(this.trialForm.get("reg_year").value)+1911,o=this.trialForm.get("reg_month").value,i=this.trialForm.get("reg_day").value;this.trialForm.get(c.a.firstRegistrationDate).setErrors(a&&o&&i?t>a||t===a&&r>o?{validateRegisterDate:{valid:!1,msg:"\u767c\u7167\u65e5\u671f\u4e0d\u80fd\u5c0f\u65bc\u88fd\u9020\u5e74\u6708"}}:null:{validateRegisterDate:{valid:!1,msg:"\u767c\u7167\u65e5\u671f\u70ba\u5fc5\u586b\u6b04\u4f4d"}})},e.prototype.onRegisterChange=function(){var e=Number(this.trialForm.get(c.a.manufactureYear).value)-1911,t=this.trialForm.get(c.a.manufactureMonth).value,r=this.trialForm.get("reg_year").value,n=this.trialForm.get("reg_month").value,_=this.trialForm.get("reg_day").value,a=this.trialForm.get(c.a.firstRegistrationDate);this.getDaysInMonth(r,n),this.assembleRegisterDate(r,n,_),a.setErrors(e>r||e===r&&t>n?{validateRegisterDate:{valid:!1,msg:"\u767c\u7167\u65e5\u671f\u4e0d\u80fd\u5c0f\u65bc\u88fd\u9020\u5e74\u6708"}}:null)},e.prototype.plateNoChange=function(e,t){"pre"===t?this.prePlateNo=e.toUpperCase():"suf"===t&&(this.sufPlateNo=e.toUpperCase()),this.assemblePlateNo(this.prePlateNo,this.sufPlateNo)},e.prototype.onMakeCodeChange=function(e){var t=e,r=this.trialForm.get(c.a.makeCode),n=this.trialForm.get(c.a.makeName),_=this.trialForm.get(c.a.makeType);if(this.trialForm.get(c.a.brandName),this.trialForm.get(c.a.brandCode),this.trialForm.get(c.a.carModelCode),this.trialForm.get(c.a.displacement),t){var a=this.makeList.find((function(e){return e.getId()===t}));switch(this.localOrImport){case E.a.LOCAL:a=this.makeListLocal.find((function(e){return e.getId()===t}));break;case E.a.IMPORTED:a=this.makeListImport.find((function(e){return e.getId()===t}))}r.patchValue(a.getMakeCode()),n.patchValue(a.getMakeName()),_.patchValue(a.getMakeType()),this.getBrandList(a.getMakeCode())}},e.prototype.validateInsuranceEffDate=function(e,t){var r=e.expiryDate4CTPL,n=e.expiryDate4Voluntary,_=this.insuranceFactory.getCaculateExpiryDays(r),a=this.insuranceFactory.getCaculateExpiryDays(n);_>=90&&a>=90?this.message.alert(this.productPopupMsgService.popupMsg1(r,n)):t()},e.prototype.onSubmitClick=function(e){var t,r=this,n=JSON.stringify(this.trialForm.value);this.storage.store(p.a.trialForm,n,b.b.SESSION);var a=((t={})[c.a.bodyTypeCode]=this.trialForm.get(c.a.bodyTypeCode).value,t[c.a.taxId]=this.trialForm.get(c.a.taxId).value.toUpperCase(),t[c.a.plateNo]=this.trialForm.get(c.a.plateNo).value,t[c.a.dob]=this.trialForm.get(c.a.dob).value,t[c.a.gender]="M"===this.trialForm.get(c.a.gender).value?"1":"2",t[c.a.customerTypeCode]=this.trialForm.get(c.a.customerTypeCode).value,t[c.a.systemId]=this.trialForm.get(c.a.systemId).value,t);this.underwritingService.callUWFactors4Auto(a).subscribe((function(t){var n=new _(t);if("string"!=typeof t){r.piiLogSvc.callECPiilog(["\u88ab\u4fdd\u96aa\u4eba(\u8eca\u4e3b)ID: "+a.taxId,"\u8eca\u724c: "+a.plateNo,"\u5f37\u5236\u96aa\u67e5\u8a62\u5e8f\u865f: "+n.getInquiryRefNo4CTPL(),"\u4efb\u610f\u96aa\u67e5\u8a62\u5e8f\u865f: "+n.getInquiryRefNo4Voluntary(),"\u67e5\u8a62\u7d50\u679c: "+t.returnCode],D.a.UWFactors4Auto,a.taxId).subscribe(),r.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getCustomerInsuredTo().update({maxClaimAmount:n.getMaxClaimAmount(),noClaimYear:n.getNoClaimYear(),noOfClaimWithin3Years:n.getNoOfClaimWithin3Years(),previousRatingLevel4Ctpl:n.getPreviousRatingLevel(),previousRatingLevel4Tpl:n.getPreviousRatingLevel(),rateUpIndicator:n.getRateUpIndicator(),ratingLevel4Ctpl:n.getCtplRatingLevel(),ratingLevel4Tpl:n.getRatingLevel(),ratingPoint:n.getRatingPoint(),drunkDrivingCount:n.drunkDrivingCount,majorViolationCount:n.getMajorViolationCount(),cumulativeMajorViolationCount:n.getCumulativeMajorViolationCount()}),r.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().update({currentCompulsoryNo:n.getCompulsoryNo(),inquiryDateTime4Ctpl:n.getInquiryDateTime4CTPL(),inquiryDateTime4Voluntary:n.getInquiryDateTime4Voluntary(),inquiryRefNo4Ctpl:n.getInquiryRefNo4CTPL(),inquiryRefNo4Voluntary:n.getInquiryRefNo4Voluntary()});var o=new m.a({expiryDate4Ctpl:n.getExpiryDate4CTPL(),expiryDate4Voluntary:n.getExpiryDate4Voluntary(),policyNo4Voluntary:n.getPolicyNo4Voluntary()});r.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().resetTiiPolicyTOs(),r.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getApplicationFormTO().getTiiPolicyTOs().push(o);var i=new d.a({optionType:g.a.SYSTEM_QUOTE,expectedEffectiveDate4Ctpl:n.getExpectedEffectiveDate4CTPL(),expectedExpiryDate4Ctpl:n.getExpiryDate4CTPL(),expectedEffectiveDate4Voluntary:n.getExpectedEffectiveDate4Voluntary(),expectedExpiryDate4Voluntary:n.getExpiryDate4Voluntary(),status:h.a.COMPLETE,cvsPaymentSlipPrintable:"N"});r.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().resetQuoteOptionTOs(),r.quoteInfoStorage.saveQuoteIn.getQuoteInfoTO().getQuoteTO().getQuoteOptionTOs().push(i);var c={expectedEffectiveDate4CTPL:n.getExpectedEffectiveDate4CTPL(),expiryDate4CTPL:n.getExpiryDate4CTPL(),expectedEffectiveDate4Voluntary:n.getExpectedEffectiveDate4Voluntary(),expiryDate4Voluntary:n.getExpiryDate4Voluntary()};if(r.storage.store("insureDate",c,b.b.SESSION),0!==Number(n.drunkDrivingCount)||0!==Number(n.getMajorViolationCount())||"01"===n.getRateUpIndicator()||Number(n.getRatingLevel())>=9||Number(n.getMaxClaimAmount())>4e5)r.message.alert(r.productPopupMsgService.popupMsg7_2());else{if(!n.getHasValidCompulsoryCard()){if(!n.getHasCTPLInsuranceRecord())return void r.message.alert(r.productPopupMsgService.popupMsg4());r.message.alert(r.productPopupMsgService.popupMsgCar4())}r.validateInsuranceEffDate(c,(function(){e()}))}}else r.messageService.alert(t)}))},e.prototype.bodyTypeCodeChange=function(){this.trialForm.get(c.a.displacement).updateValueAndValidity()},e.prototype.asyncClick=function(){var e=this,t=this.trialForm.get("plate_pre").value+"-"+this.trialForm.get("plate_suf").value;if(console.log("\u8eca\u724c\u865f\u78bc\uff1a",t),this.trialForm.get("plate_pre").value&&this.trialForm.get("plate_suf").value){if(!this.trialForm.get(c.a.plateNo).errors){var r=new O.f({"Content-Type":"application/json",Authorization:"Bearer 53f8aa57-9c0b-4685-8029-1afca153697d"});this.httpClient.get("https://lab3.easontech.com.tw:4450/mvdis/api/mvdvan/"+t,{headers:r}).subscribe((function(t){if(console.log(t),console.log(t.isSuccess),!t.isSuccess)return e.trialForm.get(c.a.bodyTypeCode).patchValue(""),e.trialForm.get(c.a.makeCode).patchValue(""),e.trialForm.get(c.a.displacement).patchValue(""),e.trialForm.get(c.a.reg_year).patchValue(""),e.trialForm.get(c.a.reg_month).patchValue(""),e.trialForm.get(c.a.reg_day).patchValue(""),e.trialForm.get(c.a.manufactureYear).patchValue(""),e.trialForm.get(c.a.manufactureMonth).patchValue(""),void e.message.alert("\u67e5\u8a62\u5931\u6557");for(var r=t.ft,n=[],_=0;_<r.length;_++)n=[].concat(n,r[_]);var a="";for(_=0;_<n.length;_++){var o=n[_];o.startsWith("\u3010")&&o.endsWith("\u3011")?(a=o.substring(1,o.length-1),e.formattedData[a]=""):e.formattedData[a]=o}console.log(e.formattedData),console.log(e.formattedData["\u539f\u767c\u7167\u65e5\u671f"].slice(0,3)),e.trialForm.get(c.a.bodyTypeCode).patchValue("\u81ea\u7528\u5c0f\u5ba2\u8eca"===e.formattedData["\u8eca\u7a2e"]?e.carBodyTypeCodeEnum.PRIVATE_PASSENGER_VEHICLE:e.carBodyTypeCodeEnum.NOTCHBACK),e.trialForm.get(c.a.makeCode).patchValue(e.formattedData["\u5ee0\u724c"]),e.trialForm.get(c.a.displacement).patchValue(e.formattedData["\u6392\u6c23\u91cf"].split(".")[0]),e.trialForm.get(c.a.reg_year).patchValue(Number(e.formattedData["\u539f\u767c\u7167\u65e5\u671f"].slice(0,3))),e.trialForm.get(c.a.reg_month).patchValue(Number(e.formattedData["\u539f\u767c\u7167\u65e5\u671f"].slice(3,5))),e.trialForm.get(c.a.reg_day).patchValue(Number(e.formattedData["\u539f\u767c\u7167\u65e5\u671f"].slice(5,7))),e.trialForm.get(c.a.manufactureYear).patchValue(Number(e.formattedData["\u51fa\u5ee0\u5e74\u6708"].slice(0,4))),e.trialForm.get(c.a.manufactureMonth).patchValue(Number(e.formattedData["\u51fa\u5ee0\u5e74\u6708"].slice(4,6)))}))}}else this.message.alert("\u8acb\u8f38\u5165\u8eca\u724c\u865f\u78bc!")},e.\u0275fac=function(t){return new(t||e)(C.Ub(P.a),C.Ub(v.a),C.Ub(M.a),C.Ub(y.a),C.Ub(I.b),C.Ub(b.a),C.Ub(a.k),C.Ub(T.a),C.Ub(M.a),C.Ub(A.a),C.Ub(L.a),C.Ub(S.a),C.Ub(O.c))},e.\u0275cmp=C.Ob({type:e,selectors:[["app-trial"]],decls:107,vars:52,consts:[[3,"title","headerHint","useTemplate"],[1,"row","my-4"],[1,"col-lg-3","col-12","px-lg-5","px-3","pb-3"],[1,"text-orange","header-hint"],[1,"col-lg-8","col-12","mt-2"],["nz-form","","nzLayout","vertical","nzNoColon","true",3,"formGroup"],["nz-row",""],[1,"col-lg-7","col-sm-12"],["nzFor",""],["nzRequired","",3,"nzErrorTip"],["nz-input","",1,"underline",2,"text-transform","uppercase",3,"formControlName","ngModelChange"],["nzRequired",""],[1,"select",3,"formControlName","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[1,"error-message","fix-select-err-msg-position"],[1,"col-12"],["nz-input","","maxlength","4",1,"input-width_short",2,"text-transform","uppercase",3,"formControlName","ngModelChange"],["nz-button","",1,"ml-2",3,"click"],[1,"error-message"],[1,"input-width_short",3,"formControlName","nzDisabled","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-input","",1,"input-width",3,"formControlName","maxlength"],[2,"display","flex","flex-wrap","wrap"],[2,"align-self","center","min-width","130px"],["nzErrorTip","\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d"],[3,"ngModel","ngModelOptions","nzDisabled","ngModelChange"],["nz-radio","",1,"",3,"nzValue","nzDisabled"],[2,"margin-right","5px",3,"formControlName","nzMin","nzMax","nzStep","nzDisabled"],[2,"width","100px","margin-right","5px",3,"formControlName","nzMin","nzMax","nzStep","nzDisabled"],["required",""],[3,"nzValue","nzLabel"],[3,"nzLabel","nzValue"]],template:function(e,t){1&e&&(C.ac(0,"app-expansion-panel",0),C.ac(1,"panel-content"),C.ac(2,"div",1),C.ac(3,"div",2),C.ac(4,"p",3),C.Oc(5," \u4ee5\u4e0b\u6b04\u4f4d\u5747\u70ba\u5fc5\u586b\uff0c\u8acb\u4f9d\u884c\u8eca\u57f7\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\u3002 "),C.Zb(),C.ac(6,"span"),C.Oc(7,"\u8981\u4fdd\u96aa\u4eba\u8207\u884c\u7167\u8eca\u4e3b\u53ca\u6301\u5361\u4eba\u9700\u70ba\u540c\u4e00\u4eba\uff0c\u8acb\u4f9d\u771f\u5be6\u8cc7\u6599\u53ca\u884c\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\uff0c\u8b1d\u8b1d\uff01"),C.Zb(),C.Zb(),C.ac(8,"div",4),C.ac(9,"form",5),C.ac(10,"div",6),C.ac(11,"div",7),C.ac(12,"nz-form-item"),C.ac(13,"nz-form-label",8),C.Oc(14,"\u8eab\u5206\u8b49\u5b57\u865f"),C.Zb(),C.ac(15,"nz-form-control",9),C.ac(16,"input",10),C.ic("ngModelChange",(function(e){return t.idNoChange(e)})),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.ac(17,"div",7),C.ac(18,"nz-form-item"),C.ac(19,"nz-form-label",8),C.Oc(20,"\u51fa\u751f\u65e5\u671f\uff08\u6c11\u570b\uff09"),C.Zb(),C.ac(21,"nz-form-control",11),C.ac(22,"nz-select",12),C.ic("ngModelChange",(function(){return t.onDobChange()})),C.Mc(23,N,1,2,"nz-option",13),C.Zb(),C.Oc(24," \u5e74 "),C.ac(25,"nz-select",12),C.ic("ngModelChange",(function(){return t.onDobChange()})),C.Mc(26,Y,1,2,"nz-option",13),C.Zb(),C.Oc(27," \u6708 "),C.ac(28,"nz-select",12),C.ic("ngModelChange",(function(){return t.onDobChange("day")})),C.Mc(29,q,1,2,"nz-option",13),C.Zb(),C.Oc(30," \u65e5 "),C.Zb(),C.ac(31,"span",14),C.Oc(32),C.Zb(),C.Zb(),C.Zb(),C.ac(33,"div",15),C.ac(34,"nz-form-item"),C.ac(35,"nz-form-label",8),C.Oc(36,"\u724c\u7167\u865f\u78bc"),C.Zb(),C.ac(37,"nz-form-control",11),C.ac(38,"input",16),C.ic("ngModelChange",(function(e){return t.plateNoChange(e,"pre")})),C.Zb(),C.Oc(39," - "),C.ac(40,"input",16),C.ic("ngModelChange",(function(e){return t.plateNoChange(e,"suf")})),C.Zb(),C.ac(41,"button",17),C.ic("click",(function(){return t.asyncClick()})),C.Oc(42,"\u540c\u6b65\u8cc7\u6599"),C.Zb(),C.Zb(),C.ac(43,"span",18),C.Oc(44),C.Zb(),C.Zb(),C.Zb(),C.ac(45,"div",15),C.ac(46,"nz-form-item"),C.ac(47,"nz-form-label",8),C.Oc(48,"\u8eca\u8f1b\u7a2e\u985e"),C.Zb(),C.ac(49,"nz-form-control"),C.ac(50,"nz-select",19),C.ic("ngModelChange",(function(){return t.bodyTypeCodeChange()})),C.Mc(51,Q,1,2,"nz-option",20),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.ac(52,"div",15),C.ac(53,"nz-form-item"),C.ac(54,"nz-form-label",8),C.Oc(55,"\u5ee0\u724c\u540d\u7a31"),C.Zb(),C.ac(56,"nz-form-control",11),C.Vb(57,"input",21),C.Zb(),C.Zb(),C.Zb(),C.ac(58,"div",15),C.ac(59,"nz-form-item"),C.ac(60,"nz-form-label",8),C.Oc(61,"\u6392\u6c23\u91cf "),C.Zb(),C.ac(62,"div",22),C.ac(63,"div",23),C.ac(64,"nz-form-control",24),C.ac(65,"nz-radio-group",25),C.ic("ngModelChange",(function(e){return t.displacementUnit=e}))("ngModelChange",(function(){return t.displacementUnitChange()})),C.ac(66,"label",26),C.Oc(67," \u71c3\u6cb9\u6c7d\u8eca "),C.Zb(),C.Vb(68,"nz-input-number",27),C.Oc(69,"CC(\u7acb\u65b9\u516c\u5206) "),C.ac(70,"label",26),C.Oc(71," \u96fb\u52d5\u6c7d\u8eca "),C.Zb(),C.Vb(72,"nz-input-number",28),C.Oc(73,"HP(\u7acb\u65b9\u516c\u5206) "),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.ac(74,"span",18),C.Oc(75),C.Zb(),C.Zb(),C.Zb(),C.ac(76,"div",7),C.ac(77,"nz-form-item"),C.ac(78,"nz-form-label",8),C.Oc(79,"\u767c\u7167\u5e74\u6708\u65e5 (\u6c11\u570b)"),C.Zb(),C.ac(80,"nz-form-control",29),C.ac(81,"span"),C.ac(82,"nz-select",12),C.ic("ngModelChange",(function(){return t.onRegisterChange()})),C.Mc(83,j,1,2,"nz-option",13),C.Zb(),C.Oc(84," \u5e74 "),C.ac(85,"nz-select",12),C.ic("ngModelChange",(function(){return t.onRegisterChange()})),C.Mc(86,H,1,2,"nz-option",13),C.Zb(),C.Oc(87," \u6708 "),C.ac(88,"nz-select",12),C.ic("ngModelChange",(function(){return t.onRegisterChange()})),C.Mc(89,X,1,2,"nz-option",13),C.Zb(),C.Oc(90," \u65e5 "),C.Zb(),C.Zb(),C.ac(91,"span",14),C.Oc(92),C.Zb(),C.Zb(),C.Zb(),C.ac(93,"div",7),C.ac(94,"nz-form-item"),C.ac(95,"nz-form-label",8),C.Oc(96,"\u88fd\u9020\u5e74\u4efd (\u897f\u5143)"),C.Zb(),C.ac(97,"nz-form-control",29),C.ac(98,"span"),C.ac(99,"nz-select",12),C.ic("ngModelChange",(function(){return t.onManufactureChange("year")})),C.Mc(100,G,1,2,"nz-option",13),C.Zb(),C.Oc(101," \u5e74 "),C.ac(102,"nz-select",12),C.ic("ngModelChange",(function(){return t.onManufactureChange()})),C.Mc(103,$,1,2,"nz-option",13),C.Zb(),C.Oc(104," \u6708 "),C.Zb(),C.Zb(),C.ac(105,"span",18),C.Oc(106),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.Zb(),C.Zb()),2&e&&(C.tc("title","\u4fdd\u8cbb\u8a66\u7b97")("headerHint","\u4ee5\u4e0b\u6b04\u4f4d\u5747\u70ba\u5fc5\u586b\uff0c\u8acb\u4f9d\u884c\u8eca\u57f7\u7167\u8cc7\u6599\u586b\u5beb\uff0c\u65b9\u80fd\u63d0\u4f9b\u60a8\u6b63\u78ba\u7684\u4fdd\u8cbb\u8cc7\u8a0a\u3002")("useTemplate",!0),C.Db(9),C.tc("formGroup",t.trialForm),C.Db(6),C.tc("nzErrorTip",t.errorMsgList.getFormErrorStr(t.trialForm,t.keys.taxId)),C.Db(1),C.tc("formControlName",t.keys.taxId),C.Db(6),C.tc("formControlName","dob_year"),C.Db(1),C.tc("ngForOf",t.republicEra),C.Db(2),C.tc("formControlName","dob_month"),C.Db(1),C.tc("ngForOf",t.month),C.Db(2),C.tc("formControlName","dob_day"),C.Db(1),C.tc("ngForOf",t.date),C.Db(3),C.Qc(" ",t.errorMsgList.getFormDateErrorStr(t.trialForm,t.keys.dob,"dob_year","dob_month","dob_day")," "),C.Db(6),C.tc("formControlName","plate_pre"),C.Db(2),C.tc("formControlName","plate_suf"),C.Db(4),C.Qc(" ",t.errorMsgList.getFormPlateNoErrorStr(t.trialForm,t.keys.plateNo,"plate_pre","plate_suf")," "),C.Db(6),C.tc("formControlName",t.keys.bodyTypeCode)("nzDisabled",t.isNewPlateFormat),C.Db(1),C.tc("ngForOf",t.carBodyTypeKeys),C.Db(6),C.tc("formControlName",t.keys.makeCode)("maxlength",25),C.Db(8),C.tc("ngModel",t.displacementUnit)("ngModelOptions",C.wc(51,J))("nzDisabled",t.isNewPlateFormat||t.renewalDisable),C.Db(1),C.tc("nzValue","CC")("nzDisabled",t.displacementUnitDisabled&&t.isNewPlateFormat),C.Db(2),C.tc("formControlName",t.keys.displacement)("nzMin",251)("nzMax",8e3)("nzStep",1)("nzDisabled",t.displacementOilDisabled||t.displacementOilDisabled&&t.isNewPlateFormat),C.Db(2),C.tc("nzValue","HP")("nzDisabled",t.displacementUnitDisabled&&t.isNewPlateFormat),C.Db(2),C.tc("formControlName",t.keys.displacement+"2")("nzMin",1)("nzMax",9999)("nzStep",1)("nzDisabled",!t.displacementOilDisabled||!t.displacementOilDisabled&&t.isNewPlateFormat),C.Db(3),C.Pc(t.errorMsgList.getFormErrorStr(t.trialForm,t.keys.displacement)),C.Db(7),C.tc("formControlName","reg_year"),C.Db(1),C.tc("ngForOf",t.republicEra),C.Db(2),C.tc("formControlName","reg_month"),C.Db(1),C.tc("ngForOf",t.month),C.Db(2),C.tc("formControlName","reg_day"),C.Db(1),C.tc("ngForOf",t.date),C.Db(3),C.Qc(" ",t.errorMsgList.getFormDateErrorStr(t.trialForm,t.keys.firstRegistrationDate,"reg_year","reg_month","reg_day")," "),C.Db(7),C.tc("formControlName",t.keys.manufactureYear),C.Db(1),C.tc("ngForOf",t.year),C.Db(2),C.tc("formControlName",t.keys.manufactureMonth),C.Db(1),C.tc("ngForOf",t.month),C.Db(3),C.Qc(" ",t.errorMsgList.getManuDateErrorStr(t.trialForm,"manufactureYM",t.keys.manufactureYear,t.keys.manufactureMonth)," "))},directives:[U.a,R.a,a.w,a.r,k.b,a.k,B.c,k.c,B.a,k.d,k.a,w.b,a.c,a.q,a.i,W.d,K.m,a.n,F.a,x.a,z.a,Z.c,a.t,Z.b,V.a,W.a],styles:[".underline[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #979797;width:86%!important}.select[_ngcontent-%COMP%]{width:25%}.input-width[_ngcontent-%COMP%]{width:220px}.input-width_long[_ngcontent-%COMP%]{width:440px}.input-width_short[_ngcontent-%COMP%]{width:180px}.input-mobile[_ngcontent-%COMP%]{width:45%}.fix-select-err-msg-position[_ngcontent-%COMP%]{margin-top:-20px}@media only screen and (max-width:576px){.select_year[_ngcontent-%COMP%]{width:40%}.select_month[_ngcontent-%COMP%]{width:40%;margin-left:33px;margin-top:5px}}@media only screen and (min-width:576px){.select_month[_ngcontent-%COMP%], .select_year[_ngcontent-%COMP%]{width:22%}}@media (max-width:768px){.underline[_ngcontent-%COMP%]{width:100%!important}.select[_ngcontent-%COMP%]{width:60%;margin:5px}.input-mobile[_ngcontent-%COMP%]{width:40%;margin:5px}.fix-select-err-msg-position[_ngcontent-%COMP%]{margin-top:0}}"]}),e}()}}]);