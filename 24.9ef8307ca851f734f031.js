(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"9zbJ":function(e,t,n){"use strict";n.r(t);var r=n("Valr"),o=n("QJY3"),i=n("XhEE"),a=n("om6W"),s=n("iDUo"),c=n("GKFS"),l=n("5yO8"),u=n("XiaQ"),m=n("mk+L"),d=n("Ccv7"),p=n("rtiL"),g=n("omOQ"),b=n("wd/R"),h=n("15JJ"),f=n("TYT/"),v=n("eNMZ"),C=n("R08+"),z=n("NkHd"),y=n("lEQb"),F=n("DUip"),S=n("SloE"),D=n("3EIT"),w=n("L/4V"),O=n("AzBT"),M=n("Sh7c"),k=n("MySR");function x(e,t){if(1&e){var n=f.bc();f.ac(0,"div",8),f.ac(1,"button",9),f.ic("click",(function(){f.Ec(n);var e=f.lc();return e.onShowModal(e.pageBtnType.next)})),f.Oc(2," \u4e0b\u4e00\u6b65 "),f.Zb(),f.Zb()}}function P(e,t){if(1&e){var n=f.bc();f.ac(0,"div",8),f.ac(1,"button",9),f.ic("click",(function(){return f.Ec(n),f.lc().finishRegister()})),f.Oc(2," \u5b8c\u6210 "),f.Zb(),f.Zb()}}var E=function(){function e(e,t,n,r,o,i,a,s,c){this.memberStepsService=e,this.modal=t,this.memberService=n,this.piiLogSvc=r,this.formBuilder=o,this.router=i,this.loginService=a,this.rewardSvc=s,this.storage=c,this.product="vehicle"}return Object.defineProperty(e.prototype,"steps",{get:function(){return this.memberStepsService.steps},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MemberSteps",{get:function(){return i.a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageBtnType",{get:function(){return a.a},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setRegisterForm(),this.getUrlParams()},e.prototype.ngOnDestroy=function(){this.memberStepsService.currentStep=i.a.step1_1},e.prototype.getUrlParams=function(){var e=this.router.parseUrl(this.router.url).queryParams;e&&e.product&&(this.product=e.product)},e.prototype.setRegisterForm=function(){var e;this.registerForm=this.formBuilder.group(((e={})[c.a.basicInfoForm]=new o.j({}),e[c.a.memberTermsForm]=new o.j({}),e))},e.prototype.onPageClick=function(e){e===a.a.previous&&(this.memberStepsService.currentStep>i.a.step1_1&&this.memberStepsService.currentStep--,this.modal.create({nzContent:m.a,nzClosable:!0,nzWidth:700,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{userData:this.userData,regNo:this.regNo},nzClassName:"otpModal"}))},e.prototype.isUserId=function(e){e&&(this.product?this.router.navigate(["html","member","login"],{queryParams:{product:this.product}}):this.router.navigate(["html","member","login"]))},e.prototype.termsBlock=function(e){e?(this.memberTerms.termsBlockById=!0,this.memberTerms.resetMemberTermsForm()):this.memberTerms.termsBlockById=!1},e.prototype.onShowModal=function(e){var t=this;if(this.basicInfo.validateBasicInfo()&&this.memberTerms.checkTerms()){var n=this.registerForm.get(c.a.basicInfoForm);this.userData=n.getRawValue(),this.userData.userID=this.userData.userID.toUpperCase(),this.piiLogSvc.callECPiilog(["BASE DATA INPUT"],s.a.REGISTER,this.userData.userID).subscribe(),this.memberService.sendOtp(this.userData.userID,this.userData.email,this.userData.mobile,this.userData.userName).subscribe((function(e){"S00"===e.returnCode?(t.regNo=e.regNo,t.modal.create({nzContent:m.a,nzClosable:!1,nzWidth:700,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{userData:t.userData,regNo:t.regNo},nzOnOk:function(){1===t.storage.getData(g.a.from_gogoro_event,p.b.LOCAL)&&t.callGogoroEvent(t.userData.userID),t.memberStepsService.currentStep=i.a.step2,t.memberService.login(t.userData.userID,btoa(t.userData.pwd),"",!1).pipe(Object(h.a)((function(e){if(!e||!e.returnCode)return[];switch(t.memberService.loginResponseAlertControl(e),e.returnCode){default:return[];case"S00":case"S01":return t.loginService.userData=new d.a(e.user),t.memberService.inquireValidPSIPolicy(t.loginService.userData.getUserId())}}))).subscribe()},nzClassName:"otpModal"})):alert(e.returnMessage)}))}},e.prototype.finishRegister=function(){switch(this.product){case"vehicle":default:this.router.navigate(["html","vehicle-insurance"]);break;case"gogoro":1==this.storage.getData(g.a.show_ggr_qa,p.b.LOCAL)?this.router.navigate(["html","gogoro-bonus"]):this.router.navigate(["html","gogoro-insurance"]);break;case"mobile":this.router.navigate(["html","mob-insurance"])}},e.prototype.callGogoroEvent=function(e){var t=this,n={awardCode:"",awardTime:b().format("YYYY-MM-DD HH:mm:ss"),awardId:e,awardType:"T1",awardAnswer:""};this.rewardSvc.saveReward(n).subscribe((function(e){1===e.code&&(console.log("T1 \u76f8\u85a6\u79ae\u6210\u529f"),t.storage.clean(p.b.LOCAL,g.a.from_gogoro_event))}))},e.\u0275fac=function(t){return new(t||e)(f.Ub(v.a),f.Ub(C.e),f.Ub(z.a),f.Ub(y.a),f.Ub(o.f),f.Ub(F.g),f.Ub(S.a),f.Ub(D.a),f.Ub(p.a))},e.\u0275cmp=f.Ob({type:e,selectors:[["app-register"]],viewQuery:function(e,t){var n;1&e&&(f.Vc(l.a,!0),f.Vc(u.a,!0)),2&e&&(f.Bc(n=f.jc())&&(t.basicInfo=n.first),f.Bc(n=f.jc())&&(t.memberTerms=n.first))},decls:15,vars:10,consts:[[1,"background-zone"],[1,"inner-container"],[1,"banner"],[1,"steps-content"],[3,"formGroup"],[3,"registerForm","data","isUser","termsBlockById"],[3,"registerForm"],["class","steps-btn",4,"ngIf"],[1,"steps-btn"],["nz-button","","nzType","primary","nzShape","round",1,"next-btn",3,"click"]],template:function(e,t){1&e&&(f.ac(0,"div",0),f.ac(1,"div",1),f.ac(2,"div",2),f.ac(3,"h4"),f.Oc(4,"\u7dda\u4e0a\u8a3b\u518a\u6703\u54e1"),f.Zb(),f.ac(5,"p"),f.Oc(6," \u6b61\u8fce\u60a8\u52a0\u5165\u5357\u5c71\u7db2\u8def\u6703\u54e1\uff0c\u53ea\u8981\u60a8 \u5e74\u6eff18\u6b72\u4e14\u5177\u6709\u884c\u70ba\u80fd\u529b \u4e26\u586b\u59a5\u4e0b\u5217\u8cc7\u6599\uff0c\u5373\u53ef\u6210\u529f\u53d6\u5f97\u6703\u54e1\u8cc7\u683c\uff0c\u7533\u8acb\u904e\u7a0b\u4e2d\u5982\u6709\u4efb\u4f55\u670d\u52d9\u9700\u6c42\uff0c\u8acb\u6d3d\u8a62\u672c\u516c\u53f8\u5ba2\u670d\u5c08\u7dda 0800-020-060 (\u63092)\uff0c\u8b1d\u8b1d\u60a8\uff01 "),f.Zb(),f.Zb(),f.ac(7,"div",3),f.ac(8,"form",4),f.ac(9,"div"),f.ac(10,"app-basic-info",5),f.ic("isUser",(function(e){return t.isUserId(e)}))("termsBlockById",(function(e){return t.termsBlock(e)})),f.Zb(),f.Vb(11,"app-member-terms",6),f.Zb(),f.Vb(12,"app-complete-register"),f.Zb(),f.Zb(),f.Mc(13,x,3,0,"div",7),f.Mc(14,P,3,0,"div",7),f.Zb(),f.Zb()),2&e&&(f.Db(8),f.tc("formGroup",t.registerForm),f.Db(1),f.Kb("d-none",t.memberStepsService.currentStep!=t.MemberSteps.step1_1),f.Db(1),f.tc("registerForm",t.registerForm)("data",t.data),f.Db(1),f.tc("registerForm",t.registerForm),f.Db(1),f.Kb("d-none",t.memberStepsService.currentStep!=t.MemberSteps.step2),f.Db(1),f.tc("ngIf",t.memberStepsService.currentStep!=t.MemberSteps.step2),f.Db(1),f.tc("ngIf",t.memberStepsService.currentStep==t.MemberSteps.step2))},directives:[o.w,o.r,o.k,l.a,u.a,w.a,r.n,O.a,M.a,k.a],styles:[".inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.banner[_ngcontent-%COMP%]{padding:50px}.banner[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700!important}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:60px}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width:1100px){.banner[_ngcontent-%COMP%]{padding:25px}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px}}.steps-btn[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding:25px}@media (max-width:768px){.steps-btn[_ngcontent-%COMP%]{display:block;text-align:center}}.prev-btn[_ngcontent-%COMP%]{color:#fff;background-color:#4b4b4b;width:350px;border:none;height:45px}@media (max-width:768px){.prev-btn[_ngcontent-%COMP%]{margin:15px!important;width:300px}}@media (max-width:370px){.prev-btn[_ngcontent-%COMP%]{margin:15px!important;width:240px}}.next-btn[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(to right bottom,#ef8c51,#d75b11);width:350px;border:none;height:45px}@media (max-width:768px){.next-btn[_ngcontent-%COMP%]{margin:15px;width:300px}}@media (max-width:370px){.next-btn[_ngcontent-%COMP%]{margin:15px!important;width:240px}}"]}),e}(),Z=n("67Y/"),_=n("RYkN"),U=n("GiNM"),I=n("ThRj"),N=n("gzB6"),R=n("/dic"),L=n("Ue4Y"),T=n("vmpY"),V=n("/RLq"),B=n("RQUG"),A=n("2xHj");function q(e,t){if(1&e){var n=f.bc();f.ac(0,"div",16),f.ac(1,"button",17),f.ic("click",(function(){return f.Ec(n),f.lc().loginByPwd=!0})),f.Oc(2," \u5e33\u865f\u5bc6\u78bc\u767b\u5165 "),f.Zb(),f.ac(3,"button",17),f.ic("click",(function(){return f.Ec(n),f.lc().loginByPwd=!1})),f.Oc(4," \u624b\u6a5f\u9a57\u8b49\u767b\u5165 "),f.Zb(),f.Zb()}if(2&e){var r=f.lc();f.Db(1),f.Kb("loginSwitch_btn_active",r.loginByPwd),f.Db(2),f.Kb("loginSwitch_btn_active",!r.loginByPwd)}}function W(e,t){if(1&e&&(f.ac(0,"div",5),f.ac(1,"nz-form-item"),f.ac(2,"nz-form-label",6),f.ac(3,"span",7),f.Oc(4,"\u8acb\u8f38\u5165\u5bc6\u78bc"),f.Zb(),f.Zb(),f.ac(5,"nz-form-control",8),f.Vb(6,"input",18),f.Zb(),f.Zb(),f.Zb()),2&e){var n=f.lc();f.tc("nzSpan",24),f.Db(5),f.tc("nzErrorTip","\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d"),f.Db(1),f.tc("type",n.keys.passW)("formControlName",n.keys.pass)}}function Y(e,t){if(1&e){var n=f.bc();f.ac(0,"div",19),f.ac(1,"a",20),f.ic("click",(function(){return f.Ec(n),f.lc().onShowModal()})),f.Oc(2,"\u5fd8\u8a18\u5bc6\u78bc\uff1f"),f.Zb(),f.Zb()}2&e&&f.tc("nzSpan",12)}var j=function(){function e(e,t,n,r,o,i,a,s,c,l,u){this.modal=e,this.formBuilder=t,this.memberService=n,this.networkingService=r,this.storage=o,this.piiLogSvc=i,this.loginService=a,this.cookieService=s,this.router=c,this.messageService=l,this.productPopupMsgSvc=u,this.loginByPwd=!0,this.keys=_.a,this.product=""}return e.prototype.ngOnInit=function(){this.storage.getData(g.a.token,p.b.SESSION)||this.networkingService.getEBaoToken(),this.setLoginForm(),this.getUrlParams(),this.patchEsunData()},e.prototype.setLoginForm=function(){var e;this.loginForm=this.formBuilder.group(((e={userID:new o.g(this.cookieService.getCookie("EC|username"),[o.v.required])})[_.a.pass]=new o.g("",[o.v.required]),e))},e.prototype.patchEsunData=function(){var e=this,t=this.loginForm.get("userID");this.networkingService.esunCustomerData?(t.patchValue(this.networkingService.esunCustomerData.cid),t.disable(),this.memberService.isUser(this.networkingService.esunCustomerData.cid).subscribe((function(t){"E02"===t.returnCode&&e.messageService.alert(e.productPopupMsgSvc.popupMsg11(),"","\u8a3b\u518a").afterClose.subscribe((function(t){t&&e.router.navigateByUrl("html/member/register")}))}))):this.networkingService.esunCustomerDataEmitter.subscribe((function(n){t.patchValue(n.cid),t.disable(),e.memberService.isUser(n.cid).subscribe((function(t){"E02"===t.returnCode&&e.messageService.alert(e.productPopupMsgSvc.popupMsg11(),"","\u8a3b\u518a").afterClose.subscribe((function(t){t&&e.router.navigateByUrl("html/member/register")}))}))}))},e.prototype.getUrlParams=function(){var e=this.router.parseUrl(this.router.url).queryParams;e&&e.product&&(this.product=e.product)},e.prototype.onShowModal=function(){var e=this,t=this.loginForm.get("userID").value.toUpperCase().trim();t?this.memberService.isUser(t).subscribe((function(n){"S00"===n.returnCode?e.modal.create({nzContent:U.a,nzClosable:!0,nzStyle:{width:"400px",height:"900px"},nzFooter:null,nzAfterClose:new f.n(!0),nzComponentParams:{currentPage:_.a.pass,userId:t}}).afterClose.subscribe((function(t){"goMobileLogin"===t&&(e.loginByPwd=!1)})):(e.messageService.alert(n.returnMessage),console.error(n.returnMessage))})):this.messageService.alert("\u8acb\u8f38\u5165\u5e33\u865f(\u8eab\u5206\u8b49/\u7d71\u4e00\u7de8\u865f)")},e.prototype.onChangePage=function(e){},e.prototype.otpReq=function(){var e=this,t=this.loginForm.get("userID").value.toUpperCase().trim();if(this.loginForm.get("userID").markAsDirty(),this.loginForm.get("userID").updateValueAndValidity(),this.loginForm.get(_.a.pass).setErrors(null),"INVALID"!==this.loginForm.get("userID").status){var n={userID:t,email:"",mobile:"",userName:""};this.memberService.isUser(t).pipe(Object(h.a)((function(r){return r&&"S00"===r.returnCode?e.memberService.sendLoginOtp(t).pipe(Object(Z.a)((function(t){"S00"===t.returnCode&&e.modal.create({nzContent:m.a,nzClosable:!1,nzWidth:700,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{currentPage:"login",userData:n,regNo:t.regNo},nzOnCancel:function(e){},nzOnOk:function(){e.navigateCalculation()},nzClassName:"otpModal"})}))):(e.messageService.alert(e.productPopupMsgSvc.popupMsg11(),"","\u8a3b\u518a").afterClose.subscribe((function(t){t&&e.router.navigateByUrl("html/member/register")})),[])}))).subscribe()}},e.prototype.loginReq=function(){var e=this;for(var t in this.loginForm.controls)this.loginForm.controls[t].markAsDirty(),this.loginForm.controls[t].updateValueAndValidity();if("INVALID"!==this.loginForm.status){var n=this.loginForm.getRawValue(),r=n.userID.toUpperCase().trim();this.memberService.inquireUserLastLoginDate(r).pipe(Object(h.a)((function(t){return t&&b(t).add(5,"years").isSameOrBefore(b())?(e.messageService.alert("\u56e0\u60a8\u7684\u5e33\u865f\u4e94\u5e74\u5167\u672a\u66fe\u6709\u904e\u6295\u4fdd\u7d00\u9304\uff0c\u56e0\u61c9\u6cd5\u898f\u898f\u5b9a\uff0c\u9700\u8acb\u60a8\u91cd\u65b0\u9a57\u8b49\u8eab\u5206\u5f8c\u767b\u5165\u3002").afterClose.subscribe((function(t){t&&e.otpReq()})),[]):e.memberService.login(r,btoa(n.pwd),e.networkingService.forwardFrom)})),Object(Z.a)((function(t){if(t&&t.returnCode)switch(e.memberService.loginResponseAlertControl(t),t.returnCode){case"S00":e.piiLogSvc.callECPiilog(["\u5bc6\u78bc\u767b\u5165"],s.a.LOGIN,r).subscribe(),e.loginService.userData=new d.a(t.user),e.navigateCalculation();break;case"S01":t.user&&(e.loginService.userData=new d.a(t.user)),e.piiLogSvc.callECPiilog(["\u5bc6\u78bc\u767b\u5165"],s.a.LOGIN,r).subscribe(),e.memberService.inquireUser(r).subscribe((function(t){e.loginService.userData=new d.a(t),e.navigateCalculation()}))}})),Object(h.a)((function(){return e.loginService.userData&&e.loginService.userData.getUserId()?e.memberService.inquireValidPSIPolicy(e.loginService.userData.getUserId()):[]}))).subscribe()}},e.prototype.onRegisterClick=function(){var e=this,t=this.loginForm.get("userID").value,n=this.product?"html/member/register?product="+this.product:"html/member/register";t?this.memberService.isUser(t.toUpperCase()).subscribe((function(t){"S00"===t.returnCode?e.messageService.alert("\u5df2\u5c6c\u7db2\u7ad9\u6703\u54e1\u53ef\u76f4\u63a5\u767b\u5165\uff0c\u4ee5\u52a0\u901f\u6295\u4fdd\u6d41\u7a0b\uff0c\u8b1d\u8b1d\uff01"):e.router.navigateByUrl(n)})):this.router.navigateByUrl(n)},e.prototype.onIDInput=function(){var e=this.loginForm.get("userID").value.toUpperCase().trim();"true"===document.getElementById("rememberMe").getAttribute("ng-reflect-nz-checked")?this.cookieService.setCookie("EC|username",e,30):this.cookieService.clearCookie("EC|username")},e.prototype.onRememberMeCheck=function(e){var t=this.loginForm.get("userID").value.toUpperCase().trim();e?this.cookieService.setCookie("EC|username",t,30):this.cookieService.clearCookie("EC|username")},e.prototype.navigateCalculation=function(){switch(this.product){case"update":this.router.navigate(["html","member","user-info-update"]);break;case"vehicle":this.router.navigate(["html","vehicle-insurance"]);break;case"mobile":this.router.navigate(["html","mob-insurance"]);break;case"travel":this.router.navigate(["html","travel-insurance"]);break;case"car":this.router.navigate(["html","car-insurance"]);break;case"gogoro":1==this.storage.getData(g.a.show_ggr_qa,p.b.LOCAL)?this.router.navigate(["html","gogoro-bonus"]):this.router.navigate(["html","gogoro-insurance"]);break;default:this.router.navigate(["/"])}},e.\u0275fac=function(t){return new(t||e)(f.Ub(C.e),f.Ub(o.f),f.Ub(z.a),f.Ub(I.b),f.Ub(p.a),f.Ub(y.a),f.Ub(S.a),f.Ub(N.a),f.Ub(F.g),f.Ub(R.a),f.Ub(L.a))},e.\u0275cmp=f.Ob({type:e,selectors:[["app-login"]],decls:26,vars:16,consts:[["nz-row",""],["nz-col","",1,"login-left",3,"nzLg","nzXs"],["nz-col","",1,"login-right",3,"nzLg","nzXs"],["class","loginSwitch",4,"ngIf"],["nz-form","","nzLayout","vertical","nzNoColon","true",3,"formGroup"],["nz-col","",3,"nzSpan"],["nzFor",""],[2,"color","white !important","font-weight","bold","font-size","18px"],["nzRequired","",3,"nzErrorTip"],["nz-input","","placeholder","\u8acb\u8f38\u5165","formControlName","userID",1,"underline",2,"text-transform","uppercase",3,"ngModelChange"],["nz-col","",3,"nzSpan",4,"ngIf"],["nz-checkbox","","id","rememberMe",3,"nzChecked","nzCheckedChange"],["nz-col","","style","text-align: end",3,"nzSpan",4,"ngIf"],["nz-col","",1,"mt-2",3,"nzSpan"],["nz-button","","nzType","primary","nzShape","round",1,"login",3,"click"],[1,"py-3"],[1,"loginSwitch"],[1,"loginSwitch_btn",3,"click"],["nz-input","","placeholder","\u8acb\u8f38\u5165",1,"underline",3,"type","formControlName"],["nz-col","",2,"text-align","end",3,"nzSpan"],["nz-button","","nzType","link",3,"click"]],template:function(e,t){1&e&&(f.ac(0,"div",0),f.Vb(1,"div",1),f.ac(2,"div",2),f.Mc(3,q,5,4,"div",3),f.ac(4,"form",4),f.ac(5,"div",0),f.ac(6,"div",5),f.ac(7,"nz-form-item"),f.ac(8,"nz-form-label",6),f.ac(9,"span",7),f.Oc(10,"\u8acb\u8f38\u5165\u5e33\u865f (\u8eab\u5206\u8b49\u6216\u7d71\u4e00\u7de8\u865f)"),f.Zb(),f.Zb(),f.ac(11,"nz-form-control",8),f.ac(12,"input",9),f.ic("ngModelChange",(function(){return t.onIDInput()})),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Mc(13,W,7,4,"div",10),f.ac(14,"div",5),f.ac(15,"label",11),f.ic("nzCheckedChange",(function(e){return t.onRememberMeCheck(e)})),f.Oc(16,"\u8a18\u4f4f\u6211"),f.Zb(),f.Zb(),f.Mc(17,Y,3,1,"div",12),f.ac(18,"div",13),f.ac(19,"button",14),f.ic("click",(function(){return t.loginByPwd?t.loginReq():t.otpReq()})),f.Oc(20," \u767b\u5165 Login "),f.Zb(),f.Zb(),f.ac(21,"span",15),f.Oc(22,"\u9084\u4e0d\u662f\u6703\u54e1\uff1f"),f.Zb(),f.ac(23,"div",5),f.ac(24,"button",14),f.ic("click",(function(){return t.onRegisterClick()})),f.Oc(25," \u6703\u54e1\u8a3b\u518a "),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb()),2&e&&(f.Db(1),f.tc("nzLg",16)("nzXs",0),f.Db(1),f.tc("nzLg",8)("nzXs",24),f.Db(1),f.tc("ngIf",!0),f.Db(1),f.Kb("loginByOTP",!t.loginByPwd),f.tc("formGroup",t.loginForm),f.Db(2),f.tc("nzSpan",24),f.Db(5),f.tc("nzErrorTip","\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d"),f.Db(2),f.tc("ngIf",t.loginByPwd),f.Db(1),f.tc("nzSpan",12),f.Db(1),f.tc("nzChecked",!!t.cookieService.getCookie("EC|username")),f.Db(2),f.tc("ngIf",t.loginByPwd),f.Db(1),f.tc("nzSpan",24),f.Db(5),f.tc("nzSpan",24))},directives:[T.c,T.a,r.n,o.w,o.r,V.b,o.k,V.c,V.d,V.a,B.b,o.c,o.q,o.i,A.a,O.a,M.a,k.a],styles:["[_ngcontent-%COMP%]::-webkit-input-placeholder{opacity:.4;font-family:PingFangTC;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:.79px;color:#fff}[_ngcontent-%COMP%]::-moz-placeholder{opacity:.4;font-family:PingFangTC;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:.79px;color:#fff}[_ngcontent-%COMP%]:-ms-input-placeholder{opacity:.4;font-family:PingFangTC;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:.79px;color:#fff}[_ngcontent-%COMP%]::-ms-input-placeholder{opacity:.4;font-family:PingFangTC;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:.79px;color:#fff}[_ngcontent-%COMP%]::placeholder{opacity:.4;font-family:PingFangTC;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:.79px;color:#fff}.login-right[_ngcontent-%COMP%]{background-image:url(bg-img-line.b1e069a9709c3cfe1f8f.png),linear-gradient(#00b7e5,#0081c6);background-size:100%,100%;background-repeat:no-repeat,no-repeat;background-position:0 50px,0;padding:17vh 24px 18vh;height:100%}.login-left[_ngcontent-%COMP%]{background-image:url(login-left.bd370ccbbeb09d1f5455.png);background-size:70%;background-repeat:no-repeat;background-position:50%;background-color:#fff}*[_ngcontent-%COMP%]{color:#fff!important}.loginSwitch[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;margin-bottom:20px}.loginSwitch_btn[_ngcontent-%COMP%]{background:none;border:3px solid #fff;font-size:18px;font-weight:bolder;width:50%;padding:5px 0;text-align:center}.loginSwitch_btn[_ngcontent-%COMP%]:hover{opacity:.87}.loginSwitch_btn[_ngcontent-%COMP%]:hover, .loginSwitch_btn_active[_ngcontent-%COMP%]{background-color:#fff;color:#0081c6!important}.underline[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #fff;width:100%!important;outline:none}.login[_ngcontent-%COMP%]{width:100%;height:45px;border:1px solid #fff;background-color:rgba(0,0,0,0);font-weight:bolder;font-size:18px}.login[_ngcontent-%COMP%]:hover{background-color:#fff;color:#0081c6!important}.loginByOTP[_ngcontent-%COMP%]{margin-bottom:111px}input[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0);font-size:large}.ant-input-disabled[_ngcontent-%COMP%], .ant-input[disabled][_ngcontent-%COMP%]{background-color:rgba(0,0,0,0)!important}"]}),e}(),G=n("j4cX"),H=n("OESc"),X=n("lc5b");const Q="function"==typeof btoa,J="function"==typeof Buffer,K=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),$=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],ee=((e=>{let t={};e.forEach((e,n)=>t[e]=n)})($),String.fromCharCode.bind(String)),te=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,"")),ne=Q?e=>btoa(e):J?e=>Buffer.from(e,"binary").toString("base64"):e=>{let t,n,r,o,i="";const a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=$[t>>18&63]+$[t>>12&63]+$[t>>6&63]+$[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},re=J?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(ee.apply(null,e.subarray(n,n+4096)));return ne(t.join(""))},oe=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?ee(192|t>>>6)+ee(128|63&t):ee(224|t>>>12&15)+ee(128|t>>>6&63)+ee(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return ee(240|t>>>18&7)+ee(128|t>>>12&63)+ee(128|t>>>6&63)+ee(128|63&t)},ie=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ae=J?e=>Buffer.from(e,"utf8").toString("base64"):K?e=>re(K.encode(e)):e=>ne(e.replace(ie,oe)),se=(e,t=!1)=>t?te(ae(e)):ae(e);var ce=n("X5uw"),le=n("rCsC"),ue=n("du9V"),me=n("j+pk"),de=n("P4PA"),pe=n("G6CK"),ge=n("QJHY"),be=n("apbf");function he(e,t){if(1&e&&f.Vb(0,"nz-option",50),2&e){var n=t.$implicit,r=f.lc();f.uc("nzValue",n),f.uc("nzLabel",r.userDobYearRevealed?n:"**")}}function fe(e,t){if(1&e&&f.Vb(0,"nz-option",50),2&e){var n=t.$implicit;f.uc("nzValue",n),f.uc("nzLabel",n)}}function ve(e,t){if(1&e&&f.Vb(0,"nz-option",50),2&e){var n=t.$implicit;f.uc("nzValue",n),f.uc("nzLabel",n)}}function Ce(e,t){if(1&e){var n=f.bc();f.Yb(0),f.ac(1,"li",51),f.ic("click",(function(){f.Ec(n);var e=t.$implicit;return f.lc().onFeqEmailChange(e.value)})),f.Oc(2),f.Zb(),f.Xb()}if(2&e){var r=t.$implicit;f.Db(2),f.Qc(" ",r.label," ")}}function ze(e,t){1&e&&(f.ac(0,"div",52),f.ac(1,"h5",53),f.Oc(2,"\u5bc6\u78bc\u898f\u5247:"),f.Zb(),f.ac(3,"ol",54),f.ac(4,"li"),f.Oc(5,"\u5bc6\u78bc\u61c9\u70ba8-12\u78bc\u7684\u5927\u5c0f\u5beb\u82f1\u6587\u5b57\u6bcd\u3001\u6578\u5b57\u69cb\u6210\u3002"),f.Zb(),f.ac(6,"li"),f.Oc(7," \u4e0d\u5f97\u8207\u500b\u4eba\u4ee3\u865f\u76f8\u540c(\u4f8b\u5982\uff1a\u8eab\u5206\u8b49\u5b57\u865f\u3001\u51fa\u751f\u65e5\u671f\u3001\u884c\u52d5\u96fb\u8a71)\u3002 "),f.Zb(),f.Zb(),f.Zb())}var ye=function(){return{"min-width":"fit-content","max-width":"60vw"}},Fe=[{path:"",component:j},{path:"login",component:j},{path:"user-info-update",component:function(){function e(e,t,n,r,o,i,a,s){this.router=e,this.modal=t,this.formBuilder=n,this.loginService=r,this.messageService=o,this.networkingService=i,this.memberService=a,this.piiLogService=s,this.keys=_.a,this.errorMsgList=X.a,this.lineURL="https://lin.ee/i8wgZRv",this.feqEmailList=[{label:"Gmail",value:"gmail.com"},{label:"Yahoo",value:"yahoo.com.tw"},{label:"Hotmail",value:"hotmail.com"},{label:"Hinet",value:"msa.hinet.net"},{label:"Msn",value:"msn.com"}],this.republicEra=[],this.month=[1,2,3,4,5,6,7,8,9,10,11,12],this.days=[],this.userIdRevealed=!1,this.userNameRevealed=!1,this.userDobYearRevealed=!1,this.mobileRevealed=!1,this.emailRevealed=!1,this.canEdit=!1}return Object.defineProperty(e.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.getBirthYears(),this.initHiddenForm(),this.setUpdateForm(),this.cantEdit(),this.getUrlParams(),this.callBroswerPiiLog().subscribe()},e.prototype.ngAfterViewInit=function(){this.listenFocus()},e.prototype.ngOnDestroy=function(){},e.prototype.callBroswerPiiLog=function(){var e=this;return this.networkingService.ip?this.piiLogService.callECPiilog([navigator.userAgent,this.networkingService.ip],s.a.BROSWER):this.networkingService.getIP().pipe(Object(h.a)((function(t){return e.networkingService.ip=t,e.piiLogService.callECPiilog([navigator.userAgent,t],s.a.BROSWER)})))},e.prototype.getUrlParams=function(){var e=this.router.parseUrl(this.router.url).queryParams;this.networkingService.getUrlParams(e),this.networkingService.forwardFrom&&this.piiLogService.callECPiilog([this.networkingService.forwardFrom],s.a.FORWARD_FROM).subscribe()},e.prototype.getBirthYears=function(){var e=(new Date).getUTCFullYear()-1911;this.republicEra=Array(e).fill("").map((function(t,n){return e-n}))},e.prototype.getDaysInMonth=function(e,t){if(e&&t){var n=b(Number(e)+1911+"-"+t,"YYYY-MM").daysInMonth();this.days=Array(n).fill("").map((function(e,t){return t+1}))}},e.prototype.initHiddenForm=function(){this.loginService.userData&&(this.hiddenForm=this.user.getHidden())},e.prototype.setUpdateForm=function(){var e,t,n,r,i,a,s,c,l,u,m,d,p,g,h,f,v;this.getDaysInMonth(b(null===(t=this.hiddenForm)||void 0===t?void 0:t.userDob).year()-1911,Number(b(null===(n=this.hiddenForm)||void 0===n?void 0:n.userDob).format("MM"))),this.updateForm=this.formBuilder.group(((e={})[_.a.userID]=new o.g(null===(r=this.hiddenForm)||void 0===r?void 0:r.userId,[o.v.required,G.h]),e.userDob_year=(b(null===(i=this.hiddenForm)||void 0===i?void 0:i.userDob).year()-1911).toString(),e.userDob_month=Number(b(null===(a=this.hiddenForm)||void 0===a?void 0:a.userDob).format("MM")).toString(),e.userDob_date=b(null===(s=this.hiddenForm)||void 0===s?void 0:s.userDob).date().toString(),e[_.a.userDob]=new o.g(null===(c=this.hiddenForm)||void 0===c?void 0:c.userDob,[o.v.required,G.i]),e[_.a.userName]=new o.g(null===(l=this.hiddenForm)||void 0===l?void 0:l.userName,[o.v.required,G.n]),e[_.a.userSex]=new o.g(null===(u=this.hiddenForm)||void 0===u?void 0:u.userSex,[o.v.required]),e[_.a.dmAccept]=null===(m=this.hiddenForm)||void 0===m?void 0:m.dmAccept,e.emailFront=new o.g((null===(d=this.hiddenForm)||void 0===d?void 0:d.email).slice(0,null===(p=this.hiddenForm)||void 0===p?void 0:p.email.indexOf("@")),[o.v.required]),e.emailEnd=new o.g((null===(g=this.hiddenForm)||void 0===g?void 0:g.email).slice((null===(h=this.hiddenForm)||void 0===h?void 0:h.email.indexOf("@"))+1),[o.v.required]),e[_.a.email]=new o.g(null===(f=this.hiddenForm)||void 0===f?void 0:f.email,[o.v.required,G.e]),e[_.a.mobile]=new o.g(null===(v=this.hiddenForm)||void 0===v?void 0:v.mobile,[o.v.required,G.l]),e.passEditCheck=!1,e[_.a.passW]=new o.g(""),e[_.a.pass]="",e[_.a.passCheck]="",e))},e.prototype.listenFocus=function(){var e=this;document.getElementById(_.a.userID).addEventListener("focus",(function(){setTimeout((function(){e.onUserIDFocusReveal()}))})),document.getElementById(_.a.mobile).addEventListener("focus",(function(){setTimeout((function(){e.onMobileFocusReveal()}))})),document.getElementById("emailFront").addEventListener("focus",(function(){setTimeout((function(){e.onEmailFocusReveal()}))}))},e.prototype.onUserIDFocusReveal=function(){this.userIdRevealed||(this.updateForm.get(_.a.userID).patchValue(this.user.getUserId()),this.userIdRevealed=!0)},e.prototype.onUserNameFocusReveal=function(){this.userNameRevealed||(this.updateForm.get(_.a.userName).patchValue(this.user.getUserName()),this.userNameRevealed=!0)},e.prototype.onUserDobYearReveal=function(){this.userDobYearRevealed=!0},e.prototype.onMobileFocusReveal=function(){this.mobileRevealed||(this.updateForm.get(_.a.mobile).patchValue(this.user.getMobile()),this.mobileRevealed=!0)},e.prototype.onEmailFocusReveal=function(){this.emailRevealed||(this.updateForm.get("emailFront").patchValue(this.user.getEmail().slice(0,this.user.getEmail().indexOf("@"))),this.emailRevealed=!0)},e.prototype.onDobChange=function(e){var t=this.updateForm.get("userDob_year").value,n=this.updateForm.get("userDob_month").value,r=this.updateForm.get("userDob_date").value;e||this.getDaysInMonth(t,n),r>this.days[this.days.length-1]&&this.updateForm.get("userDob_date").patchValue(this.days[this.days.length-1]),this.assembleBirthday(t,n,r)},e.prototype.onPwdChange=function(){for(var e=this.updateForm.get(_.a.pass).value,t=this.updateForm.get(_.a.userID).value,n=this.updateForm.get(_.a.mobile).value,r=b(this.updateForm.get(_.a.userDob).value).format("MMDD"),o=e.toUpperCase().slice(1,-1).split("").map((function(e){return e.charCodeAt(0)})),i=!0,a=0;a<o.length&&a!==o.length-1&&!1!==i;a++)i=o[a+1]-o[a]==1;e?H.a.pwd.test(e)?e.length>=8&&e.toUpperCase().slice(1,-1).split("").filter((function(t){return t===e[1].toUpperCase()})).length===e.slice(1,-1).length?(this.userWdErrorMsg="\u5bc6\u78bc\u4e0d\u61c9\u8a2d\u70ba\u76f8\u540c\u82f1\u6578\u5b57",this.updateForm.get(_.a.pass).setErrors({validatePwd:{valid:!1}})):e.length>=8&&!0===i?(this.userWdErrorMsg="\u5bc6\u78bc\u4e0d\u61c9\u8a2d\u70ba\u9023\u7e8c\u82f1\u6578\u5b57",this.updateForm.get(_.a.pass).setErrors({validatePwd:{valid:!1}})):r&&e.toUpperCase().includes(r)?(this.userWdErrorMsg="\u5bc6\u78bc\u4e0d\u61c9\u5305\u542b\u751f\u65e5",this.updateForm.get(_.a.pass).setErrors({validatePwd:{valid:!1}})):t&&(e.toUpperCase().includes(t.toUpperCase())||e.toUpperCase().includes(t.slice(1)))?(this.userWdErrorMsg="\u5bc6\u78bc\u4e0d\u61c9\u5305\u542b\u8eab\u5206\u8b49\u5b57\u865f",this.updateForm.get(_.a.pass).setErrors({validatePwd:{valid:!1}})):n&&e.includes(n)?(this.userWdErrorMsg="\u5bc6\u78bc\u4e0d\u61c9\u5305\u542b\u884c\u52d5\u96fb\u8a71",this.updateForm.get(_.a.pass).setErrors({validatePwd:{valid:!1}})):(this.userWdErrorMsg=null,this.updateForm.get(_.a.pass).setErrors(null)):(this.userWdErrorMsg="\u81ea\u8a02\u5bc6\u78bc\u9808\u75318-12\u78bc\u7684\u5927\u5c0f\u5beb\u82f1\u6587\u5b57\u6bcd\u3001\u6578\u5b57\u69cb\u6210\uff0c\u4e0d\u5141\u8a31\u8f38\u5165\u7279\u6b8a\u7b26\u865f",this.updateForm.get(_.a.pass).setErrors({validatePwd:{valid:!1}})):this.userWdErrorMsg=""},e.prototype.onPwdCkChange=function(){this.updateForm.get(_.a.pass).value!==this.updateForm.get(_.a.passCheck).value?(this.userWdCkErrorMsg="\u5bc6\u78bc\u4e0d\u76f8\u7b26",this.updateForm.get(_.a.passCheck).setErrors({validatePwd:{valid:!1}})):(this.userWdCkErrorMsg=null,this.updateForm.get(_.a.passCheck).setErrors(null))},e.prototype.assembleBirthday=function(e,t,n){if(e&&t&&n){var r=+e+1911+"-"+(2===t.toString().length?t.toString():"0"+t.toString())+"-"+(2===n.toString().length?n.toString():"0"+n.toString())+" 00:00:00";this.updateForm.get(_.a.userDob).setValue(r)}},e.prototype.textAreaResize=function(e){e.textLength<10&&(e.style.height="");var t=e.clientHeight;(t=Math.max(e.scrollHeight,t))>e.clientHeight&&(e.style.height=t+"px")},e.prototype.assembleEmail=function(){var e=this.updateForm.get("emailFront").value,t=this.updateForm.get("emailEnd").value;this.updateForm.get(_.a.email).patchValue(e+"@"+t),this.updateForm.get(_.a.email).markAsDirty(),this.updateForm.get(_.a.email).updateValueAndValidity()},e.prototype.onFeqEmailChange=function(e){this.updateForm.get("emailEnd").patchValue(e),this.textAreaResize(window.document.getElementById("emailEnd"))},e.prototype.onPassEditCheckChange=function(e){e?(this.updateForm.get(_.a.passW).enable(),this.updateForm.get(_.a.pass).enable(),this.updateForm.get(_.a.passCheck).enable(),this.updateForm.get(_.a.passW).setValidators(o.v.required),this.updateForm.get(_.a.pass).setValidators(o.v.required),this.updateForm.get(_.a.passCheck).setValidators(o.v.required)):(this.updateForm.get(_.a.passW).disable(),this.updateForm.get(_.a.pass).disable(),this.updateForm.get(_.a.passCheck).disable())},e.prototype.prevPage=function(){window.history.back()},e.prototype.startEdit=function(){var e=this;this.messageService.confirm("\u662f\u5426\u9032\u5165\u6703\u54e1\u8cc7\u6599\u4fee\u6539?").afterClose.subscribe((function(t){t&&e.memberService.sendOtp(e.user.getUserId(),e.user.getEmail(),e.user.getMobile(),e.user.getUserName()).pipe(Object(Z.a)((function(t){"S00"===t.returnCode?e.modal.create({nzContent:m.a,nzClosable:!1,nzWidth:700,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{currentPage:"modify",userData:{userID:e.user.getUserId(),userName:e.user.getUserName(),email:e.user.getEmail(),mobile:e.user.getMobile()},regNo:t.regNo},nzOnOk:function(){e.canEdit=!0,e.updateForm.get(_.a.mobile).enable(),e.updateForm.get(_.a.email).enable(),e.updateForm.get("emailFront").enable(),e.updateForm.get("emailEnd").enable(),e.updateForm.get(_.a.dmAccept).enable(),e.updateForm.get("passEditCheck").enable(),e.onUserIDFocusReveal(),e.onUserNameFocusReveal(),e.onUserDobYearReveal(),e.onMobileFocusReveal(),e.onEmailFocusReveal(),scrollTo(0,0)},nzClassName:"otpModal"}):alert(t.returnMessage)}))).subscribe()}))},e.prototype.editCancel=function(){var e=this;this.messageService.confirm("\u63d0\u9192\u60a8\uff01\u96e2\u958b\u6b64\u9801\u9762\u5f8c\uff0c\u60a8\u6240\u505a\u7684\u4fee\u6539\u5c07\u4e0d\u6703\u6709\u4efb\u4f55\u6539\u8b8a\u3002").afterClose.subscribe((function(t){t&&e.cantEdit()}))},e.prototype.cantEdit=function(){var e,t,n,r,o,i,a,s,c,l,u=this;this.canEdit=!1,this.userIdRevealed=!1,this.userNameRevealed=!1,this.userDobYearRevealed=!1,this.mobileRevealed=!1,this.emailRevealed=!1,this.updateForm.get(_.a.userID).patchValue(null===(e=this.hiddenForm)||void 0===e?void 0:e.userId),this.updateForm.get("userDob_year").patchValue((b(null===(t=this.hiddenForm)||void 0===t?void 0:t.userDob).year()-1911).toString()),this.updateForm.get("userDob_month").patchValue(Number(b(null===(n=this.hiddenForm)||void 0===n?void 0:n.userDob).format("MM")).toString()),this.updateForm.get("userDob_date").patchValue(b(null===(r=this.hiddenForm)||void 0===r?void 0:r.userDob).date().toString()),this.updateForm.get(_.a.userDob).patchValue(null===(o=this.hiddenForm)||void 0===o?void 0:o.userDob),this.updateForm.get(_.a.userName).patchValue(null===(i=this.hiddenForm)||void 0===i?void 0:i.userName),this.updateForm.get(_.a.userSex).patchValue(null===(a=this.hiddenForm)||void 0===a?void 0:a.userSex),this.updateForm.get(_.a.dmAccept).patchValue(null===(s=this.hiddenForm)||void 0===s?void 0:s.dmAccept),this.updateForm.get(_.a.email).patchValue(null===(c=this.hiddenForm)||void 0===c?void 0:c.email),this.updateForm.get(_.a.mobile).patchValue(null===(l=this.hiddenForm)||void 0===l?void 0:l.mobile),scrollTo(0,0),setTimeout((function(){u.updateForm.disable()}))},e.prototype.sendEdit=function(){var e,t=this;for(var n in this.updateForm.controls)this.updateForm.controls[n].markAsDirty(),this.updateForm.controls[n].updateValueAndValidity();if("INVALID"!==this.updateForm.status){var r={userId:this.updateForm.get(_.a.userID).value,userName:this.updateForm.get(_.a.userName).value,userDob:this.updateForm.get(_.a.userDob).value,email:this.updateForm.get(_.a.email).value,mobile:this.updateForm.get(_.a.mobile).value};this.updateForm.get(_.a.dmAccept).value!==(null===(e=this.hiddenForm)||void 0===e?void 0:e.dmAccept)&&Object.assign(r,{dmAccept:this.updateForm.get(_.a.dmAccept).value}),this.updateForm.get(_.a.passW).value&&Object.assign(r,{oldPwd:se(this.updateForm.get(_.a.passW).value)}),this.updateForm.get(_.a.pass).value&&Object.assign(r,{newPwd:se(this.updateForm.get(_.a.pass).value)}),this.updateForm.get(_.a.passCheck).value&&Object.assign(r,{confirmNewPwd:se(this.updateForm.get(_.a.passCheck).value)}),this.piiLogService.callECPiilog(["\u4fee\u6539\u5bc6\u78bc: "+(this.updateForm.get("passEditCheck").value?"Y":"N"),"\u4fee\u6539\u4fe1\u7bb1: "+(this.updateForm.get(_.a.email).value!==this.user.getEmail()?"Y":"N")+"-"+this.updateForm.get(_.a.email).value,"\u4fee\u6539\u884c\u52d5\u96fb\u8a71: "+(this.updateForm.get(_.a.mobile).value!==this.user.getMobile()?"Y":"N")+"-"+this.updateForm.get(_.a.mobile).value,"\u4fee\u6539\u96fb\u5b50\u5831\u8a02\u95b1: "+(this.updateForm.get(_.a.dmAccept).value!==this.user.getDmAccept()?"Y":"N")+"-"+(this.updateForm.get(_.a.dmAccept).value?"\u8a02\u95b1":"\u672a\u8a02\u95b1")],s.a.MODIFY_USER).subscribe(),this.messageService.confirm("\u63d0\u9192\u60a8\uff01\u78ba\u8a8d\u5f8c\uff0c\u6703\u54e1\u8cc7\u6599\u5c07\u4f9d\u60a8\u6240\u63d0\u4f9b\u7684\u8a0a\u606f\u9032\u884c\u4fee\u6539\u3002").afterClose.subscribe((function(e){e&&t.memberService.sendOtp(t.user.getUserId(),t.updateForm.get(_.a.email).value,t.updateForm.get(_.a.mobile).value,t.user.getUserName()).pipe(Object(Z.a)((function(e){"S00"===e.returnCode?t.modal.create({nzContent:m.a,nzClosable:!1,nzWidth:700,nzFooter:null,nzMaskClosable:!1,nzComponentParams:{currentPage:"modify",userData:{userID:t.user.getUserId(),userName:t.user.getUserName(),email:t.updateForm.get(_.a.email).value,mobile:t.updateForm.get(_.a.mobile).value},regNo:e.regNo},nzOnOk:function(){t.memberService.modifyUser(r).subscribe((function(e){e&&e.modifyUser&&(t.loginService.userData=new d.a(e.modifyUser),t.initHiddenForm(),t.setUpdateForm(),t.cantEdit())}))},nzClassName:"otpModal"}):alert(e.returnMessage)}))).subscribe()}))}else this.messageService.alert("\u6b04\u4f4d\u683c\u5f0f\u6709\u8aa4\uff0c\u8acb\u91cd\u65b0\u78ba\u8a8d").afterClose.subscribe((function(){scroll(0,0)}))},e.\u0275fac=function(t){return new(t||e)(f.Ub(F.g),f.Ub(C.e),f.Ub(o.f),f.Ub(S.a),f.Ub(R.a),f.Ub(I.b),f.Ub(z.a),f.Ub(y.a))},e.\u0275cmp=f.Ob({type:e,selectors:[["ng-component"]],decls:145,vars:63,consts:[[1,"background-zone"],[1,"inner-container"],[1,"banner"],["href","https://www.nanshangeneral.com.tw/NSGeneralWeb/contactus/index.html/#contact_125","target","_blank",2,"color","white","font-size","18px","text-decoration","underline"],[3,"title","useTemplate"],["nz-form","","nzLayout","vertical","nzNoColon","true",3,"formGroup"],[1,"d-flex","flex-wrap"],[1,"col-12","col-lg-3","py-lg-5","pb-3"],[3,"href","target"],["nz-row","",1,"col-12","col-lg-9","py-lg-5","py-2"],["nz-col","",1,"",3,"nzSpan"],["nzFor",""],["nzRequired","",3,"nzErrorTip"],["nz-input","","placeholder","\u8acb\u8f38\u5165",1,"underline",2,"text-transform","uppercase",3,"id","formControlName"],["nzRequired",""],[3,"formControlName","ngModelChange","nzFocus"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"formControlName","ngModelChange"],[1,"error-message","fix-select-err-msg-position"],["nz-input","","placeholder","\u8acb\u8f38\u5165",1,"underline",2,"text-transform","uppercase",3,"formControlName"],[3,"formControlName"],["nz-radio","","nzValue","M"],["nz-radio","","nzValue","F"],["nz-input","","placeholder","\u8acb\u8f38\u5165",1,"underline",3,"id","formControlName"],["nz-row","",2,"align-items","center"],["id","emailFront","nz-input","","rows","1","maxlength","64","placeholder","\u8acb\u8f38\u5165",1,"emailWidth","notes",3,"formControlName","keyup","ngModelChange"],[1,"emailWidth","email-end-box"],[1,"text-blue","text-20"],["id","emailEnd","nz-input","","rows","1","maxlength","50","placeholder","\u8acb\u8f38\u5165",1,"notes",3,"formControlName","keyup","ngModelChange"],["nz-dropdown","","nzTrigger","click",1,"",3,"nzDisabled","nzDropdownMenu"],["nz-icon","","nzType","caret-down",1,"email-caret"],["menu","nzDropdownMenu"],["nz-menu",""],[4,"ngFor","ngForOf"],["nz-row","",2,"color","#d25460","margin-top","3px"],["nz-col","",2,"color","#d25460","margin-top","3px",3,"nzSpan"],["nz-icon","","nzType","exclamation-circle","nzTheme","fill"],["nz-checkbox","",3,"formControlName"],["nz-col","",1,"",3,"hidden","nzSpan"],["nz-checkbox","",3,"formControlName","ngModelChange"],["nz-input","","placeholder","\u8acb\u8f38\u5165",1,"underline",3,"type","formControlName"],["nz-col","",1,"",3,"hidden","nzLg","nzXs"],["nz-icon","","nzType","question-circle","nzTheme","fill","nz-tooltip","",1,"popup-icon",2,"color","#f5a623",3,"nzTooltipTitle","nzTooltipOverlayStyle"],["pwdRule",""],["nz-input","","placeholder","\u8acb\u8f38\u5165",1,"halfSpan",3,"type","formControlName","ngModelChange"],["nz-col","",3,"hidden","nzLg","nzXs"],[1,"steps-btn"],[3,"hidden"],["nz-button","","nzType","primary","nzShape","round",1,"prev-btn","mr-2",3,"click"],["nz-button","","nzType","primary","nzShape","round",1,"next-btn",3,"click"],[3,"nzValue","nzLabel"],["nz-menu-item","",3,"click"],[1,"mb-3"],[1,"popup-title"],[2,"margin","0"]],template:function(e,t){if(1&e&&(f.ac(0,"div",0),f.ac(1,"div",1),f.ac(2,"div",2),f.ac(3,"h4"),f.Oc(4,"\u6703\u54e1\u8cc7\u6599\u4fee\u6539"),f.Zb(),f.ac(5,"p"),f.Oc(6," \u63d0\u9192\u60a8\uff1a \u70ba\u78ba\u4fdd\u60a8\u7684\u4fdd\u55ae\u6b0a\u76ca\uff0c\u60a8\u65bc\u6703\u54e1\u4e2d\u5fc3\u7684\u8cc7\u6599\u4fee\u6539\uff0c\u5c07\u4e0d\u6703\u540c\u6b65\u7570\u52d5\u60a8\u6295\u4fdd\u6642\u65bc\u8981\u4fdd\u6587\u4ef6\u6240\u8f09\u4e4b\u8cc7\u6599\uff0c\u5982\u9700\u8b8a\u66f4\u4fdd\u55ae\u5167\u5bb9\uff0c\u8acb\u4f86\u96fb\u81f3\u5ba2\u670d\u4e2d\u5fc3 0800-020-060#2 \u6216\u89aa\u6d3d\u672c\u516c\u53f8"),f.ac(7,"a",3),f.Oc(8,"\u5168\u7701\u670d\u52d9\u6ac3\u53f0"),f.Zb(),f.Oc(9,"\u8fa6\u7406\u3002 "),f.Zb(),f.Zb(),f.ac(10,"app-expansion-panel",4),f.ac(11,"panel-content"),f.ac(12,"form",5),f.ac(13,"div",6),f.ac(14,"div",7),f.Oc(15," \u3010\u5357\u5c7160\uff0c\u611f\u8b1d\u6709\u4f60\u3011 "),f.Vb(16,"br"),f.Oc(17," \u52a0\u5165\u5357\u5c71\u7522\u7269LINE\u5b98\u65b9\u5e33\u865f\u4e26\u7d81\u5b9a\u6703\u54e1\uff0c\u5373\u53ef\u7dda\u4e0a\u67e5\u8a62\u8eca\u96aa\u4fdd\u55ae\u53ca\u7406\u8ce0\u9032\u5ea6\uff01 "),f.Vb(18,"br"),f.Oc(19," \u524d\u4e00\u842c\u540d\u7d81\u5b9a\u8d08\u9001LINE POINTS ~ "),f.Vb(20,"br"),f.Oc(21," \u9ede\u64ca"),f.ac(22,"a",8),f.Oc(23),f.Zb(),f.Oc(24,"\u7acb\u5373\u52a0\u5165\uff01 "),f.Zb(),f.ac(25,"div",9),f.ac(26,"div",10),f.ac(27,"nz-form-item"),f.ac(28,"nz-form-label",11),f.Oc(29,"\u8eab\u5206\u8b49\u5b57\u865f\uff08\u6703\u54e1\u5e33\u865f\uff09"),f.Zb(),f.ac(30,"nz-form-control",12),f.Vb(31,"input",13),f.Zb(),f.Zb(),f.Zb(),f.ac(32,"div",10),f.ac(33,"nz-form-item"),f.ac(34,"nz-form-label",11),f.Oc(35,"\u51fa\u751f\u65e5\u671f (\u6c11\u570b)"),f.Zb(),f.ac(36,"nz-form-control",14),f.ac(37,"span"),f.ac(38,"nz-select",15),f.ic("ngModelChange",(function(){return t.onDobChange()}))("nzFocus",(function(){return t.onUserDobYearReveal()})),f.Mc(39,he,1,2,"nz-option",16),f.Zb(),f.Oc(40," \u5e74 "),f.ac(41,"nz-select",17),f.ic("ngModelChange",(function(){return t.onDobChange()})),f.Mc(42,fe,1,2,"nz-option",16),f.Zb(),f.Oc(43," \u6708 "),f.ac(44,"nz-select",17),f.ic("ngModelChange",(function(){return t.onDobChange()})),f.Mc(45,ve,1,2,"nz-option",16),f.Zb(),f.Oc(46," \u65e5 "),f.Zb(),f.Zb(),f.ac(47,"span",18),f.Oc(48),f.Zb(),f.Zb(),f.Zb(),f.ac(49,"div",10),f.ac(50,"nz-form-item"),f.ac(51,"nz-form-label",11),f.Oc(52,"\u4e2d\u6587\u59d3\u540d"),f.Zb(),f.ac(53,"nz-form-control",12),f.Vb(54,"input",19),f.Zb(),f.ac(55,"span",18),f.Oc(56),f.Zb(),f.Zb(),f.Zb(),f.ac(57,"div",10),f.ac(58,"nz-form-item"),f.ac(59,"nz-form-label",11),f.Oc(60,"\u6027\u5225"),f.Zb(),f.ac(61,"nz-form-control",12),f.ac(62,"nz-radio-group",20),f.ac(63,"label",21),f.Oc(64,"\u7537"),f.Zb(),f.ac(65,"label",22),f.Oc(66,"\u5973"),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(67,"div",10),f.ac(68,"nz-form-item"),f.ac(69,"nz-form-label",11),f.Oc(70,"\u884c\u52d5\u96fb\u8a71"),f.Zb(),f.ac(71,"nz-form-control",12),f.Vb(72,"input",23),f.Zb(),f.ac(73,"span",18),f.Oc(74),f.Zb(),f.Zb(),f.Zb(),f.ac(75,"div",10),f.ac(76,"nz-form-item"),f.ac(77,"nz-form-label",11),f.Oc(78,"Email"),f.Zb(),f.ac(79,"nz-form-control",14),f.ac(80,"div",24),f.ac(81,"textarea",25),f.ic("keyup",(function(e){return t.textAreaResize(e.target)}))("ngModelChange",(function(){return t.assembleEmail()})),f.Zb(),f.ac(82,"div",26),f.ac(83,"span",27),f.Oc(84,"\uff20"),f.Zb(),f.ac(85,"textarea",28),f.ic("keyup",(function(e){return t.textAreaResize(e.target)}))("ngModelChange",(function(){return t.assembleEmail()})),f.Zb(),f.ac(86,"a",29),f.Vb(87,"i",30),f.Zb(),f.ac(88,"nz-dropdown-menu",null,31),f.ac(90,"ul",32),f.Mc(91,Ce,3,1,"ng-container",33),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(92,"span",18),f.Oc(93),f.Zb(),f.ac(94,"div",34),f.ac(95,"div",35),f.Vb(96,"i",36),f.Oc(97," \u9a57\u8a8d\u78bc\u5c07\u767c\u9001\u5230\u884c\u52d5\u96fb\u8a71\u540c\u6642\u90f5\u5bc4\u81f3e-mail\u4fe1\u7bb1\uff0c\u8acb\u78ba\u5be6\u586b\u5beb\uff0c\u70ba\u907f\u514d\u90f5\u4ef6\u7121\u6cd5\u50b3\u905e\uff0c\u5efa\u8b70\u4f7f\u7528\u975eYahoo\u6216Hotmail\u7684\u5176\u4ed6\u96fb\u5b50\u4fe1\u7bb1\u3002 "),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(98,"div",10),f.ac(99,"nz-form-item"),f.ac(100,"nz-form-control"),f.ac(101,"label",37),f.Oc(102,"\u8a02\u95b1\u96fb\u5b50\u5ee3\u544a\u90f5\u4ef6"),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(103,"div",38),f.ac(104,"nz-form-item"),f.ac(105,"nz-form-control"),f.ac(106,"label",39),f.ic("ngModelChange",(function(e){return t.onPassEditCheckChange(e)})),f.Oc(107,"\u4fee\u6539\u5bc6\u78bc"),f.Zb(),f.Zb(),f.Zb(),f.ac(108,"nz-form-item"),f.ac(109,"nz-form-label",11),f.Oc(110,"\u820a\u5bc6\u78bc"),f.Zb(),f.ac(111,"nz-form-control",12),f.Vb(112,"input",40),f.Zb(),f.ac(113,"span",18),f.Oc(114),f.Zb(),f.Zb(),f.Zb(),f.ac(115,"div",41),f.ac(116,"nz-form-item"),f.ac(117,"nz-form-label",11),f.Oc(118,"\u65b0\u5bc6\u78bc"),f.Vb(119,"i",42),f.Zb(),f.Mc(120,ze,8,0,"ng-template",null,43,f.Nc),f.ac(122,"nz-form-control",12),f.ac(123,"input",44),f.ic("ngModelChange",(function(){return t.onPwdChange()})),f.Zb(),f.Zb(),f.ac(124,"span",18),f.Oc(125),f.Zb(),f.Zb(),f.Zb(),f.ac(126,"div",45),f.ac(127,"nz-form-item"),f.ac(128,"nz-form-label",11),f.Oc(129,"\u78ba\u8a8d\u65b0\u5bc6\u78bc"),f.Zb(),f.ac(130,"nz-form-control",12),f.ac(131,"input",44),f.ic("ngModelChange",(function(){return t.onPwdCkChange()})),f.Zb(),f.Zb(),f.ac(132,"span",18),f.Oc(133),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(134,"div",46),f.ac(135,"div",47),f.ac(136,"button",48),f.ic("click",(function(){return t.prevPage()})),f.Oc(137," \u53d6\u6d88 "),f.Zb(),f.ac(138,"button",49),f.ic("click",(function(){return t.startEdit()})),f.Oc(139," \u9032\u5165\u4fee\u6539 "),f.Zb(),f.Zb(),f.ac(140,"div",47),f.ac(141,"button",48),f.ic("click",(function(){return t.editCancel()})),f.Oc(142," \u53d6\u6d88\u4fee\u6539 "),f.Zb(),f.ac(143,"button",49),f.ic("click",(function(){return t.sendEdit()})),f.Oc(144," \u78ba\u8a8d\u4fee\u6539 "),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb()),2&e){var n=f.Cc(89),r=f.Cc(121);f.Db(10),f.tc("title","\u57fa\u672c\u8cc7\u6599")("useTemplate",!0),f.Db(2),f.tc("formGroup",t.updateForm),f.Db(10),f.tc("href",t.lineURL,f.Gc)("target","_blank"),f.Db(1),f.Pc(t.lineURL),f.Db(3),f.tc("nzSpan",24),f.Db(4),f.tc("nzErrorTip",t.errorMsgList.getFormErrorStr(t.updateForm,t.keys.userID)),f.Db(1),f.tc("id",t.keys.userID)("formControlName",t.keys.userID),f.Db(1),f.tc("nzSpan",24),f.Db(6),f.tc("formControlName","userDob_year"),f.Db(1),f.tc("ngForOf",t.republicEra),f.Db(2),f.tc("formControlName","userDob_month"),f.Db(1),f.tc("ngForOf",t.month),f.Db(2),f.tc("formControlName","userDob_date"),f.Db(1),f.tc("ngForOf",t.days),f.Db(3),f.Qc(" ",t.errorMsgList.getFormDateErrorStr(t.updateForm,t.keys.userDob,"userDob_year","userDob_month","userDob_date")," "),f.Db(1),f.tc("nzSpan",24),f.Db(5),f.tc("formControlName",t.keys.userName),f.Db(2),f.Qc(" ",t.errorMsgList.getFormErrorStr(t.updateForm,t.keys.userName)," "),f.Db(1),f.tc("nzSpan",24),f.Db(4),f.tc("nzErrorTip","\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d"),f.Db(1),f.tc("formControlName",t.keys.userSex),f.Db(5),f.tc("nzSpan",24),f.Db(5),f.tc("id",t.keys.mobile)("formControlName",t.keys.mobile),f.Db(2),f.Qc(" ",t.errorMsgList.getFormErrorStr(t.updateForm,t.keys.mobile)," "),f.Db(1),f.tc("nzSpan",24),f.Db(6),f.tc("formControlName","emailFront"),f.Db(4),f.tc("formControlName","emailEnd"),f.Db(1),f.tc("nzDisabled",!t.canEdit)("nzDropdownMenu",n),f.Db(5),f.tc("ngForOf",t.feqEmailList),f.Db(2),f.Pc(t.errorMsgList.getFormErrorStr(t.updateForm,t.keys.email)),f.Db(2),f.tc("nzSpan",24),f.Db(3),f.tc("nzSpan",24),f.Db(3),f.tc("formControlName",t.keys.dmAccept),f.Db(2),f.tc("hidden",!t.canEdit)("nzSpan",24),f.Db(3),f.tc("formControlName","passEditCheck"),f.Db(6),f.tc("type",t.keys.passW)("formControlName",t.keys.passW),f.Db(2),f.Pc(t.errorMsgList.getFormErrorStr(t.updateForm,t.keys.passW)),f.Db(1),f.tc("hidden",!t.canEdit)("nzLg",8)("nzXs",24),f.Db(4),f.tc("nzTooltipTitle",r)("nzTooltipOverlayStyle",f.wc(62,ye)),f.Db(3),f.tc("nzErrorTip",t.userWdErrorMsg),f.Db(1),f.tc("type",t.keys.passW)("formControlName",t.keys.pass),f.Db(2),f.Pc(t.errorMsgList.getFormErrorStr(t.updateForm,t.keys.pass)),f.Db(1),f.tc("hidden",!t.canEdit)("nzLg",8)("nzXs",24),f.Db(4),f.tc("nzErrorTip",t.userWdCkErrorMsg),f.Db(1),f.tc("type",t.keys.passW)("formControlName",t.keys.passCheck),f.Db(2),f.Pc(t.errorMsgList.getFormErrorStr(t.updateForm,t.keys.passCheck)),f.Db(2),f.tc("hidden",t.canEdit),f.Db(5),f.tc("hidden",!t.canEdit)}},directives:[ce.a,le.a,o.w,o.r,V.b,o.k,T.c,T.a,V.c,V.d,V.a,B.b,o.c,o.q,o.i,ue.d,r.m,me.c,me.b,o.n,de.a,de.b,k.a,pe.a,de.d,ge.c,A.a,be.d,O.a,M.a,ue.a,ge.d],styles:[".underline[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #979797;width:25%}@media (max-width:768px){.underline[_ngcontent-%COMP%]{width:90%}}.emailWidth[_ngcontent-%COMP%]{width:30%}@media (max-width:768px){.emailWidth[_ngcontent-%COMP%]{width:90%}}.email-end-box[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (max-width:768px){.email-end-box[_ngcontent-%COMP%]{margin-top:4px}}.notes[_ngcontent-%COMP%]{resize:none;background-image:linear-gradient(90deg,#fff 10px,rgba(0,0,0,0) 0),linear-gradient(270deg,#fff 10px,rgba(0,0,0,0) 0),linear-gradient(#fff 40px,#979797 0,#979797 41px,#fff 0);background-size:100% 100%,100% 100%,100% 41px;border:none;line-height:41px;padding-bottom:8px}.notes[_ngcontent-%COMP%]:focus{outline:none}.ant-select[_ngcontent-%COMP%]{width:13%}@media (max-width:768px){.ant-select[_ngcontent-%COMP%]{width:70%;margin-top:3px}}.halfSpan[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #979797;width:70%;outline:none}@media (max-width:768px){.halfSpan[_ngcontent-%COMP%]{width:90%}}.steps-btn[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding:25px}@media (max-width:768px){.steps-btn[_ngcontent-%COMP%]{display:block;text-align:center}}.prev-btn[_ngcontent-%COMP%]{color:#fff;background-color:#4b4b4b;width:350px;border:none;height:45px}@media (max-width:768px){.prev-btn[_ngcontent-%COMP%]{margin:15px!important;width:300px}}@media (max-width:370px){.prev-btn[_ngcontent-%COMP%]{margin:15px!important;width:240px}}.next-btn[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(to right bottom,#ef8c51,#d75b11);width:350px;border:none;height:45px}@media (max-width:768px){.next-btn[_ngcontent-%COMP%]{margin:15px;width:300px}}@media (max-width:370px){.next-btn[_ngcontent-%COMP%]{margin:15px!important;width:240px}}.inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto}.banner[_ngcontent-%COMP%]{padding:50px}.banner[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700!important}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:60px}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width:1100px){.banner[_ngcontent-%COMP%]{padding:25px}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px}}"]}),e}(),canActivate:[function(){function e(e,t){this.router=e,this.loginService=t}return e.prototype.canActivate=function(e,t){if(this.loginService.userData)return!0;switch(t.url){case"/html/member/user-info-update":this.router.navigateByUrl("/html/member/login?product=update");break;default:this.router.navigateByUrl("/html/member/login")}return!1},e.\u0275fac=function(t){return new(t||e)(f.ec(F.g),f.ec(S.a))},e.\u0275prov=f.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()]},{path:"register",component:E}],Se=function(){function e(){}return e.\u0275mod=f.Sb({type:e}),e.\u0275inj=f.Rb({factory:function(t){return new(t||e)},imports:[[F.j.forChild(Fe)],F.j]}),e}(),De=n("PCNd");n.d(t,"MemberModule",(function(){return we}));var we=function(){function e(){}return e.\u0275mod=f.Sb({type:e}),e.\u0275inj=f.Rb({factory:function(t){return new(t||e)},providers:[o.k],imports:[[r.c,Se,De.a,o.m,o.u]]}),e}()}}]);