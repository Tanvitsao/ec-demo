(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{oWCn:function(t,e,n){"use strict";n.r(e);var a=n("Valr"),o=n("QJY3"),i=n("PCNd"),c=n("DUip"),r=n("AytR"),s=n("omOQ"),d=n("rtiL"),p=n("GiNM"),l=n("wd/R"),u=n("TYT/"),b=n("X5uw"),g=n("rCsC"),h=n("611w");function m(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"td",9),u.Oc(2),u.Zb(),u.ac(3,"td",10),u.Oc(4),u.Zb(),u.ac(5,"td",11),u.Oc(6),u.Zb(),u.ac(7,"td",12),u.Oc(8),u.Zb(),u.ac(9,"td",13),u.Oc(10),u.Zb(),u.ac(11,"td",14),u.Oc(12),u.Zb(),u.Zb()),2&t){var n=e.$implicit,a=u.lc();u.Db(2),u.Pc(a.period),u.Db(2),u.Pc(n.ProposalNo),u.Db(2),u.Qc(" ",n.PolicyCustomerList[0].CustomerName," "),u.Db(2),u.Qc(" ",n.PolicyCustomerList[1].CustomerName," "),u.Db(2),u.Pc(n.ProductCode),u.Db(2),u.Pc(n.DuePremium)}}var f=function(){function t(){}return t.prototype.ngOnInit=function(){this.period=l(this.data.EffectiveDate).format("YYYY-MM-DD")+" ~ "+l(this.data.ExpiryDate).format("YYYY-MM-DD"),this.policyDetail=[this.data]},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Ob({type:t,selectors:[["app-policy-detail-modal"]],decls:23,vars:4,consts:[[1,"background-zone"],[1,"inner-container"],[1,"content-box"],[3,"title","headerHint","useTemplate"],[1,"table","table991","thead-blue"],["policyDetailTable",""],[1,"custom-thead"],["scope","col"],[4,"ngFor","ngForOf"],["data-title","\u4fdd\u96aa\u671f\u9593"],["data-title","\u5831\u50f9/\u4fdd\u55ae\u865f\u78bc"],["data-title","\u8981\u4fdd\u4eba"],["data-title","\u88ab\u4fdd\u96aa\u4eba"],["data-title","\u96aa\u7a2e\u540d\u7a31"],["data-title","\u4fdd\u8cbb"]],template:function(t,e){1&t&&(u.ac(0,"div",0),u.ac(1,"div",1),u.ac(2,"div",2),u.ac(3,"app-expansion-panel",3),u.ac(4,"panel-content"),u.ac(5,"table",4,5),u.ac(7,"thead",6),u.ac(8,"tr"),u.ac(9,"th",7),u.Oc(10,"\u4fdd\u96aa\u671f\u9593"),u.Zb(),u.ac(11,"th",7),u.Oc(12,"\u5831\u50f9/\u4fdd\u55ae\u865f\u78bc"),u.Zb(),u.ac(13,"th",7),u.Oc(14,"\u8981\u4fdd\u4eba"),u.Zb(),u.ac(15,"th",7),u.Oc(16,"\u88ab\u4fdd\u96aa\u4eba"),u.Zb(),u.ac(17,"th",7),u.Oc(18,"\u96aa\u7a2e\u540d\u7a31"),u.Zb(),u.ac(19,"th",7),u.Oc(20,"\u4fdd\u8cbb"),u.Zb(),u.Zb(),u.Zb(),u.ac(21,"tbody"),u.Mc(22,m,13,6,"tr",8),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb()),2&t&&(u.Db(3),u.tc("title","\u4fdd\u55ae\u660e\u7d30")("headerHint","")("useTemplate",!0),u.Db(19),u.tc("ngForOf",e.policyDetail))},directives:[b.a,g.a,h.f,h.g,h.a,h.e,h.d,a.m],styles:[".inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto;padding:12px}.banner[_ngcontent-%COMP%]{padding:50px}.banner[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700!important}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:60px}@media (max-width:1100px){.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px}}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width:1100px){.banner[_ngcontent-%COMP%]{padding:20px}}.content-box[_ngcontent-%COMP%]{margin:20px 0}"]}),t}(),O=n("E1rE"),y=n("R08+"),P=n("67Y/"),C=n("ThRj"),v=function(t){return t.tempSave100="100",t.tempSave="10",t.pending="200",t.inprogress="300",t.inform="400",t.reject="500",t.unUnderwriting="600",t.unRenewal="700",t.cancelRenewal="710",t.issued="3",t}({}),M=n("/dic"),Z=function(){function t(t,e){this.networkingService=t,this.messageService=e}return t.prototype.queryPolicyList=function(t){var e=this;return this.networkingService.eBaoRequest(C.a.POST,"/nanshan/1.0/nanshan-pa/portal/v1/queryPolicy",t).pipe(Object(P.a)((function(t){var n=t.getData();return 0===n.length&&e.messageService.alert("\u60a8\u7121\u4efb\u4f55\u5df2\u6295\u4fdd\u4e4b\u6709\u6548\u4fdd\u55ae"),n})))},t.prototype.loadPolicy=function(t){return this.networkingService.eBaoRequest(C.a.POST,"/nanshan/1.0/nanshan-pa/proposal/v1/loadByCondition",{PolicyId:t}).pipe(Object(P.a)((function(t){return t.getData()})))},t.prototype.queryRenewalList=function(t){return this.networkingService.eBaoRequest(C.a.POST,"/nanshan/1.0/nanshan-pa/portal/v1/queryProposal",{ProductCode:"VAC",PolicyHolderId:t}).pipe(Object(P.a)((function(t){return t.getData().reduce((function(t,e,n,a){return 0!==a.filter((function(t){return"2"===t.PolicyType&&t.LastPolicyNo===e.ProposalNo&&t.Status===v.issued})).length?t:t.concat(e)}),[]).filter((function(t){return t.PolicyHolderId===t.PolicyInsuredId&&("0611118"===t.CommissionAgentCode||"0610998"===t.CommissionAgentCode)&&t.Status===v.issued&&l(t.ExpiryDate).isSameOrAfter(l())&&l(t.ExpiryDate).isSameOrBefore(l().add(2,"month"))}))})))},t.\u0275fac=function(e){return new(e||t)(u.ec(C.b),u.ec(M.a))},t.\u0275prov=u.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),D=n("SloE");function w(t,e){if(1&t&&(u.ac(0,"tr",11),u.ac(1,"td",12),u.Oc(2),u.Zb(),u.ac(3,"td",13),u.Oc(4),u.Zb(),u.ac(5,"td",14),u.Oc(6),u.Zb(),u.ac(7,"td",15),u.Oc(8),u.Zb(),u.ac(9,"td",16),u.Oc(10,"\u75ab\u82d7\u4fdd\u96aa"),u.Zb(),u.ac(11,"td",17),u.Oc(12),u.Zb(),u.Zb()),2&t){var n=e.$implicit,a=u.lc();u.Db(2),u.Rc(" ",a.moment(n.EffectiveDate).format("YYYY-MM-DD 00:00:00")," ~ ",a.moment(n.ExpiryDate).format("YYYY-MM-DD 00:00:00")," "),u.Db(2),u.Qc(" ",n.PolicyNo," "),u.Db(2),u.Qc(" ",n.PolicyHolderName," "),u.Db(2),u.Pc(n.PolicyInsuredName),u.Db(4),u.Qc(" ",n.DuePremium," ")}}var x=[{path:"",component:function(){function t(t,e,n,a,o,i,c,s){this.meta=t,this.title=e,this.nzModalService=n,this.manageService=a,this.messageService=o,this.loginService=i,this.storage=c,this.networkingService=s,this.policyList=[],this.moment=l,this.title.setTitle("\u75ab\u82d7\u4fdd\u96aa\uff5c\u6295\u4fdd\u9032\u5ea6\uff5c\u5357\u5c71\u7522\u7269"),this.meta.updateTag({name:"keyword",content:"\u5357\u5c71\u7522\u7269\uff0c\u4fdd\u96aa\uff0c\u7db2\u8def\u6295\u4fdd\uff0c\u75ab\u82d7\uff0c\u6295\u4fdd\u9032\u5ea6"}),this.meta.updateTag({name:"description",id:"HtmlMetaDescription",content:"\u5357\u5c71\u7522\u7269\u611b\u6ce8\u75ab\u75ab\u82d7\u4fdd\u96aa182\u7db2\u8def\u6295\u4fdd\u5c08\u6848\uff08\u50c5\u958b\u653e\u904e\u5f80\u66fe\u6295\u4fdd\u904e\u5357\u5c71\u75ab\u82d7\u96aa\u5ba2\u6236\u627f\u4fdd\uff09\uff0c\u63d0\u4f9b\u4f4f\u9662\u65e5\u984d\u4fdd\u96aa\u91d1\u3001\u4f4f\u9662\u95dc\u61f7\u4fdd\u96aa\u91d1\u53ca\u8eab\u6545\u6baf\u846c\u4fdd\u96aa\u91d130\u842c\u5143\uff0c\u6295\u4fdd\u9032\u5ea6\u67e5\u8a62\u3002"}),this.meta.updateTag({name:"author",content:"\u5357\u5c71\u7522\u7269"}),this.meta.updateTag({property:"og:title",content:"\u75ab\u82d7\u4fdd\u96aa\uff5c\u6295\u4fdd\u9032\u5ea6\uff5c\u5357\u5c71\u7522\u7269"}),this.meta.updateTag({property:"og:url",content:r.a.url+"/nanshanEC/html/vaccine-insurance/management"}),this.meta.updateTag({property:"og:description",content:"\u5357\u5c71\u7522\u7269\u611b\u6ce8\u75ab\u75ab\u82d7\u4fdd\u96aa182\u7db2\u8def\u6295\u4fdd\u5c08\u6848\uff08\u50c5\u958b\u653e\u904e\u5f80\u66fe\u6295\u4fdd\u904e\u5357\u5c71\u75ab\u82d7\u96aa\u5ba2\u6236\u627f\u4fdd\uff09\uff0c\u63d0\u4f9b\u4f4f\u9662\u65e5\u984d\u4fdd\u96aa\u91d1\u3001\u4f4f\u9662\u95dc\u61f7\u4fdd\u96aa\u91d1\u53ca\u8eab\u6545\u6baf\u846c\u4fdd\u96aa\u91d130\u842c\u5143\uff0c\u6295\u4fdd\u9032\u5ea6\u67e5\u8a62\u3002"}),this.meta.updateTag({property:"og:type",content:"website"})}return Object.defineProperty(t.prototype,"user",{get:function(){return this.loginService.userData},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.storage.getData(s.a.token,d.b.SESSION)||this.networkingService.getEBaoToken(),this.user&&this.user.getUserId()?this.getPolicyList():this.showLoginModal()},t.prototype.ngOnDestroy=function(){},t.prototype.showLoginModal=function(){var t=this;this.ref=this.nzModalService.create({nzContent:p.a,nzClosable:!1,nzStyle:{width:"400px",height:"900px"},nzFooter:null,nzMaskClosable:!1,nzComponentParams:{currentPage:"login",product:"vaccine"},nzOnCancel:function(e){"pwd"===e.currentPage&&(e.onParentPageChange("login"),t.showLoginModal())},nzOnOk:function(){t.getPolicyList()}})},t.prototype.getPolicyList=function(){var t=this,e={productCode:"VAC",PolicyHolderId:this.user.getUserId()};this.manageService.queryPolicyList(e).subscribe((function(e){t.policyList=e}))},t.prototype.policyDetail=function(t){var e=this;this.manageService.loadPolicy(t).subscribe((function(t){e.nzModalService.create({nzClosable:!1,nzFooter:null,nzWidth:"90%",nzContent:f,nzComponentParams:{data:t},nzOnOk:function(){return console.log("modal click ok")}})}))},t.\u0275fac=function(e){return new(e||t)(u.Ub(O.d),u.Ub(O.e),u.Ub(y.e),u.Ub(Z),u.Ub(M.a),u.Ub(D.a),u.Ub(d.a),u.Ub(C.b))},t.\u0275cmp=u.Ob({type:t,selectors:[["ng-component"]],decls:26,vars:4,consts:[[1,"background-zone"],[1,"inner-container"],[1,"banner"],[1,"content-box"],[3,"title","headerHint","useTemplate"],[1,"table","table991","thead-blue"],["policyTable",""],[1,"custom-thead"],["scope","col"],["scope","col",1,"text-lg-center"],["class","tr-hover",4,"ngFor","ngForOf"],[1,"tr-hover"],["data-title","\u4fdd\u96aa\u671f\u9593"],["data-title","\u5831\u50f9/\u4fdd\u55ae\u865f\u78bc"],["data-title","\u8981\u4fdd\u4eba"],["data-title","\u88ab\u4fdd\u96aa\u4eba"],["data-title","\u96aa\u7a2e\u540d\u7a31",1,"text-lg-center"],["data-title","\u4fdd\u8cbb",1,"text-lg-center"]],template:function(t,e){1&t&&(u.ac(0,"div",0),u.ac(1,"div",1),u.ac(2,"div",2),u.ac(3,"h4"),u.Oc(4,"\u6211\u7684\u4fdd\u55ae-\u75ab\u82d7\u96aa"),u.Zb(),u.Zb(),u.ac(5,"div",3),u.ac(6,"app-expansion-panel",4),u.ac(7,"panel-content"),u.ac(8,"table",5,6),u.ac(10,"thead",7),u.ac(11,"tr"),u.ac(12,"th",8),u.Oc(13,"\u4fdd\u96aa\u671f\u9593"),u.Zb(),u.ac(14,"th",8),u.Oc(15,"\u5831\u50f9/\u4fdd\u55ae\u865f\u78bc"),u.Zb(),u.ac(16,"th",8),u.Oc(17,"\u8981\u4fdd\u4eba"),u.Zb(),u.ac(18,"th",8),u.Oc(19,"\u88ab\u4fdd\u96aa\u4eba"),u.Zb(),u.ac(20,"th",9),u.Oc(21,"\u96aa\u7a2e\u540d\u7a31"),u.Zb(),u.ac(22,"th",9),u.Oc(23,"\u4fdd\u8cbb"),u.Zb(),u.Zb(),u.Zb(),u.ac(24,"tbody"),u.Mc(25,w,13,6,"tr",10),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb()),2&t&&(u.Db(6),u.tc("title","\u4fdd\u55ae\u5217\u8868")("headerHint","\u672c\u5217\u8868\u50c5\u63d0\u4f9b\u301d\u91d1\u75ab\u82d71.0\u301e\u301d\u611b\u6ce8\u75ab\u301e\u4fdd\u55ae\u67e5\u8a62")("useTemplate",!0),u.Db(19),u.tc("ngForOf",e.policyList))},directives:[b.a,g.a,h.f,h.g,h.a,h.e,h.d,a.m],styles:[".inner-container[_ngcontent-%COMP%]{max-width:1200px;margin:auto;padding:12px}.banner[_ngcontent-%COMP%]{padding:50px}.banner[_ngcontent-%COMP%], .banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700!important}.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:60px}@media (max-width:1100px){.banner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:25px}}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width:1100px){.banner[_ngcontent-%COMP%]{padding:20px}}.content-box[_ngcontent-%COMP%]{margin:20px 0}.tr-hover[_ngcontent-%COMP%]:hover{background-color:#dcdcdc}"]}),t}()}],S=function(){function t(){}return t.\u0275mod=u.Sb({type:t}),t.\u0275inj=u.Rb({factory:function(e){return new(e||t)},imports:[[c.j.forChild(x)],c.j]}),t}();n.d(e,"VaccineInsuranceModule",(function(){return _}));var _=function(){function t(){}return t.\u0275mod=u.Sb({type:t}),t.\u0275inj=u.Rb({factory:function(e){return new(e||t)},providers:[o.k],imports:[[a.c,i.a,o.m,o.u,S]]}),t}()}}]);